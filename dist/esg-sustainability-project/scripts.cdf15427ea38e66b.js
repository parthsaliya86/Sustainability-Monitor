(()=>{var ue={1471:()=>{Smart("smart-accordion-item",class extends Smart.ContentElement{static get properties(){return{dragged:{value:!1,type:"boolean"},expanded:{value:!1,type:"boolean"},focused:{value:!1,type:"boolean"},index:{value:null,type:"number?"},label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}static get listeners(){return{"accordionItemHeader.mouseenter":"_headerMouseEnterHandler","accordionItemHeader.mouseleave":"_headerMouseLeaveHandler","accordionItemHeader.down":"_ripple"}}template(){return'<div id="container" role="presentation">\n                    <div id="accordionItemHeader" class="smart-accordion-item-header smart-unselectable" role="heading" aria-level="1">\n                        <span id="arrow" class="smart-arrow" role="presentation" aria-hidden="true"></span>\n                        <span id="label" class="smart-label" inner-h-t-m-l=\'[[label]]\' role="button"></span>\n                    </div>\n                    <div id="accordionItemContent" class="smart-accordion-item-content">\n                        <div id="contentContainer" class="smart-content-container" role="presentation"><content></content></div>\n                    </div>\n                </div>'}render(){const t=this;let e;e=t.id?t.id+"Content":t.parentElement&&t.parentElement.parentElement&&t.parentElement.parentElement.id?t.parentElement.parentElement.id+Math.floor(1e4*Math.random())+"Content":"accordion"+Math.floor(1e4*Math.random())+"Content",t.$.accordionItemContent.id=e,t.$.label.setAttribute("aria-controls",e),super.render()}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;if("expanded"===t){a.$.label.setAttribute("aria-expanded",n);const o=a.parentElement&&a.parentElement.parentElement?a.parentElement.parentElement.expandMode:a.shadowParent.expandMode;return"multiple"===o||"toggle"===o?void 0:void(n?a.$.label.setAttribute("aria-disabled",!0):a.$.label.removeAttribute("aria-disabled"))}if(e=parseInt(e),n=parseInt(n),"index"!==t||isNaN(e)||isNaN(n))return;const s=a.parentElement.parentElement._items.length;n<0?n=0:n>=s&&(n=s-1),n!==e&&a.$.fireEvent("indexChange",{newIndex:n,oldIndex:e}),a.index=n}_headerMouseEnterHandler(){this.disabled||this.setAttribute("hover","")}_headerMouseLeaveHandler(){this.disabled||this.removeAttribute("hover")}_ripple(t){const e=this;e.disabled||e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(e.$.container,t.pageX,t.pageY)}_setIndex(t){const e=this,n=e.context;e.context=e,e.index=t,e.context=n}focus(){super.focus(),this.setAttribute("focus","")}blur(){super.blur(),this.removeAttribute("focus")}}),Smart("smart-accordion",class extends Smart.BaseElement{static get properties(){return{dataSource:{value:null,type:"array?",reflectToAttribute:!1},expandedIndexes:{value:[],type:"array"},expandMode:{allowedValues:["single","singleFitHeight","multiple","toggle","none"],value:"singleFitHeight",type:"string"},messages:{extend:!0,value:{en:{accordionItemRequired:'{{elementType}}: "{{method}}" requires an item from type "smart-accordion-item".',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',missingReference:"{{elementType}}: Missing reference to {{files}}.",noItems:"{{elementType}}: No child elements found.",overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.'}},type:"object"},reorder:{value:!1,type:"boolean"}}}static get listeners(){return{down:"_downHandler",focus:"_focusHandler",indexChange:"_indexChangeHandler",keydown:"_keyDownHandler",move:"_moveHandler",resize:"_resizeHandler",styleChanged:"_resizeHandler","document.up":"_upHandler","container.move":"_containerMoveHandler"}}template(){return'<div id="container" role="presentation">\n                    <content></content>\n                </div>'}static get styleUrls(){return["smart.accordion.css"]}ready(){super.ready()}render(){this._createElement(),super.render()}propertyChangedHandler(t,e,n){const a=this;if("expandedIndexes"===t){if(e.toString()===n.toString())return;let o=[];if(a._items.length>0)for(let f=0;f<n.length;f++){let m=parseInt(n[f]);if(!isNaN(m)){if(a._expandModeIs(["single","singleFitHeight","toggle"])){o.length<1&&m>=0&&m<a._items.length&&o.push(m);break}m>=0&&m<=a._items.length&&-1===o.indexOf(m)&&o.push(m)}}if(0===o.length&&a._expandModeIs(["single","singleFitHeight"]))return n=e.slice(),a.expandedIndexes=n,void super.propertyChangedHandler(t,e,n);const d=a._compareExpandedIndexes(e,n=o);return a._toggleItems("collapse",d.collapse),a._toggleItems("expand",d.expand),a.expandedIndexes=n,void super.propertyChangedHandler(t,e,n)}switch(super.propertyChangedHandler(t,e,n),t){case"dataSource":a.render();break;case"disabled":a._setFocusable(),a._enableDisableHandler();break;case"expandMode":{if(0===a._items.length)break;if("multiple"===e&&"none"!==n||"none"===e&&"multiple"!==n){const d=a.expandedIndexes.slice(1);a._toggleItems("collapse",d),0===a.expandedIndexes.length&&a._expandModeIs(["single","singleFitHeight"])&&s()}else"toggle"===e&&a._expandModeIs(["single","singleFitHeight"])&&0===a.expandedIndexes.length&&s();const o=a.expandedIndexes[0];if(void 0===o)return;a._supportCSSVariables&&a._usedCSSVariables||("singleFitHeight"===e?a._items[o].$.accordionItemContent.style.height="":"singleFitHeight"===n&&(a._items[o].$.accordionItemContent.style.height=a._expandedItemsContainerHeight-1+"px")),"multiple"===n||"toggle"===n?a._items[o].$.label.removeAttribute("aria-disabled"):a._items[o].$.label.setAttribute("aria-disabled",!0);break}case"unfocusable":a._setFocusable()}function s(){a._toggleItems("expand",[0]),a.expandedIndexes=[0]}}appendChild(t){const e=this;if(!e.isCompleted||t instanceof HTMLElement&&(t.classList.contains("smart-resize-trigger-container")||t.classList.contains("smart-measure-element"))){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t instanceof Smart.AccordionItem||e.error(e.localize("accordionItemRequired",{method:"appendChild"})),e.insert(e._items.length,t)}collapse(t,e){const n=this;t=n._validateItemsIndex(t,"collapse"),isNaN(t)||!n._items[t].expanded||n._expandModeIs(["single","singleFitHeight"])&&n.expandedIndexes.indexOf(t)>-1||n._collapseItem(t,e)}expand(t,e){const n=this;t=n._validateItemsIndex(t,"expand"),isNaN(t)||n._items[t].expanded||(n._expandModeIs(["single","singleFitHeight","toggle"])&&n._toggleItems("collapse",n.expandedIndexes),n._expandItem(t,e))}insert(t,e){const n=this,a=0===n._items.length;let s,o;if(e||("number"==typeof t?e=[{label:"",content:""}]:(e=[{label:t?t.toString():"",content:t?t.toString():""}],t=0)),e instanceof HTMLElement)e instanceof Smart.AccordionItem?s=e:n.error(n.localize("accordionItemRequired",{method:"insert"}));else if(Array.isArray(e)){o=document.createDocumentFragment();for(let d=0;d<e.length;d++){const f=n._createItem(e[d]);o.appendChild(f)}}else s=n._createItem(e instanceof Object?e:"string"==typeof e||"number"==typeof e?{label:e.toString(),content:e.toString()}:{label:"",content:""});t>n._items.length?n.$.container.appendChild(s||o):n.$.container.insertBefore(s||o,n._items[t]),s&&(s.tabIndex=n._tabIndex),n._storeItems(),a&&n._expandModeIs(["single","singleFitHeight"])?n._expandItem(0):n.expandedIndexes=n._getExpandedIndexes(),n._updateExpanedContentHeight(),n._updateInlineHeight(),n._storeItemsCoordinates(),n._updateItemsIndexProperty()}insertBefore(t,e){const n=this;if(!n.isCompleted){const a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,a.concat(Array.prototype.slice.call(arguments)))}void 0!==t&&void 0!==e&&t instanceof Smart.AccordionItem&&e instanceof Smart.AccordionItem||n.error(n.localize("accordionItemRequired",{method:"insertBefore"})),null!=e&&(n.contains(e)||n.error(n.localize("referenceNodeNotChild",{argument:"referenceNode"}))),n.insert(n._items.indexOf(e),t)}removeAt(t){const e=this;let n;if(t instanceof HTMLElement)t instanceof Smart.AccordionItem?e.contains(t)||e.error(e.localize("referenceNodeNotChild",{argument:"node"})):e.error(e.localize("accordionItemRequired",{method:"remove"})),n=t,t=n.index;else{if(t=e._validateItemsIndex(t,"remove"),isNaN(t))return;n=e._items[t]}n&&(n.parentNode.removeChild(n),e._storeItems(),e._expandModeIs(["singleFitHeight"])&&(e._preventAnimation=!0),e._expandModeIs(["single","singleFitHeight"])&&t===e.expandedIndexes[0]&&e._items.length>0&&(e._expandItem(0),e._selectedItem=e._items[0],e._selectedItemIndex=0,e._itemIsFocussed=!0),e.expandedIndexes=e._getExpandedIndexes(),e._updateExpanedContentHeight(),e._updateInlineHeight(),e._storeItemsCoordinates(),e._updateItemsIndexProperty())}removeChild(t){const e=this;if(!e.isCompleted){const n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(e,n.concat(Array.prototype.slice.call(arguments)))}t instanceof HTMLElement||e.error(e.localize("accordionItemRequired",{method:"removeChild"})),"smart-resize-trigger-container"!==t.className?(t instanceof Smart.AccordionItem||e.error(e.localize("accordionItemRequired",{method:"removeChild"})),e.contains(t)||e.error(e.localize("referenceNodeNotChild",{argument:"node"})),e.removeAt(t)):super.removeChild(t)}_setFocusable(){const t=this;if(t.disabled||t.unfocusable){t.removeAttribute("tabindex");for(let e=0;e<t._items.length;e++)t._items[e].removeAttribute("tabindex")}else{t.tabIndex=t._tabIndex;for(let e=0;e<t._items.length;e++)t._items[e].tabIndex=t._tabIndex}}update(t,e){const n=this;if(t=n._validateItemsIndex(t,"update"),isNaN(t))return;let a=n._items[t];if(e||n.error(n.localize("invalidSettings",{elementType:n.nodeName.toLowerCase(),method:"update"})),a)if(Array.isArray(e)&&(e=0===e.length?{label:"",content:""}:e[0]),"string"==typeof e)a.content=e;else for(let o in e)a[o]=e[o];const s=n._getItemsHeights(t);n._updateExpanedContentLocalHeight(n._items[t],s),n._updateInlineHeight(),n._storeItemsCoordinates()}_adjustHeightValue(t){const e=this,n=e._items.length;let a,s;for(let y=0;y<n&&(e._items[y].expanded?a=e._items[y]:s=e._items[y],!a||!s);y++);if(a||(a=e._items[0]),!a&&!s)return;const o=a.expanded;a.expanded=!0;const d=window.getComputedStyle(a,null),f=!!s&&window.getComputedStyle(s,null),m=parseInt(d.getPropertyValue("margin-top"))+parseInt(d.getPropertyValue("margin-bottom")),u=f?parseInt(f.getPropertyValue("margin-top"))+parseInt(f.getPropertyValue("margin-bottom")):0;return a.expanded=o,t-((n-1)*u+m)}_collapseItem(t,e){const n=this;let a=n._items[t];if(a.expanded&&("none"!==n.expandMode||!e)){if(a.expanded=!1,n.$.fireEvent("collapsing",{index:t,label:a.label,content:a.content.innerHTML}),n.expandedIndexes.indexOf(t)>-1){let s=n.expandedIndexes.indexOf(t),o=n.expandedIndexes.slice();o.splice(s,1),n.expandedIndexes=o}a.$.accordionItemContent.style.height="",n._handleAnimationsDuration(a,t,"collapse")}}_compareExpandedIndexes(t,e){let n=[],a=[],s=[],o=t.length,d=e.length;for(let f=0;f<o;f++)-1===e.indexOf(t[f])?-1===n.indexOf(t[f])&&n.push(t[f]):-1===a.indexOf(t[f])&&a.push(t[f]);for(let f=0;f<d;f++)-1===a.indexOf(e[f])&&s.push(e[f]);return{collapse:n,expand:s}}_processDataSource(){const t=this.dataSource;if(null===t||!t)return;let e="";for(let a=0;a<t.length;a++)e+=`<smart-accordion-item label="${(n=t[a]).label}">${n.content}</smart-accordion-item>`;var n;this.$.container.innerHTML=e}_createElement(){const t=this;null!==t.dataSource&&t._processDataSource(),t._reorderItemsByIndex(),t._usedCSSVariables=Boolean(window.getComputedStyle(t.$.container).getPropertyValue("--smart-accordion-animation-duration")),t._supportCSSVariables=Smart.Utilities.Core.CSSVariablesSupport(),t._storeItems(),t._enableDisableHandler(),t._expandedIndexesHandler(),t._updateExpanedContentHeight(),t._tabIndex=t.tabIndex<=0?0:t.tabIndex,t._setFocusable(),t._updateItemsIndexProperty(),t._updateInlineHeight();for(let e=0;e<t._items.length;e++)t._items[e].setAttribute("part","smart-accordion-item"),t._items[e].$.arrow.classList.add("smart-animate-trigger")}_createItem(t){const e=this,n=document.createElement("smart-accordion-item");if(t)return n.disabled=e.disabled,e._tabIndex>-1&&(n.tabIndex=e._tabIndex),"string"==typeof t||"number"==typeof t?(n.label=t+"",n.content=t+"",n):(n.label=t.label||"",n.content=t.content||"",n)}_downHandler(t){const e=this;if(e.disabled||e.readonly||"none"===e.expandMode||e._toggled)return;const n=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.elementFromPoint(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset):t.originalEvent.target,a=n.closest(".smart-accordion-item-header"),s=n.closest("smart-accordion-item");a?(e._pointerPosition=t.pageY-window.pageYOffset,e._selectedItem=s,e._itemIsPressed=e._itemIsFocussed=!0,e._reorderedIndex=e._selectedItemIndex=e._items.indexOf(s),e._storeItemsCoordinates()):s&&(s.focused=!0)}_enableDisableHandler(){const t=this;if(t.disabled)for(let e=0;e<t._items.length;e++)t._items[e].disabled=!0;else for(let e=0;e<t._items.length;e++)t._items[e].disabled=!1}_expandedIndexesHandler(){const t=this;let e=t._getExpandedIndexes("initial"),n=e.length,a=t.expandedIndexes.length;if(0!==t._items.length){if(0===a&&n>0&&(t.expandedIndexes=e,a=n),t._expandModeIs(["multiple","none"])||1===a)return t._toggleItems("expand",t.expandedIndexes),void(t._animationAfterInitialization=!0);switch(t.expandMode){case"single":case"singleFitHeight":0===a?t._toggleItems("expand",[0]):a>1&&(t._toggleItems("collapse",t.expandedIndexes.splice(0,1)),t._toggleItems("expand",t.expandedIndexes));break;case"toggle":a>1&&(t._toggleItems("collapse",t.expandedIndexes.splice(0,1)),t._toggleItems("expand",t.expandedIndexes))}t._animationAfterInitialization=!0}else t._animationAfterInitialization=!0}_expandItem(t,e){const n=this;let a=n._items[t];if(!(a.expanded||"none"===n.expandMode&&e)){if(a.$.container.style.getPropertyValue("--smart-accordion-expanded-content-local-height")||(a.expanded=!0,a.$.container.style.setProperty("--smart-accordion-expanded-content-local-height",a.$.accordionItemContent.scrollHeight+"px"),a.expanded=!1),a.expanded=!0,n.$.fireEvent("expanding",{index:t,label:a.label,content:a.content.innerHTML}),-1===n.expandedIndexes.indexOf(t)){let s=n.expandedIndexes.slice();s.push(t),n.expandedIndexes=s}n._supportCSSVariables&&n._usedCSSVariables||"singleFitHeight"!==n.expandMode||(a.$.accordionItemContent.style.height=n._expandedItemsContainerHeight-1+"px"),n._handleAnimationsDuration(a,t,"expand")}}_expandModeIs(t){return t.indexOf(this.expandMode)>-1}_focusHandler(){const t=this;t.disabled||0===t._items.length||(t._itemIsFocussed?t._selectedItem.focused=!1:t._items[0].focused=!1)}_getExpandedIndexes(t){const e=this,n=[];for(let a=0;a<e._items.length;a++)"initial"===t?e._items[a].hasAttribute("expanded")&&(n.push(a),e._items[a].removeAttribute("expanded")):e._items[a].expanded&&n.push(a);return n.slice()}_getItemsHeights(t){const e=this._items,n=e.length;let a=[];if(0!==n){if(!isNaN(t)&&t>=0&&t<n){const s=e[t];let o=0;return s.expanded?o=s.$.accordionItemContent.scrollHeight:(s.expanded=!0,o=s.$.accordionItemContent.scrollHeight,s.expanded=!1),o+"px"}for(let s=0;s<n;s++){const o=e[s];let d=0;o.expanded?d=o.$.accordionItemContent.scrollHeight:(o.expanded=!0,d=o.$.accordionItemContent.scrollHeight,o.expanded=!1),a.push(d+"px")}return this._heightCalcAfterInitialization=!0,a}}_handleAnimationsDuration(t,e,n){const a=this;if(!a._animationAfterInitialization)return;if(1===a._items.length&&"singleFitHeight"===a.expandMode)return void a.$.fireEvent(n,{index:e,label:t.label,content:t.content.innerHTML});if(!1===a.hasAnimation||!a._supportCSSVariables)return void a.$.fireEvent(n,{index:e,label:t.label,content:t.content.innerHTML});if(a._preventAnimation)return a.$.fireEvent(n,{index:e,label:t.label,content:t.content.innerHTML}),void(a._preventAnimation=!1);a._toggled=!0;let s,o=window.getComputedStyle(a).animationDuration;if(o.indexOf("ms")>-1)o=parseFloat(o.substring(0,o.length-2)),s=isNaN(o)||o<0?0:o-50;else{if(!(o.indexOf("s")>-1))return void a.$.fireEvent(n,{index:e,label:t.label,content:t.content.innerHTML});o=parseFloat(o.substring(0,o.length-1)),s=isNaN(o)||o<0?0:1e3*o-50}t&&(t.$.addClass("smart-toggled-item"),a.$container.addClass("smart-toggling"),setTimeout(function(){t.$.removeClass("smart-toggled-item"),a.$container.removeClass("smart-toggling"),a.$.fireEvent(n,{index:e,label:t.label,content:t.content.innerHTML}),a._toggled=!1},s))}_indexChangeHandler(t){const e=this,n=e._items,s=t.detail;s.newIndex>=n.length?e.$.container.appendChild(n[s.oldIndex]):e.$.container.insertBefore(n[s.oldIndex],s.newIndex>s.oldIndex?n[s.newIndex+1]:n[s.newIndex]);let o=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.querySelectorAll("smart-accordion-item"):e.getElementsByTagName("smart-accordion-item");e._items=Array.from(o),e._updateItemsIndexProperty()}_keyDownHandler(t){const e=this,n=t.key;if("none"===e.expandMode||e.disabled||e.readonly||e._toggled)return;const a=(e.shadowRoot?e.shadowRoot.activeElement:document.activeElement)||document.activeElement;if(-1===["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home"," ","Enter","Tab"].indexOf(n)||!(a instanceof Smart.AccordionItem))return;"Tab"!==n&&t.preventDefault();let s,o,d=e._items.length,f=d-1;for(let y=0;y<d;y++){let v=e._items[y];v.focused&&(s=v,o=y)}switch(void 0===o&&e._items[0]&&(o=0,e._items[0].focused=!0),n){case"Tab":u(t.shiftKey?"up":"down");break;case"ArrowLeft":e.collapse(o);break;case"ArrowDown":u("down");break;case"ArrowRight":e.expand(o);break;case"ArrowUp":u("up");break;case"End":m(f);break;case"Home":m(0);break;case" ":case"Enter":if(s&&s.expanded)return void e.collapse(o);e.expand(o);break;default:return}function m(y){y===o||isNaN(y)||(s&&(s.focused=!1),o=y,s=e._items[o],s&&(s.focused=!0))}function u(y){m("up"!==y?o+1>f?f:o+1:o-1<0?0:o-1)}}_containerMoveHandler(t){"touchmove"===t.originalEvent.type&&t.originalEvent.preventDefault()}_moveHandler(t){const e=this;if(t.stopPropagation(),!(!e._itemIsPressed||!e.reorder||e.readonly||e._items.length<2||!e.$container.hasClass("smart-reordering")&&Math.abs(t.pageY-e._pointerPosition)<5))if(e._dragStart){if(e.$container.hasClass("smart-reordering")||e.$container.addClass("smart-reordering"),!e._dragging){const o=e._selectedItem;e.$.fireEvent("dragStart",{position:{left:t.pageX,top:t.pageY},target:t.originalEvent.target,index:e._selectedItemIndex,label:o.label,content:o.content.innerHTML}),e._selectedItem.dragged=e._dragging=!0}if(e.hasAnimation){const o=e._selectedItem.querySelector(".smart-ripple");o&&(o.style.height=0)}const n=t.clientY;let a=!1;for(let o=0;o<e._itemsCoordinates.length;o++){const d=e._itemsCoordinates[o];if(n>=d.fromY&&n<=d.toY){a=o;break}}const s=e._items[a];if(!1!==a&&s!==e._selectedItem){if(e._lastReorderedItem&&s===e._lastReorderedItem)return;return e._lastReorderedItem=s,Math.abs(e._reorderedIndex-a)>1&&e._swapItems(e._reorderedIndex,a+(e._reorderedIndex-a<0?-1:1)),e._swapItems(e._reorderedIndex,a),e._reorderedIndex=a,void e._storeItemsCoordinates()}e._lastReorderedItem=void 0}else e._dragStart=!0}_reorderItemsByIndex(){const t=this;let e=t.enableShadowDOM&&t.shadowRoot?t.shadowRoot.querySelectorAll("smart-accordion-item"):t.$.container.children,n=Array.from(e),a=!1,s=n.map(function(f){return null!==f.index?a=!0:f.index=0,f.index});if(!a)return;const o=n.length;if(o<2)return;let d=s.slice();if(d.sort(function(f,m){return parseInt(f)-parseInt(m)}),s.toString()!==d.toString())for(let f=0;f<o;f++){let m;for(let u=0;u<o;u++)e[u].index===d[f]&&(m=e[u]);t.$.container.insertBefore(m,e[f])}}_resizeHandler(){this.refresh()}refresh(){const t=this;t._updateExpanedContentHeight(),t._updateInlineHeight(),t._storeItemsCoordinates()}_storeItems(){const t=this,e=t.enableShadowDOM&&t.shadowRoot?t.shadowRoot.querySelectorAll("smart-accordion-item"):t.getElementsByTagName("smart-accordion-item");if(t._items=Array.from(e),0===t._items.length)return void t.$container.addClass("smart-empty");t.$container.removeClass("smart-empty");const n=t._getItemsHeights();for(let a=0;a<t._items.length;a++)t._updateExpanedContentLocalHeight(t._items[a],n[a])}_storeItemsCoordinates(){const t=this;if(t.disabled||!t.reorder)return;const e=[];for(let n=0;n<t._items.length;n++){const a=t._items[n].getBoundingClientRect();e.push({fromY:a.top+(window.scrollY||window.pageYOffset),toY:a.bottom+(window.scrollY||window.pageYOffset)})}t._itemsCoordinates=e}_swapItems(t,e){const n=this,a=Math.min(t,e),s=Math.max(t,e),o=n._items;let d=n.expandedIndexes.slice();if(n._items[t].expanded&&!n._items[e].expanded){const f=d.indexOf(t);d[f]=e,n.expandedIndexes=d.slice()}else if(n._items[e].expanded&&!n._items[t].expanded){const f=d.indexOf(e);d[f]=t,n.expandedIndexes=d.slice()}n.selectedIndex=n.selectedIndex===t?e:t,n.$.container.insertBefore(o[s],o[a]),function(f,m,u){const y=f[u];f[u]=f[m],f[m]=y}(o,t,e),n._items[t].$.removeClass("hovered"),n._reorderedIndex=e}_toggleItems(t,e){const n=this,a=e.length;if(a>0)for(let s=0;s<a;s++)n["_"+t+"Item"](e[s])}_updateExpanedContentHeight(){const t=this;t.$.container.style.setProperty("--smart-accordion-item-header-height","");const e=t._items.length,n=t.$.container.offsetHeight,a=t._items[t.expandedIndexes[0]];let s=0,o=0,d=0,f=0;if(1===e){let y=t._items[0],v=y.expanded;y.expanded=!1,s=y.offsetHeight,o=y.$.accordionItemHeader.offsetHeight,y.expanded=v}else for(;0===s&&f<e;){const y=t._items[f];y instanceof Smart.AccordionItem&&!y.expanded&&(s=y.offsetHeight),o=y.$.accordionItemHeader.offsetHeight,f++}e>1&&a instanceof Smart.AccordionItem&&(d=a.$.accordionItemHeader.offsetHeight-o);const m=getComputedStyle(t.$.root);let u=n-s*e-d-parseFloat(m.paddingBottom)-parseFloat(m.paddingTop);"singleFitHeight"===t.expandMode&&(u=t._adjustHeightValue(u)),u=u>=0?u:0,t.$.container.style.setProperty("--smart-accordion-expanded-content-height",u+"px"),t.$.container.style.setProperty("--smart-accordion-item-header-height",o+"px"),t._expandedItemsContainerHeight=u}_updateExpanedContentLocalHeight(t,e){this._supportCSSVariables&&this._usedCSSVariables&&t.$.container.style.setProperty("--smart-accordion-expanded-content-local-height",e)}_updateInlineHeight(){const t=this;t._supportCSSVariables&&t._usedCSSVariables||"singleFitHeight"!==t.expandMode||0===t._items.length||(t._items[t.expandedIndexes[0]].$.accordionItemContent.style.height=t._expandedItemsContainerHeight-1+"px")}_updateItemsIndexProperty(){const t=this;let e=[];for(let n=0;n<t._items.length;n++)t._items[n]._setIndex(n),t._items[n].expanded&&e.push(n);t.expandedIndexes=e.slice()}_upHandler(t){const e=this;if(e._itemIsPressed&&!e.disabled&&!e.readonly){for(let n=0;n<e._items.length;n++)n!==e._selectedItemIndex&&(e._items[n].focused=!1);if(e._selectedItem.focused=!0,e._dragging){const n=e._selectedItem;e.$container.removeClass("smart-reordering"),e.$.fireEvent("dragEnd",{position:{left:t.pageX,top:t.pageY},target:t.originalEvent.target,index:e._selectedItemIndex,label:n.label,content:n.content.innerHTML})}else e._selectedItem.expanded?e.collapse(e._selectedItemIndex,!0):e.expand(e._selectedItemIndex,!0);e._reorderedIndex=void 0,e._dragStart=!1,e._dragging=!1,e._itemIsPressed=!1,e._selectedItem.dragged=!1,e._updateItemsIndexProperty()}}_validateItemsIndex(t,e){const n=this;if(!(isNaN(parseInt(t))||t<0||t>n._items.length-1))return parseInt(t);n.log(n.localize("indexOutOfBound",{elementType:n.nodeName.toLowerCase(),method:e}))}})},2612:()=>{Smart("smart-button",class extends Smart.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["smart.button.css"]}template(){return"<button class=\"smart-button smart-unselectable\" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role=\"presentation\"></button>"}refresh(){}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const t=this;t.$.button?t.$.button.focus():HTMLElement.prototype.focus.call(t)}blur(){const t=this;t.$.button?t.$.button.blur():HTMLElement.prototype.blur.call(t)}_upHandler(t){const e=this;if(t.stopPropagation(),e.$.setAttributeValue("active",!1),e.dataset.target){const n=document.querySelector(e.dataset.target);let a=e.dataset.toggle;const s="smart-window".toLowerCase();if(n&&n.nodeName.toLowerCase()===s&&"modal"===a&&(a="openModal"),"tab"===a||"pill"===a||"list"===a){const o=this.closest(".nav, .list-group"),d='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',f=!o||"UL"!==o.nodeName&&"OL"!==o.nodeName?o.children(".active"):o.querySelectorAll("li > .active");if(o){const m=o.querySelectorAll(d);for(let y=0;y<m.length;y++)m[y].classList.remove("primary");for(let y=0;y<f.length;y++)f[y].classList.remove("active");let u=e.parentNode;for(;u;){if("LI"===u.nodeName){u.classList.add("active");break}u=u.parentNode}e.classList.add("primary")}return n.parentNode.querySelectorAll(".active").forEach(m=>{m.classList.remove("active"),m.classList.add("smart-hidden")}),n.classList.add("active"),void n.classList.remove("smart-hidden")}a&&n&&!n[a]&&"collapse"===a&&(setTimeout(()=>{n.classList.contains("smart-hidden")?n.classList.remove("smart-hidden"):n.classList.add("smart-hidden")}),t.originalEvent.preventDefault()),a&&n&&!n[a]&&"dropdown"===a?(setTimeout(()=>{n.opened=!n.opened}),t.originalEvent.preventDefault()):a&&n&&n[a]&&(setTimeout(()=>{n[a]()},50),t.originalEvent.preventDefault())}}_focusHandler(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}_blurHandler(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}_clickHandler(t){const e=this;("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e.readonly)&&(t.preventDefault(),t.stopPropagation())}_downHandler(t){const e=this;if(!(e.disabled||(e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),e.$.setAttributeValue("active",!0),"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e.readonly))){if(e.hasAttribute("smart-blazor"))return void e.$.dispatchEvent(new Event("click"));e.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})}}_mouseEnterHandler(t){const e=this;if(!e.readonly&&(e.$button.setAttributeValue("hover",!0),e.$.setAttributeValue("hover",!0),"hover"===e.clickMode)){const n="buttons"in t?t.buttons:t.which;if(e.hasAttribute("smart-blazor"))return void e.$.dispatchEvent(new Event("click"));e.$.fireEvent("click",{buttons:n,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})}}_touchEndHandler(){const t=this;setTimeout(function(){t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;"disabled"===t?(a._setFocusable(),a.$button&&a.$button.setAttributeValue("hover",!1),a.$.setAttributeValue("hover",!1),a instanceof Smart.RepeatButton&&a._stopRepeat()):"unfocusable"===t&&a._setFocusable()}_setFocusable(){const t=this,e=t.$.button?t.$.button:t;if(t.disabled||t.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);e.tabIndex=t.tabIndex>0?t.tabIndex:0}ready(){const t=this;super.ready(),t.setAttribute("role","button"),t._setFocusable(),t.enableShadowDOM&&t.$.hiddenInput&&t.appendChild(t.$.hiddenInput)}}),Smart("smart-repeat-button",class extends Smart.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}_clickHandler(t){const e=this;("release"!==e.clickMode||e.preventDefaultClick||e.readonly||e.disabled)&&(t.preventDefault(),t.stopPropagation(),e.preventDefaultClick=!1)}_updateInBoundsFlag(t){const e=this;-1!==t.type.indexOf("leave")?(e._isPointerInBounds=!1,e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)):(e._isPointerInBounds=!0,e.$button.setAttributeValue("hover",!0),e.$.setAttributeValue("hover",!0)),1!==("buttons"in t?t.buttons:t.which)&&e._stopRepeat(t)}_startRepeat(t){const e=this;e.setAttribute("active",""),e._initialTimer||e.readonly||(e._initialTimer=setTimeout(function(){e._repeatTimer=setInterval(()=>{if(e._isPointerInBounds){if(e.hasAttribute("smart-blazor"))return e.$.dispatchEvent(new Event("click")),void(e.preventDefaultClick=!0);e.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY}),e.preventDefaultClick=!0}},e.delay)},e.initialDelay))}_stopRepeat(t){const e=this;e.readonly||t&&("pointercancel"===t.type||t.originalEvent&&"pointercancel"===t.originalEvent.type)||(e.$.setAttributeValue("active",!1),e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null))}_touchmoveHandler(t){this.preventDefaultClick&&t.cancelable&&(t.preventDefault(),t.stopPropagation())}_overriddenHandler(){}}),Smart("smart-toggle-button",class extends Smart.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready(),this._setAriaState(),this._updateGroupValue()}_setAriaState(){const e=this.checked;this.setAttribute("aria-pressed",null!==e?e:"mixed")}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){const t=this;t.setAttribute("hover",""),t.disabled||t.readonly||"hover"!==t.clickMode||(t._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue())}_documentUpHandler(t){const e=this;e._pressed&&(e._pressed=!1,e.disabled||e.readonly||"press"===e.clickMode||"pointercancel"===t.originalEvent.type||(e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue()))}_downHandler(t){const e=this;e.disabled||e.readonly||(e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),e._pressed=!0,"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||(e._changeCheckState("pointer"),e.hasAttribute("smart-blazor")?e.$.dispatchEvent(new Event("click")):e.$.fireEvent("click"),e._updateHidenInputNameAndValue()),"press"===e.clickMode&&(t.preventDefault(),t.stopPropagation()))}_dragStartHandler(t){t.preventDefault()}_keyHandler(t){const e=this;if(!0!==e.disabled&&!e.readonly&&32===t.keyCode){if("keydown"===t.type)return void t.preventDefault();if("none"===e.switchMode)return;e._changeCheckState("keyboard"),e._updateHidenInputNameAndValue()}}_updateGroupValue(){const t=this;if(t.dataset.target){const e=document.querySelector(t.dataset.target);if(e){const n=document.querySelectorAll('[data-target="'+t.dataset.target+'"]'),a=[];if(t.checked){const s=t.dataset.property,o=t.dataset.value;if(s&&void 0!==e[s]){let d=o;"true"===d&&(d=!0),"false"===d&&(d=!1),e[s]=d}}for(let s=0;s<n.length;s++){const o=n[s];o.checked&&(o.name?(a.push(o.name),t.id&&o.setAttribute("data-id",t.id)):t.id&&a.push(t.id))}e.value=a.toString(),t._targetDispatchTimer&&clearTimeout(t._targetDispatchTimer),t._targetDispatchTimer=setTimeout(()=>{e.dispatchEvent(new Event("change"))},100)}}}_changeCheckState(t){const e=this;let n=null;null===e.checked?e.checked=!0:(n=e.checked,e.checked=!e.checked),e._handleTextSelection(),e.$.fireEvent("change",{value:e.checked,oldValue:n,changeType:t}),e.$.fireEvent(e.checked?"checkValue":"uncheckValue",{changeType:t}),e._updateGroupValue(),e._setAriaState()}_handleTextSelection(){const t=this;t.$.addClass("smart-unselectable"),t.timer&&clearTimeout(t.timer),t.timer=setTimeout(()=>t.$.removeClass("smart-unselectable"),500)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;if("checked"===t)return a.$.fireEvent("change",{value:n,oldValue:e,changeType:"api"}),void a._setAriaState();switch(t){case"trueTemplate":a._handleTemplate(!0);break;case"falseTemplate":a._handleTemplate(!1);break;case"indeterminateTemplate":a._handleTemplate()}}_htmlBindOnInitialization(){const t=this;t._bindContentProperty("trueContent","smart-true-content"),t._bindContentProperty("falseContent","smart-false-content"),t._bindContentProperty("indeterminateContent","smart-indeterminate-content")}_bindContentProperty(t,e){const n=this;if(!n.$[t+"Container"])return;let a=document.createElement("div");a.innerHTML=n.innerHTML;let s,o=a.getElementsByClassName(e);if(o.length>0)for(let d=0;d<o.length;d++)s=o[d];""===n[t]&&(n[t]=void 0===s?"":s.outerHTML),n.$[t+"Container"].innerHTML=n[t]}_updateContentProperties(){const t=this;function e(n){t.$[n+"Container"]&&(t[n]=t.$[n+"Container"].innerHTML)}e("trueContent"),e("falseContent"),e("indeterminateContent")}_updateHidenInputValue(){const t=this;if(!t.$.hiddenInput)return;let e;e=null===t.checked?"null":!1===t.checked?"off":t.value||"on",t.$.hiddenInput.setAttribute("value",e)}_updateHidenInputName(){const t=this;t.$.hiddenInput&&t.$.hiddenInput.setAttribute("name",!1===t.checked?"":t.name||"")}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(t,e){const n=this;let a,s,o;if(!0===t?(a=n.trueTemplate,s=n.$.trueContentContainer,o=n.trueContent):!1===t?(a=n.falseTemplate,s=n.$.falseContentContainer,o=n.falseContent):(a=n.indeterminateTemplate,s=n.$.indeterminateContentContainer,o=n.indeterminateContent),e&&(s.innerHTML=o||""),null===a||!a)return;if("function"==typeof a)return void a(s,{value:o});if(!("content"in document.createElement("template")))return void n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}));if(a=document.getElementById(a),null===a||!("content"in a))return void n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:"template"}));const d=a.content,f=d.childNodes.length,m=/{{\w+}}/g;let u,y=[];for(let C=0;C<f;C++)for(u=m.exec(d.childNodes[C].innerHTML);u;)y.push({childNodeIndex:C,bindingString:u[0]}),u=m.exec(d.childNodes[C].innerHTML);const v=y.length;let b,x,w=document.importNode(a.content,!0);for(let C=0;C<v;C++){b=w.childNodes[y[C].childNodeIndex],x=y.length;for(let A=0;A<x;A++)b.innerHTML=b.innerHTML.replace(y[C].bindingString,o)}s.innerHTML="";for(let C=0;C<w.childNodes.length;C++)w.childNodes[C].outerHTML&&(s.innerHTML+=w.childNodes[C].outerHTML)}})},6321:()=>{!function(){const t="13.2.0",e=[];let n="Smart";if(window[n]&&window[n].Version){if(window[n].Version===t)return;if(window[n].Version!==t)n+=t;else{let h=2;for(;window[n];)n+=h.toString(),h++}}const a=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);class s{static isBoolean(r){return"boolean"==typeof r}static isFunction(r){return!!(r&&r.constructor&&r.call&&r.apply)}static isArray(r){return Array.isArray(r)}static isObject(r){return r&&("object"==typeof r||this.isFunction(r))||!1}static isDate(r){return r instanceof Date}static isString(r){return"string"==typeof r}static isNumber(r){return"number"==typeof r}static getType(r){const i=this,l=["Boolean","Number","String","Function","Array","Date","Object"].find(c=>{if(i["is"+c](r))return c});return l?l.toLowerCase():void 0}}class o{static animate(r,i,l,c){const p=r;if(!p||p instanceof HTMLElement==0)return;if(0===p.getElementsByClassName("smart-ripple").length){const P=document.createElement("span");P.classList.add("smart-ripple"),P.setAttribute("role","presentation");let V=!0,U=null;if(window[n].EnableShadowDOM&&p.enableShadowDOM&&!0!==p.isInShadowDOM){for(let j=0;j<p.shadowRoot.host.shadowRoot.children.length;j++)"link"!==p.shadowRoot.host.shadowRoot.children[j].tagName.toLowerCase()&&(U=p.shadowRoot.host.shadowRoot.children[j]);p.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(V=!1)}else U=p.firstElementChild;V&&(U&&!U.noRipple&&U.offsetHeight>0?U.appendChild(P):p.appendChild(P))}let g=null;if(g=window[n].EnableShadowDOM&&p.shadowRoot?p.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):p.getElementsByClassName("smart-ripple")[0],!g)return;g.innerHTML="",g.classList.remove("smart-animate"),g.style.height=g.style.width=Math.max(p.offsetHeight,p.offsetWidth)+"px";const _=window.getComputedStyle(g.parentElement),S=parseInt(_.borderLeftWidth)||0,T=parseInt(_.borderTopWidth)||0,M=p.getBoundingClientRect(),L=i-(M.left+window.pageXOffset)-g.offsetWidth/2-S,D=l-(M.top+window.pageYOffset)-g.offsetHeight/2-T;g.style.left=L+"px",g.style.top=D+"px",g.classList.add("smart-animate"),g.addEventListener("animationend",function P(){g.parentElement&&g.parentElement.removeChild(g),c&&c(),g.removeEventListener("animationend",P),g.removeEventListener("animationcancel",P)}),g.addEventListener("animationcancel",function P(){g.parentElement&&g.parentElement.removeChild(g),c&&c(),g.removeEventListener("animationcancel",P),g.removeEventListener("animationend",P)})}}class d{static easeInQuad(r,i,l,c){return l*(r/=c)*r+i}static easeOutQuad(r,i,l,c){return-l*(r/=c)*(r-2)+i}static easeInOutQuad(r,i,l,c){return(r/=c/2)<1?l/2*r*r+i:-l/2*(--r*(r-2)-1)+i}static easeInCubic(r,i,l,c){return l*(r/=c)*r*r+i}static easeOutCubic(r,i,l,c){return l*((r=r/c-1)*r*r+1)+i}static easeInOutCubic(r,i,l,c){return(r/=c/2)<1?l/2*r*r*r+i:l/2*((r-=2)*r*r+2)+i}static easeInQuart(r,i,l,c){return l*(r/=c)*r*r*r+i}static easeOutQuart(r,i,l,c){return-l*((r=r/c-1)*r*r*r-1)+i}static easeInOutQuart(r,i,l,c){return(r/=c/2)<1?l/2*r*r*r*r+i:-l/2*((r-=2)*r*r*r-2)+i}static easeInQuint(r,i,l,c){return l*(r/=c)*r*r*r*r+i}static easeOutQuint(r,i,l,c){return l*((r=r/c-1)*r*r*r*r+1)+i}static easeInOutQuint(r,i,l,c){return(r/=c/2)<1?l/2*r*r*r*r*r+i:l/2*((r-=2)*r*r*r*r+2)+i}static easeInSine(r,i,l,c){return-l*Math.cos(r/c*(Math.PI/2))+l+i}static easeOutSine(r,i,l,c){return l*Math.sin(r/c*(Math.PI/2))+i}static easeInOutSine(r,i,l,c){return-l/2*(Math.cos(Math.PI*r/c)-1)+i}static easeInExpo(r,i,l,c){return 0===r?i:l*Math.pow(2,10*(r/c-1))+i}static easeOutExpo(r,i,l,c){return r===c?i+l:l*(1-Math.pow(2,-10*r/c))+i}static easeInOutExpo(r,i,l,c){return 0===r?i:r===c?i+l:(r/=c/2)<1?l/2*Math.pow(2,10*(r-1))+i:l/2*(2-Math.pow(2,-10*--r))+i}static easeInCirc(r,i,l,c){return-l*(Math.sqrt(1-(r/=c)*r)-1)+i}static easeOutCirc(r,i,l,c){return l*Math.sqrt(1-(r=r/c-1)*r)+i}static easeInOutCirc(r,i,l,c){return(r/=c/2)<1?-l/2*(Math.sqrt(1-r*r)-1)+i:l/2*(Math.sqrt(1-(r-=2)*r)+1)+i}static easeInElastic(r,i,l,c){let p=1.70158,g=0,_=l;return 0===r?i:1==(r/=c)?i+l:(g||(g=.3*c),_<Math.abs(l)?(_=l,p=g/4):p=g/(2*Math.PI)*Math.asin(l/_),-_*Math.pow(2,10*(r-=1))*Math.sin((r*c-p)*(2*Math.PI)/g)+i)}static easeOutElastic(r,i,l,c){let p=1.70158,g=0,_=l;return 0===r?i:1==(r/=c)?i+l:(g||(g=.3*c),_<Math.abs(l)?(_=l,p=g/4):p=g/(2*Math.PI)*Math.asin(l/_),_*Math.pow(2,-10*r)*Math.sin((r*c-p)*(2*Math.PI)/g)+l+i)}static easeInOutElastic(r,i,l,c){let p=1.70158,g=0,_=l;return 0===r?i:2==(r/=c/2)?i+l:(g||(g=.44999999999999996*c),_<Math.abs(l)?(_=l,p=g/4):p=g/(2*Math.PI)*Math.asin(l/_),r<1?_*Math.pow(2,10*(r-=1))*Math.sin((r*c-p)*(2*Math.PI)/g)*-.5+i:_*Math.pow(2,-10*(r-=1))*Math.sin((r*c-p)*(2*Math.PI)/g)*.5+l+i)}static easeInBack(r,i,l,c,p){return void 0===p&&(p=1.70158),l*(r/=c)*r*((p+1)*r-p)+i}static easeOutBack(r,i,l,c,p){return void 0===p&&(p=1.70158),l*((r=r/c-1)*r*((p+1)*r+p)+1)+i}static easeInOutBack(r,i,l,c,p){return void 0===p&&(p=1.70158),(r/=c/2)<1?l/2*(r*r*((1+(p*=1.525))*r-p))+i:l/2*((r-=2)*r*((1+(p*=1.525))*r+p)+2)+i}static easeInBounce(r,i,l,c){return l-this.easeOutBounce(c-r,0,l,c)+i}static easeOutBounce(r,i,l,c){return(r/=c)<.36363636363636365?l*(7.5625*r*r)+i:r<.7272727272727273?l*(7.5625*(r-=.5454545454545454)*r+.75)+i:r<.9090909090909091?l*(7.5625*(r-=.8181818181818182)*r+.9375)+i:l*(7.5625*(r-=.9545454545454546)*r+.984375)+i}static easeInOutBounce(r,i,l,c){return r<c/2?.5*this.easeInBounce(2*r,0,l,c)+i:.5*this.easeOutBounce(2*r-c,0,l,c)+.5*l+i}}class f{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static get Browser(){let r;const i=function(c){let p=c.indexOf(r);if(-1===p)return;const g=c.indexOf("rv:");return parseFloat(c.substring("Trident"===r&&-1!==g?g+3:p+r.length+1))};let l={};return l[function(){const c=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];for(let p=0;p<c.length;p++)if(r=c[p].subString,-1!==c[p].string.indexOf(c[p].subString))return c[p].identity;return"Other"}()]=!0,l.version=i(navigator.userAgent)||i(navigator.appVersion)||"Unknown",l}static toCamelCase(r){return r.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}static toDash(r){return r.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(r){return(new DOMParser).parseFromString(r,"text/html").documentElement.textContent}static escapeHTML(r){const i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(r).replace(/[&<>"'`=\/]/g,l=>i[l])}static sanitizeHTML(r){if(r&&(r.indexOf("onclick")>=0||r.indexOf("onload")>=0||r.indexOf("onerror")>=0))return this.escapeHTML(r);const i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(r).replace(i,l=>this.escapeHTML(l))}static createGUID(){function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}static getScriptLocation(){return"./"!==window[n].BaseUrl?window[n].BaseUrl:function(){if(document.currentScript){let p=document.currentScript.src,g=p.lastIndexOf("/");return p=p.substring(0,g),p}const r=new Error;let i="(",l=")";if(Smart.Utilities.Core.Browser.Safari&&(i="@",l="\n"),r.fileName)return r.fileName.replace("/smart.element.js","");let c=r.stack.split(i);return c=c[1],c=c.split(l)[0],c=c.split(":"),c.splice(-2,2),c=c.join(":"),c.replace("/smart.element.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(r,i){const l=p=>p&&"object"==typeof p&&!Array.isArray(p)&&null!==p;let c=Object.assign({},r);return l(r)&&l(i)&&Object.keys(i).forEach(p=>{l(i[p])?p in r?c[p]=this.assign(r[p],i[p]):Object.assign(c,{[p]:i[p]}):Object.assign(c,{[p]:i[p]})}),c}static html(r,i){const l=this;let c="",p=r.childNodes;if(!i){for(let g,_=0,S=p.length;_<S&&(g=p[_]);_++){const T=["strong"];if(g instanceof HTMLElement||g.tagName&&T.indexOf(g.tagName.toLowerCase())>=0){const M=g.tagName.toLowerCase(),L=g.attributes;let D="<"+M;for(let P,V=0;P=L[V];V++)D+=" "+P.name+'="'+P.value.replace(/[&\u00A0"]/g,N.Core.escapeHTML)+'"';D+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][M]&&(c+=D),c=c+D+l.html(g)+"</"+M+">"}else{if(8===g.nodeType)continue;c+=g.textContent.replace(/[&\u00A0<>]/g,N.Core.escapeHTML)}}return c}r.innerHTML=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")}}let m=[];class u{static watch(r){switch(r.nodeName.toLowerCase()){case"smart-grid":case"smart-kanban":case"smart-table":case"smart-pivot-table":case"smart-scheduler":case"smart-tabs":case"smart-card-view":case"smart-list-box":case"smart-combo-box":case"smart-drop-down-list":case"smart-calendar":case"smart-gauge":case"smart-numeric-text-box":case"smart-menu":case"smart-tree":m.push(r);break;default:return}u.start()}static start(){u.isStarted||(u.isStarted=!0,u.interval&&clearInterval(u.interval),0===m.length||document.hidden?u.isStarted=!1:u.interval=setInterval(function(){u.observe()},100))}static stop(){u.isStarted=!1,u.interval&&clearInterval(u.interval)}static observeElement(r){const i=r;if("test"===window.Smart.Mode||document.hidden)return void(u.interval&&clearInterval(u.interval));let l=r._computedStyle||"resize"!==i.hasStyleObserver?document.defaultView.getComputedStyle(i,null):{},c=!0,p="resize"!==i.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(r.styleProperties&&(p=p.concat(r.styleProperties)),r.observableStyleProperties&&(p=r.observableStyleProperties),!i._styleInfo){i._styleInfo=[];for(let _=0;_<p.length;_++){const S=p[_],T=S.startsWith("--")?l.getPropertyValue(S):l[S];i._styleInfo[S]=T}return}if(r.isHidden||"none"!==l.display&&(0!==r.offsetWidth&&0!==r.offsetHeight||(r.isHidden=!0)),r.isHidden){if(r.visibilityChangedHandler(),r.isHidden)return;c=!1}let g=[];for(let _=0;_<p.length;_++){const S=p[_],T=S.startsWith("--")?l.getPropertyValue(S):l[S];i._styleInfo[S]!==T&&(g[S]={oldValue:i._styleInfo[S],value:T},g.length++),i._styleInfo[S]=T}g.length>0&&(i.$.fireEvent("styleChanged",{styleProperties:g},{bubbles:!1,cancelable:!0}),g.display&&c&&i.$.fireEvent("resize",i,{bubbles:!1,cancelable:!0}))}static observe(){for(let r=0;r<m.length;r++)this.observeElement(m[r])}static unwatch(r){u.stop();const i=m.indexOf(r);-1!==i&&m.splice(i,1),u.start()}}let y=[];const v=[],b=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"];class x{constructor(r){const i=this;i.target=r,i.$target=new C(r),i.$document=r.$document?r.$document:new C(document),i.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();let l={handlers:{},boundEventTypes:[],listen:i.listen.bind(i),unlisten:i.unlisten.bind(i)};return i.tapHoldDelay=750,i.swipeMin=10,i.swipeMax=5e3,i.swipeDelay=1e3,i.tapHoldDelay=750,i.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],b.forEach(c=>{l[c]=p=>{l.handlers[c]=p},i[c]=p=>{if(!l.handlers[p.type]){if(("mousemove"===p.type||"pointermove"===p.type||"touchmove"===p.type)&&l.handlers.move){const g=i.createEvent(p,"move");l.handlers.move(g)}return!0}return l.handlers[p.type](p)}}),i.listen(),i.handlers=l.handlers,l}listen(r){const i=this;if("resize"===r&&i.target!==document&&i.target!==window&&!1!==i.target.hasResizeObserver)if(Smart.Utilities.Core.Browser.Firefox){if(!i.target.resizeObserver){let l,c,p,g=!1,_=i.target.offsetWidth,S=i.target.offsetHeight;const T=new ResizeObserver(()=>{if(!g)return void(g=!0);const M=new CustomEvent("resize",{bubbles:!1,cancelable:!0});c=i.target.offsetWidth,p=i.target.offsetHeight,l=c!==_||p!==S,i.target.requiresLayout&&(l=!0),l&&(i.resize(M),i.target.requiresLayout=!1)});T.observe(i.target),i.target.resizeObserver=T}}else if(!i.target.resizeTrigger){const l=document.createElement("div");l.className="smart-resize-trigger-container",l.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',l.setAttribute("aria-hidden",!0),window[n].EnableShadowDOM&&i.target.shadowRoot?i.target.shadowRoot.appendChild(l):i.target.appendChild(l),i.target.resizeTrigger=l;const c=l.childNodes[0],p=c.childNodes[0],g=l.childNodes[1],_=function(){p.style.width="100000px",p.style.height="100000px",c.scrollLeft=1e5,c.scrollTop=1e5,g.scrollLeft=1e5,g.scrollTop=1e5};let S,T,M,L,D=i.target.offsetWidth,P=i.target.offsetHeight;if(0===D||0===P){const V=function(){_(),i.target.removeEventListener("resize",V)};i.target.addEventListener("resize",V),_()}else _();i.target.resizeHandler=function(){T||(T=requestAnimationFrame(function(){if(T=0,M=i.target.offsetWidth,L=i.target.offsetHeight,S=M!==D||L!==P,i.target.requiresLayout&&(S=!0),!S)return;D=M,P=L;const V=new CustomEvent("resize",{bubbles:!1,cancelable:!0});i.resize(V),i.target.requiresLayout=!1})),_()},c.addEventListener("scroll",i.target.resizeHandler),g.addEventListener("scroll",i.target.resizeHandler)}i.isListening||(i.isListening=!0,i.isPressed=!1,i.isReleased=!1,i.isInBounds=!1,window.PointerEvent?(i.$target.listen("pointerdown.inputEvents"+i.id,i.pointerDown.bind(i)),i.$target.listen("pointerup.inputEvents"+i.id,i.pointerUp.bind(i)),i.$target.listen("pointermove.inputEvents"+i.id,i.pointerMove.bind(i)),i.$target.listen("pointercancel.inputEvents"+i.id,i.pointerCancel.bind(i))):("ontouchstart"in window&&(i.$target.listen("touchmove.inputEvents"+i.id,i.touchMove.bind(i)),i.$target.listen("touchstart.inputEvents"+i.id,i.touchStart.bind(i)),i.$target.listen("touchend.inputEvents"+i.id,i.touchEnd.bind(i)),i.$target.listen("touchcancel.inputEvents"+i.id,i.touchCancel.bind(i))),i.$target.listen("mousedown.inputEvents"+i.id,i.mouseDown.bind(i)),i.$target.listen("mouseup.inputEvents"+i.id,i.mouseUp.bind(i)),i.$target.listen("mousemove.inputEvents"+i.id,i.mouseMove.bind(i)),i.$target.listen("mouseleave.inputEvents"+i.id,i.mouseLeave.bind(i))),i.target._handleDocumentUp||(i.target._handleDocumentUp=i.handleDocumentUp.bind(i),i.target._handleDocumentUpId=i.id,i.$document.listen("mouseup.inputEvents"+i.target._handleDocumentUpId,i.target._handleDocumentUp)))}unlisten(r){const i=this;if(i.isListening=!1,window.PointerEvent?(i.$target.unlisten("pointerdown.inputEvents"+i.id),i.$target.unlisten("pointerup.inputEvents"+i.id),i.$target.unlisten("pointermove.inputEvents"+i.id),i.$target.unlisten("pointercancel.inputEvents"+i.id)):("ontouchstart"in window&&(i.$target.unlisten("touchstart.inputEvents"+i.id),i.$target.unlisten("touchmove.inputEvents"+i.id),i.$target.unlisten("touchend.inputEvents"+i.id),i.$target.unlisten("touchcancel.inputEvents"+i.id)),i.$target.unlisten("mousedown.inputEvents"+i.id),i.$target.unlisten("mouseup.inputEvents"+i.id),i.$target.unlisten("mousemove.inputEvents"+i.id),i.$target.unlisten("mouseleave.inputEvents"+i.id)),i.target._handleDocumentUp&&(i.$document.unlisten("mouseup.inputEvents"+i.target._handleDocumentUpId,i.target._handleDocumentUp),delete i.target._handleDocumentUp,delete i.target._handleDocumentUpId),"resize"===r)if(Smart.Utilities.Core.Browser.Firefox)i.target.resizeObserver&&(i.target.resizeObserver.unobserve(i.target),delete i.target.resizeObserver);else if(i.target.resizeTrigger){const l=i.target.resizeTrigger,p=l.childNodes[1];l.childNodes[0].removeEventListener("scroll",i.target.resizeHandler),p.removeEventListener("scroll",i.target.resizeHandler),i.target.resizeHandler=null,l.parentNode.removeChild(l),delete i.target.resizeTrigger}}handleDocumentUp(r){const i=this;i.isPressed=!1,i.isReleased=!1,i.resetSwipe(r)}createEvent(r,i){const l=this,c=r.touches,p=r.changedTouches,g=c&&c.length?c[0]:p&&p.length?p[0]:void 0,_=new CustomEvent(i,{bubbles:!0,cancelable:!0,composed:void 0!==l.$target.element.getRootNode().host});if(_.originalEvent=r,g){for(let S=0;S<l.inputEventProperties.length;S++){const T=l.inputEventProperties[S];_[T]=g[T]}return _}for(let S in r)S in _||(_[S]=r[S]);return _}fireTap(r){const i=this;if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const l=i.createEvent(r,"tap");i.tap(l)}}initTap(r){const i=this;i.isInBounds=!0,i.tapHoldFired=!1,i.tapHoldTimeout=setTimeout(function(){if(i.isInBounds){i.tapHoldFired=!0;const l=i.createEvent(r,"taphold");i.taphold(l)}},i.tapHoldDelay)}pointerDown(r){return this.handleDown(r)}mouseDown(r){const i=this;if(!(i.isPressed||i.touchStartTime&&new Date-i.touchStartTime<500))return i.handleDown(r)}touchStart(r){const i=this;return i.touchStartTime=new Date,i.isTouchMoved=!0,i.handleDown(r)}mouseUp(r){const i=this;if(!(i.isReleased||i.touchEndTime&&new Date-i.touchEndTime<500))return i.handleUp(r)}handleDown(r){const i=this;i.isReleased=!1,i.isPressed=!0;const l=i.createEvent(r,"down");return(i.handlers.tap||i.handlers.taphold)&&i.initTap(l),(i.handlers.swipeleft||i.handlers.swiperight||i.handlers.swipetop||i.handlers.swipebottom)&&i.initSwipe(l),i.down(l)}handleUp(r){const i=this;i.isReleased=!0,i.isPressed=!1;const l=i.createEvent(r,"up"),c=i.up(l);return(i.handlers.tap||i.handlers.taphold)&&i.fireTap(l),i.resetSwipe(l),c}handleMove(r){const i=this;let l=i.move(r);return i.isPressed&&(i._maxSwipeVerticalDistance=Math.max(i._maxSwipeVerticalDistance,Math.abs(i._startY-r.pageY)),i._maxSwipeHorizontalDistance=Math.max(i._maxSwipeHorizontalDistance,Math.abs(i._startX-r.pageX)),l=i.handleSwipeEvents(r)),l}touchEnd(r){return this.touchEndTime=new Date,this.handleUp(r)}pointerUp(r){return this.handleUp(r)}pointerCancel(r){this.pointerUp(r)}touchCancel(r){this.touchEnd(r)}mouseLeave(){this.isInBounds=!1}mouseMove(r){if(!this.isTouchMoved)return this.handleMove(r)}pointerMove(r){return this.handleMove(r)}touchMove(r){const i=this,l=r.touches,c=r.changedTouches,p=l&&l.length?l[0]:c&&c.length?c[0]:void 0;for(let g=0;g<i.inputEventProperties.length;g++){const _=i.inputEventProperties[g];void 0===r[_]&&(r[_]=p[_])}return i.isTouchMoved=!0,i.handleMove(r)}handleSwipeEvents(r){const i=this;let l=!0;return(i.handlers.swipetop||i.handlers.swipebottom)&&(l=this.handleVerticalSwipeEvents(r)),!1===l||(i.handlers.swipeleft||i.handlers.swiperight)&&(l=this.handleHorizontalSwipeEvents(r)),l}handleVerticalSwipeEvents(r){let i,l;return i=r.pageY,l=i-this._startY,this.swiped(r,l,"vertical")}handleHorizontalSwipeEvents(r){let i,l;return i=r.pageX,l=i-this._startX,this.swiped(r,l,"horizontal")}swiped(r,i,l){const c=this;if(l=l||0,Math.abs(i)>=c.swipeMin&&!c._swipeEvent&&!c._swipeLocked){let p=i<0?"swipeleft":"swiperight";if("horizontal"===l?c._swipeEvent=c.createEvent(r,p):(p=i<0?"swipetop":"swipebottom",c._swipeEvent=c.createEvent(r,i<0?"swipetop":"swipebottom")),c[p]&&(c[p](this._swipeEvent),Math.abs(i)<=this.swipeMax))return r.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(r){const i=this;i._maxSwipeVerticalDistance=0,i._maxSwipeHorizontalDistance=0,i._startX=r.pageX,i._startY=r.pageY,i._swipeLocked=!1,i._swipeEvent=null,i._swipeTimeout=setTimeout(function(){i._swipeLocked=!0},i.swipeDelay)}}class w{get scrollWidth(){return this.horizontalScrollBar?this.horizontalScrollBar.max:-1}set scrollWidth(r){r<0&&(r=0),this.horizontalScrollBar&&(this.horizontalScrollBar.max=r)}get scrollHeight(){return this.verticalScrollBar?this.verticalScrollBar.max:-1}set scrollHeight(r){r<0&&(r=0),this.verticalScrollBar&&(this.verticalScrollBar.max=r)}get scrollLeft(){return this.horizontalScrollBar?this.horizontalScrollBar.value:-1}set scrollLeft(r){r<0&&(r=0),this.horizontalScrollBar&&(this.horizontalScrollBar.value=r)}get scrollTop(){return this.verticalScrollBar?this.verticalScrollBar.value:-1}set scrollTop(r){r<0&&(r=0),this.verticalScrollBar&&(this.verticalScrollBar.value=r)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(r,i,l){const c=this;c.container=r,c.horizontalScrollBar=i,c.verticalScrollBar=l,c.disableSwipeScroll=!1,c.listen()}listen(){const r=this,i=f.isMobile,l=r.horizontalScrollBar,c=r.verticalScrollBar;let p,g,_,S,T,M,L,D;r.inputEvents=new x(r.container);const P=function(Q){return{amplitude:0,delta:0,initialValue:0,min:0,max:Q.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:Q,value:0,velocity:0}},V=P(l),U=P(c),j=function(){const Q=r.container.touchVelocityCoefficient||50;M=Date.now(),L=M-S,S=M;const te=function(X){X.delta=X.value-X.previousValue,X.previousValue=X.value,X.velocity=Q*X.delta/(1+L)*.8+.2*X.velocity};te(U),te(V)},G=function(Q){return D.value=Q>D.max?D.max:Q<D.min?D.min:Q,D.scrollBar.value=D.value,Q>D.max?"max":Q<D.min?"min":"value"};function q(){let Q,te;D.amplitude&&(r.container.$.fireEvent("kineticScroll"),Q=Date.now()-S,te=-D.amplitude*Math.exp(-Q/500),te>5||te<-5?(G(D.targetValue+te),cancelAnimationFrame(g),g=0,g=requestAnimationFrame(q)):G(D.targetValue))}let Z;r.inputEvents.down(function(Q){if(!i)return;const te=Q.originalEvent.target,X=te&&te.closest?te.closest("smart-scroll-bar"):void 0;if(X===r.horizontalScrollBar||X===r.verticalScrollBar)return;_=!0,p=!1;const re=function(ie,se){ie.amplitude=0,ie.pointerPosition=se,ie.previousValue=ie.value,ie.value=ie.scrollBar.value,ie.initialValue=ie.value,ie.max=ie.scrollBar.max};re(U,Q.clientY),re(V,Q.clientX),S=Date.now(),clearInterval(T),T=setInterval(j,500)}),r.inputEvents.up(function(){if(!_)return!0;if(clearInterval(T),r.disableSwipeScroll)return void(_=!1);const Q=function(te){D=te,te.amplitude=.8*te.velocity,te.targetValue=Math.round(te.value+te.amplitude),S=Date.now(),cancelAnimationFrame(g),g=requestAnimationFrame(q),te.velocity=0};U.velocity>10||U.velocity<-10?Q(U):(V.velocity>10||V.velocity<-10)&&Q(V),_=!1}),r.inputEvents.move(function(Q){if(!_)return!0;if(r.disableSwipeScroll||(p&&(Q.originalEvent.preventDefault(),Q.originalEvent.stopPropagation()),V.visible=r.scrollWidth>0,U.visible=r.scrollHeight>0,!_||!V.visible&&!U.visible))return;const te=r.container.touchScrollRatio,X=r.container;let re,ie;te&&("number"==typeof te?(re=-te,ie=-te):"function"==typeof te&&(re=te(U.max,X.offsetHeight),ie=te(V.max,X.offsetWidth))),U.ratio=re||-U.max/X.offsetHeight,U.delta=(Q.clientY-U.pointerPosition)*U.ratio,V.ratio=ie||-V.max/X.offsetWidth,V.delta=(Q.clientX-V.pointerPosition)*V.ratio;let se="value";const le=function(ee,ce,ae){return ee.delta>5||ee.delta<-5?(D=ee,se=ee.initialValue+ee.delta>D.max?"max":ee.initialValue+ee.delta<D.min?"min":"value","min"===se&&0===ee.initialValue||"max"===se&&ee.initialValue===ee.max||!ee.visible||(r.container.$.fireEvent("kineticScroll"),G(ee.initialValue+ee.delta),j(),ae.originalEvent.preventDefault(),ae.originalEvent.stopPropagation(),p=!0,!1)):null};let de=le(U,0,Q);if(null!==de)return de;{let ee=le(V,0,Q);if(null!==ee)return ee}}),r.scrollTo=function(Q,te){const X=!1===te?V:U;let re=!1;S||(S=Date.now()),Z||(Z=Date.now()),Math.abs(Date.now()-Z)>375?S=Date.now():re=!0,Z=Date.now(),X.value=X.scrollBar.value,X.delta=Q-X.value,X.max=X.scrollBar.max,Q<=X.min&&(Q=X.min),Q>=X.max&&(Q=X.max),X.targetValue=Q;const ie=Q;let se=X.value;X.velocity=100*X.delta/(1+X.max),X.from=se;const le=function(ee){return X.value=ee>X.max?X.max:ee<X.min?X.min:ee,X.scrollBar.value=X.value,ee>X.max?"max":ee<X.min?"min":"value"},de=function(){let ee,ce=Date.now()-Z,ae=Math.min(1e3,Date.now()-S),oe=X.velocity*Math.exp(ae/175);if(re)(oe<0&&X.value<=Q||oe>0&&X.value>=Q)&&(oe=0),(X.value+oe<=X.min||X.value+oe>=X.max)&&(oe=0),oe>.5||oe<-.5?(le(X.value+oe),cancelAnimationFrame(g),g=0,g=requestAnimationFrame(de)):le(X.targetValue);else{if(ce>=175)return cancelAnimationFrame(g),r.container.$.fireEvent("kineticScroll"),void(g=0);ee=N.Animation.Easings.easeInSine(ce,se,ie-se,175),le(ee),cancelAnimationFrame(g),g=0,g=requestAnimationFrame(de)}};cancelAnimationFrame(g),g=requestAnimationFrame(de)},r.inputEvents.listen()}unlisten(){const r=this;r.inputEvents&&r.inputEvents.unlisten(),delete r.inputEvents}}class C{constructor(r){this.events={},this.handlers={},this.element=r}hasClass(r){const i=this,l=r.split(" ");for(let c=0;c<l.length;c++)if(!i.element.classList.contains(l[c]))return!1;return!0}addClass(r){const i=this;if(i.hasClass(r))return;const l=r.split(" ");for(let c=0;c<l.length;c++)i.element.classList.add(l[c]);i.isNativeElement||u.observeElement(i.element)}removeClass(r){const i=this;if(0===arguments.length)return void i.element.removeAttribute("class");const l=r.split(" ");for(let c=0;c<l.length;c++)i.element.classList.remove(l[c]);""===i.element.className&&i.element.removeAttribute("class"),i.isNativeElement||u.observeElement(i.element)}get isCustomElement(){const r=this;return!!r.element.tagName.startsWith(n)||r.element instanceof window[n].BaseElement==1||"DIV"!==r.element.tagName&&"SPAN"!==r.element.tagName&&"BUTTON"!==r.element.tagName&&"INPUT"!==r.element.tagName&&"UL"!==r.element.tagName&&"LI"!==r.element.tagName&&document.createElement(r.element.nodeName)instanceof window[n].BaseElement==1}get isNativeElement(){return!this.isCustomElement}dispatch(r){const i=this,l=i.events[r.type];let c=!1;if(l.length>1)for(let p=0;p<l.length;p++){const g=l[p];if(g.namespace&&g.namespace.indexOf("_")>=0){c=!0;break}}c&&l.sort(function(p,g){let _=p.namespace,S=g.namespace;return _=-1===_.indexOf("_")?0:parseInt(_.substring(_.indexOf("_")+1)),S=-1===S.indexOf("_")?0:parseInt(S.substring(S.indexOf("_")+1)),_<S?-1:_>S?1:0});for(let p=0;p<l.length;p++){const g=l[p];if(r.namespace=g.namespace,r.context=g.context,r.defaultPrevented)break;const _=g.handler.apply(i.element,[r]);if(void 0!==_&&(r.result=_,!1===_)){r.preventDefault(),r.stopPropagation();break}}return r.result}fireEvent(r,i,l){l||(l={bubbles:!0,cancelable:!0,composed:null!==this.element.getRootNode().host}),l.detail=i||{};const p=new CustomEvent(r,l);return p.originalStopPropagation=p.stopPropagation,p.stopPropagation=function(){return p.isPropagationStopped=!0,p.originalStopPropagation()},this.dispatchEvent(p),p}get isPassiveSupported(){const r=this;if(void 0!==r.supportsPassive)return r.supportsPassive;r.supportsPassive=!1;try{let i=Object.defineProperty({},"passive",{get:function(){r.supportsPassive=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(i){}return r.supportsPassive}dispatchEvent(r){const i=this,l=r.type,c=i.element.context,p=l.substring(0,1).toUpperCase()+l.substring(1);i.element.context=document,i.element["on"+p]?i.element["on"+p](r):i.element["on"+l.toLowerCase()]?i.element["on"+l.toLowerCase()](r):i.element.dispatchEvent(r),i.element.context=c}listen(r,i){const l=this,c=r.split("."),p=c.slice(1).join("."),g=c[0];l.events[g]||(l.events[g]=[]);const _={type:g,handler:i,context:l.element,namespace:p};b.indexOf(g)>=0&&(l.inputEvents||(l.inputEvents=new x(l.element)),l.inputEvents[g](function(S){l.dispatchEvent(S)}),l.inputEvents.boundEventTypes.push(g),l.inputEvents.listen(g)),0===l.events[g].length&&(l.handlers[g]=l.dispatch.bind(l),"wheel"===g?l.element.addEventListener("wheel",l.handlers[g],!!l.isPassiveSupported&&{passive:!1}):l.element.addEventListener(g,l.handlers[g],("touchmove"===g||"touchstart"===g||"touchend"===g)&&!!l.isPassiveSupported&&{passive:!1})),l.events[g].push(_)}unlisten(r){const i=this,l=r.split("."),c=l.slice(1).join("."),p=l[0];let g=i.events[p];if(i.inputEvents&&i.inputEvents.boundEventTypes.indexOf(p)>=0&&(i.inputEvents.boundEventTypes.splice(i.inputEvents.boundEventTypes.indexOf(p),1),0===i.inputEvents.boundEventTypes.length&&i.inputEvents.unlisten(p)),g){for(let _=0;_<g.length;_++){if(""!==c){let S=g.findIndex(T=>T.namespace===c);g.splice(S,1);break}g=[]}0===g.length&&(i.element.removeEventListener(p,i.handlers[p]),i.events[p]=[],delete i.handlers[p])}}getAttributeValue(r,i){const l=this,c=l.element.getAttribute(r);if(l.isNativeElement)return l.deserialize(c,i);const p=l.element.propertyByAttributeName[r];return void 0===p.deserialize?l.deserialize(c,i,p.nullable):l.element[p.deserialize](c)}setAttributeValue(r,i,l){const c=this;let p,g=!1;if(c.isNativeElement){if(p=c.serialize(i,l),"boolean"===l&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(r)>=0)return void(i?c.element.setAttribute(r,""):c.element.removeAttribute(r))}else{const _=c.element.propertyByAttributeName[r];g=!_||_.nullable,p=_&&_.serialize?c.element[_.serialize](i):c.serialize(i,l,g)}"array"!==l&&"object"!==l||"[]"!==p&&"{}"!==p?void 0===p?(c.element.removeAttribute(r),c.element.shadowRoot&&c.element.$.root&&c.element.$.root.removeAttribute(r)):(c.element.setAttribute(r,p),c.element.shadowRoot&&c.element.$.root&&c.element.$.root.setAttribute(r,p)):c.element.removeAttribute(r)}serialize(r,i,l){if(void 0===i&&(i=N.Types.getType(r)),void 0!==r&&(l||null!==r)){if(l&&null===r)return"null";if("string"===i)return r;if("boolean"===i||"bool"===i){if(!0===r||"true"===r||1===r||"1"===r)return"";if(!1===r||"false"===r||0===r||"0"===r)return}return"array"===i?JSON.stringify(r):["string","number","int","integer","float","date","any","function"].indexOf(i)>=0?r.toString():"object"===i?JSON.stringify(r):void 0}}deserialize(r,i,l){const c="null"===r;if(void 0!==r&&(!c||l)){if(c&&l)return null;if("boolean"===i||"bool"===i)return null!==r;if("number"===i||"float"===i)return"NaN"===r?NaN:"Infinity"===r?1/0:"-Infinity"===r?-1/0:parseFloat(r);if("int"===i||"integer"===i)return"NaN"===r?NaN:"Infinity"===r?1/0:"-Infinity"===r?-1/0:parseInt(r);if("string"===i||"any"===i)return r;if("date"===i)return new Date(r);if("function"===i){if("function"==typeof window[r])return window[r]}else if("array"===i||"object"===i)try{const p=JSON.parse(r);if(p)return p}catch(p){if(window[r]&&"object"==typeof window[r])return window[r];if("array"===i&&r.indexOf("[")>=0){if(r.indexOf("{")>=0){let g=r.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();g=g.split("},");for(let _=0;_<g.length;_++){let S={},T=g[_].trim().split(",");for(let M=0;M<T.length;M++){const L=T[M].split(":")[0].trim(),D=T[M].split(":")[1].trim();S[L]=D}g[_]=S}return g}return r.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class A{static get Ripple(){return o}static get Easings(){return d}}class N{static get Types(){return s}static get Core(){return f}static get Animation(){return A}static get Scroll(){return w}static get InputEvents(){return x}static Extend(r){return new C(r)}static Assign(r,i){if(r.indexOf(".")>=0){const l=r.split(".");return N[l[0]]||(N[l[0]]={}),void(N[l[0]][l[1]]=i)}N[r]=i}}const E=N.Extend(document);let O=null;document.addEventListener("click",()=>{u.start(),O&&clearTimeout(O),O=setTimeout(()=>{u.stop()},1e4)}),document.addEventListener("mouseenter",()=>{u.start()}),document.addEventListener("mouseleave",()=>{u.stop()});class I{}I.cache={};class k extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:null,type:"any",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[n].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}getBindings(r,i){const l=this;let c=0,p={},g=(_=>{if(_ instanceof HTMLElement)return l.parseAttributes(_);{let S=l.parseProperty(_.data?_.data.trim():null,"textContent",_);if(S)return l&&_.parentNode===l.$.content&&(S.value=""!==l.$.html?l.$.html:void 0,l.innerHTML=""),{textContent:S}}})(r);g&&(p.data=g),i||(p.mapping=[],i=p),r.getAttribute&&(p.nodeId=r.getAttribute("smart-id"),i&&g&&(i.mapping[p.nodeId]=g)),p.node=r,r.firstChild&&(p.children={});for(let _=r.firstChild;_;_=_.nextSibling)p.children[c++]=l.getBindings(_,i);return p}_addRemovePropertyBinding(r,i,l,c,p){if(!r||!i||!l)return;const g=this,_=g.bindings,S=l.getAttribute("smart-id"),T=r.indexOf("{{")>=0;let M=!1;(r=r.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(r=r.replace("!",""),M=!0);const L=g._properties[r],D={name:r,reflectToAttribute:L.reflectToAttribute,twoWay:T,type:L.type,not:M};if(p&&!c){const V={};V[r]={name:r,targetPropertyName:i,reflectToAttribute:L.reflectToAttribute,twoWay:T,type:L.type,not:M},_.mapping[S]=V}const P=function(V){for(let U in V){const j=V[U];if(j.nodeId===S){j.data||(j.data={}),c?(j.data[i]=null,delete j.data[i]):j.data[i]=D;break}if(j.children)P(j.children);else if(j.node&&j.node.children&&j.node===l.parentElement){const G=j.node;if(!G.firstChild)continue;j.children={};let q=0;for(let Z=G.firstChild;Z;Z=Z.nextSibling)j.children[q++]=g.getBindings(Z);P(j.children)}}};P(_.children),c?delete g.boundProperties[r]:g.boundProperties[r]=!0,g.updateBoundNodes(r)}addPropertyBinding(r,i,l,c){this._addRemovePropertyBinding(r,i,l,!1,c)}removePropertyBinding(r,i,l,c){this._addRemovePropertyBinding(r,i,l,!0,c)}parseAttributes(r){const i=this;let l;for(let c=0;c<r.attributes.length;c++){const p=r.attributes[c],g=p.name,_=p.value;I.cache["toCamelCase"+g]||(I.cache["toCamelCase"+g]=N.Core.toCamelCase(g));const S=I.cache["toCamelCase"+g];if(g.indexOf("(")>=0){let M=g.substring(1,g.length-1);if(i&&!i.dataContext){i.templateListeners[r.getAttribute("smart-id")+"."+M]=_,r.removeAttribute(g);continue}{l||(l={});const L=_.substring(0,_.indexOf("("));l[S]={isEvent:!0,name:M,value:L};continue}}let T=i.parseProperty(_,g,r);T&&(l||(l={}),l[S]=T)}return l}parseProperty(r,i){if(!r||!r.length)return;const l=this;let c,p=r.length,g=0,_=0,S=0,T=!0;for(;_<p;){g=r.indexOf("{{",_);let D=r.indexOf("[[",_),P="}}";if(D>=0&&(g<0||D<g)&&(g=D,T=!1,P="]]"),S=g<0?-1:r.indexOf(P,g+2),S<0)return;c=c||{};let V=r.slice(g+2,S).trim();c.name=V,_=S+2}const M=c.name,L=l?l._properties[M]:null;return c.twoWay=T,c.ready=!1,l&&(M.indexOf("::")>=0?l.boundProperties[M.substring(0,M.indexOf("::"))]=!0:l.boundProperties[M]=!0),L?(c.type=L.type,c.reflectToAttribute=L.reflectToAttribute):(c.type=["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(i)>=0?"boolean":"string",c.reflectToAttribute=!0),c}updateTextNodes(){const r=this;r.updateTextNode(r.shadowRoot||r,r.bindings,r)}updateTextNode(r,i,l){const c=this;if(!i)return;let p=0;for(let g=r.firstChild;g&&i.children;g=g.nextSibling)c.updateTextNode(g,i.children[p++],l);if(i&&i.data)for(let g in i.data){const _=i.data[g],S=_.name;"textContent"===g&&_.twoWay&&!_.updating&&void 0!==_.value&&(l[S]=_.value)}}updateBoundProperty(r,i){i.updating||(i.updating=!0,this[r]=i.value,i.updating=!1)}updateBoundNodes(r){const i=this;if(i.updateBoundNode(i.shadowRoot||i,i.bindings,i,r),i.detachedChildren.length>0)for(let l=0;l<i.detachedChildren.length;l++){const c=i.detachedChildren[l],p=c.getAttribute("smart-id"),g=function(S){if(S.nodeId===p)return S;for(let T in S.children){const M=S.children[T];if((M.getAttribute?M.getAttribute("smart-id"):"")===p)return S;if(M.children){const L=g(M);if(L)return L}}return null},_=g(i.bindings);if(_)i.updateBoundNode(c,_,i,r,!0);else if(c.getAttribute&&i.bindings.mapping){const S=i,T=i.bindings;if(T)for(let M in T.mapping){const L=S.querySelector('[smart-id="'+M+'"]');L&&i.updateBoundData(L,T.mapping[M],S,r)}}}}updateBoundMappedNodes(){const r=this,i=r.bindings,l=r;if(i.mapping)for(let c in i.mapping){let p=l.querySelector('[smart-id="'+c+'"]');if(l.shadowRoot&&(p=l.querySelector('[id="'+c+'"]'),p||(p=l.shadowRoot.querySelector('[id="'+c+'"]')||l.shadowRoot.querySelector('[smart-id="'+c+'"]'))),p)r.updateBoundData(p,i.mapping[c],l);else if(l.getAttribute("aria-controls")){let g=document.getElementById(l.getAttribute("aria-controls"));!g&&l.shadowRoot&&(g=l.shadowRoot.getElementById(l.getAttribute("aria-controls"))),p=g.querySelector('[smart-id="'+c+'"]'),p&&r.updateBoundData(p,i.mapping[c],l)}}}updateBoundNode(r,i,l,c,p){const g=this;if(!i)return;let _=0;if(p){if(p&&!i.data)for(let T=r.firstChild;T&&i.children;T=T.nextSibling)if(T.getAttribute){const M=T.getAttribute("smart-id"),L=function(){for(let D in i.children)if(i.children[D].nodeId===M)return i.children[D]}();g.updateBoundNode(T,L,l,c),_++}else g.updateBoundNode(T,i.children[_++],l,c,p)}else for(let T=r.firstChild;T&&i.children;T=T.nextSibling)if(T.getAttribute){const M=T.getAttribute("smart-id"),L=function(){for(let D in i.children)if(i.children[D].nodeId===M)return i.children[D]}();g.updateBoundNode(T,L,l,c),_++}else g.updateBoundNode(T,i.children[_++],l,c);i&&i.data&&g.updateBoundData(r,i.data,l,c)}updateBoundData(r,i,l,c){const p=this;for(let g in i){const _=i[g];let S=_.name;if(!_.updating&&(S.indexOf("::")>=0&&(S=S.substring(0,S.indexOf("::"))),void 0===c||c===S)){if(S.indexOf("(")>=0){let T=S.substring(S.indexOf("("));const M=S.substring(0,S.indexOf("("));if(T=T.substring(1,T.length-1),T=T.replace(/ /gi,""),T=T.split(","),T.length>0&&""!==T[0]){let L=[];for(let D=0;D<T.length;D++)L.push(l[T[D]]);_.value=l[M].apply(l,L)}else _.value=l[M]();_.type=typeof _.value}else _.value=l[S];if("innerHTML"===S){if(r[g].toString().trim()!==l[S].toString().trim()){if(window.smartBlazor&&r[g].indexOf("\x3c!--")>=0){(_.ready||l._properties[S].defaultValue!==_.value)&&(r[g]=_.value.toString());continue}(_.ready||l._properties[S].defaultValue!==_.value)&&(r[g]=_.value.toString().trim())}}else _.not?(r[g]=!_.value,_.targetPropertyName&&(r[_.targetPropertyName]=!_.value)):(r[g]=_.value,_.targetPropertyName&&(r[_.targetPropertyName]=_.value));if(r.$&&r.$.isNativeElement){I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const T=I.cache["toDash"+g],M=r.$.getAttributeValue(T,_.type);!_.reflectToAttribute||M===_.value&&_.ready||r.$.setAttributeValue(T,_.value,_.type),_.reflectToAttribute||r.$.setAttributeValue(T,null,_.type)}if(!_.ready){if(r.$&&r.$.isCustomElement){I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const T=I.cache["toDash"+g];r._properties||(r._beforeCreatedProperties=r._properties=r.propertyByAttributeName=[]),r._properties[g]||(r._properties[g]={attributeName:T},r._beforeCreatedProperties&&(r._beforeCreatedProperties[g]=r._properties[g]),r.propertyByAttributeName[T]=r._properties[g]);const M=r._properties[g];M.isUpdating=!0,_.reflectToAttribute&&r.$.setAttributeValue(M.attributeName,_.not?!_.value:_.value,_.type),_.reflectToAttribute||r.$.setAttributeValue(M.attributeName,null,_.type),M.isUpdating=!1}if(_.twoWay){const T=function(M){if(_.value=M,r.$&&r.$.isNativeElement){I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const L=I.cache["toDash"+g],D=r.$.getAttributeValue(L,_.type);_.reflectToAttribute&&D!==_.value&&r.$.setAttributeValue(L,_.value,_.type),_.reflectToAttribute||r.$.setAttributeValue(L,null,_.type)}};if(_.name.indexOf("::")>=0){const M=_.name.indexOf("::"),L=_.name.substring(M+2);p["$"+r.getAttribute("smart-id")].listen(L,function(){T(r[g]);const D=_.name.substring(0,_.name.indexOf("::"));p.updateBoundProperty(D,_)})}if(r.$&&r.$.isCustomElement){r._properties[g]&&(r._properties[g].notify=!0),I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const M=I.cache["toDash"+g];p["$"+r.getAttribute("smart-id")].listen(M+"-changed",function(L){T(L.detail.value);const P=p.context;L.context!==document&&(p.context=p),p.updateBoundProperty(_.name,_),p.context=P})}}}_.ready=!0}}}static clearCache(){this.cache={}}addMessages(r,i){Object.assign(this.messages[r],i)}localize(r,i){const l=this;if(!l.messages||!l.messages[l.locale])return;let c=l.messages[l.locale][r];if(""===c)return"";if(!c){const g=l.messages.en;if(g){let _=g[r];if(_){for(let S in i){let T=i[S];_=_.replace(new RegExp("{{"+S+"}}","g"),T)}return _}return r}}const p=c;for(let g in i){let _=i[g];c=c.replace(new RegExp("{{"+g+"}}","g"),_)}if(l.localizeFormatFunction){const g=l.localizeFormatFunction(p,c,i,r);if(void 0!==g)return g}return c}static get requires(){return{}}static get listeners(){return{"theme-changed":function(r){this.theme=r.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}get hasAnimation(){return"none"!==this.animation}get hasRippleAnimation(){return"none"!==this.animation&&"advanced"===this.animation}static get modules(){return window[n].Modules}get properties(){const r=this;return r._properties||(r._properties=[]),r._properties}get parents(){const r=this;let i=[],l=r.parentNode;for(;l&&9!==l.nodeType;)l instanceof HTMLElement==1&&i.push(l),l=l.parentNode;const c=r.getRootNode();return c.host&&(i=i.concat((g=>{let _=[g],S=g.parentNode;for(;S&&9!==S.nodeType;)S instanceof HTMLElement==1&&_.push(S),S=S.parentNode;return _})(c.host))),window[n].EnableShadowDOM&&r.isInShadowDOM&&r.shadowParent&&(i=i.concat(r.shadowParent.parents)),i}log(r){this._logger("log",r)}warn(r){this._logger("warn",r)}error(r){this._logger("error",r)}_logger(r,i){if(this.debugMode){const l=i instanceof Error?i.message:i.toString();console[r](l)}if(this.rethrowError&&"error"===r)throw i}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){this.onRegistered&&this.onRegistered()}created(){const r=this;r.isReady=!1,r._initElement(r),r._setModuleState("created"),r.onCreated&&r.onCreated()}completed(){const r=this;r.isCompleted=!0,r._onCompleted&&r._onCompleted(),r.onCompleted&&r.onCompleted()}whenReady(r){const i=this;i.isCompleted?r():(i.whenReadyCallbacks||(i.whenReadyCallbacks=[]),i.whenReadyCallbacks.push(r))}whenRendered(r){const i=this;i.isRendered?r():(i.whenRenderedCallbacks||(i.whenRenderedCallbacks=[]),i.whenRenderedCallbacks.push(r))}addThemeClass(){const r=this;""!==r.theme&&r.classList.add("smart-"+r.theme)}addDefaultClass(){const r=this;r.classList.add(n.toLowerCase()+"-element"),r.classList.add(r.nodeName.toLowerCase())}_renderShadowRoot(){const r=this;if(r.shadowRoot){r.$.root.classList.add(r.nodeName.toLowerCase());for(let i=0;i<r.attributes.length;i++){const l=r.attributes[i];"class"===l.name||"id"===l.name||"style"===l.name||"tabindex"===l.name||l.name.indexOf("aria")>=0||r.$.root.setAttribute(l.name,l.value)}for(let i=0;i<r.classList.length;i++){const l=r.classList[i];"smart-element-init"!==l&&"smart-element"!==l&&"smart-hidden"!==l&&"smart-visibility-hidden"!==l&&r.$.root.classList.add(l)}}}render(){const r=this;if(!r.isRendered&&(r.isRendered=!0,r.isRendering=!1,r.context=document,r._renderShadowRoot(),r.whenRenderedCallbacks)){for(let i=0;i<r.whenRenderedCallbacks.length;i++)r.whenRenderedCallbacks[i]();r.whenRenderedCallbacks=[]}r.onRender&&r.onRender(),r.disabled&&r.setAttribute("aria-disabled",!0),r.readonly&&-1!==["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(r.getAttribute("role"))&&r.setAttribute("aria-readonly",!0)}ready(){const r=this;if(r._setId(),r.addThemeClass(),r.addDefaultClass(),"collapsed"===r.visibility?r.classList.add("smart-hidden"):"hidden"===r.visibility&&r.classList.add("smart-visibility-hidden"),r.dataContext&&r.applyDataContext(),r.onReady&&r.onReady(),r.shadowRoot&&Smart(r._selector)){if(Smart(r._selector).styleUrls){const i=Smart(r._selector).styleUrls;for(let l=0;l<i.length;l++)r.importStyle(i[l])}if(Smart(r._selector).styles){const i=document.createElement("style");i.innerHTML=Smart(r._selector).styles,r.shadowRoot.insertBefore(i,r.shadowRoot.firstChild)}}Smart(r._selector)&&Smart(r._selector).ready&&Smart(r._selector).ready()}_setId(){const r=this;if(!r.id){const i=r.elementName;r.id=i.slice(0,1).toLowerCase()+i.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}checkLicense(){"Evaluation"===window[n].License&&-1===window.location.hostname.indexOf("htmlelements")&&(this.logWatermark(),this.logLicense(),window[n].License="")}logWatermark(){const r=document.createElement("a");r.href="https://www.htmlelements.com/",r.innerHTML="https://www.htmlelements.com/",r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#fff",r.style.padding="20px",r.style.borderRadius="5px",r.style.background="#0C3D78",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="block",r.style.fontSize="24px",r.style.textDecoration="none",r.style.fontWeight="bold",r.style.opacity=0,r.style.transition="opacity .35s ease-in-out",r.id="watermark",document.getElementById("watermark")||setTimeout(()=>{document.getElementById("watermark")||(document.body.appendChild(r),setTimeout(()=>{r.style.opacity=1}),setTimeout(()=>{r.style.opacity=0,setTimeout(()=>{r.parentNode.removeChild(r)},350)},6e3))},1e3)}logLicense(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}get _selector(){const r=this;return r.id?"#"+r.id:r.classList.length>0?"."+r.classList[0]:""}applyDataContext(r){const i=this;let l="string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext;if(r&&(l=r,i.dataContext=r),l){if(!l._uid){l._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),l._properties=[];for(let c in l){const p=l[c];"function"!=typeof p&&"_properties"!==c&&"_uid"!==c&&(l._properties[c]=p,Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:()=>l._properties[c],set(g){const _=l._properties[c];l._properties[c]=g;let S=[];S[c]={oldValue:_,value:g},S.length++,i.updatingDataContext=!0,E.fireEvent("dataContextPropertyChanged",{dataContext:l,properties:S},{bubbles:!1,cancelable:!0}),i.updatingDataContext=!1}}))}}if(i.dataContextProperties=i.parseAttributes(i),i.dataContextPropertiesMap={},i.dataContextListeners={},i.dataContextProperties){i.updatingDataContext=!0;for(let c in i.dataContextProperties){const p=i.dataContextProperties[c],g=p.name;if(p.propertyName=c,i.dataContextPropertiesMap[g]=c,I.cache["toDash"+c]||(I.cache["toDash"+c]=N.Core.toDash(g)),p.isEvent){const _=p.value;i.dataContextListeners[g]&&i.removeEventListener(g,i.dataContextListeners[g]),i.dataContextListeners[g]=function(S){l[_](S)},i.addEventListener(g,i.dataContextListeners[g])}if(g.indexOf(".")>=0){const _=g.split(".");let S=l[_[0]];for(let T=1;T<_.length;T++)S=S[_[T]];void 0!==S&&(i[c]=S)}else i[c]=l[g]}i.dataContextPropertyChangedHandler=function(c){const p=c.detail.properties;if(c.detail.dataContext===("string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext))for(let g in p){const _=i.dataContextPropertiesMap[g],S=i.context;_&&(i.context=document,i[_]=p[g].value,i.context=S)}},E.listen("dataContextPropertyChanged",i.dataContextPropertyChangedHandler),i.updatingDataContext=!1}else i.dataContextProperties=null}else{i.dataContextProperties=null;const c=function(){("string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext)&&(i.applyDataContext(),window.removeEventListener("load",c))};window.addEventListener("load",c)}}updateDataContextProperty(r){const i=this,l="string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext,c=i.dataContextProperties[r];if(!i.updatingDataContext&&c.twoWay){const p=c.name;if(p.indexOf(".")>=0){const g=p.split(".");let _=l[g[0]];for(let S=1;S<g.length;S++)_=_[g[S]];void 0!==_&&(_=i[r],y[l._uid]&&(y[l._uid][r]=_))}else l[p]=i[r],y[l._uid]&&(y[l._uid][r]=l[p])}}static get version(){return window[n].Version}initProperties(){const r=this;if(Smart(r._selector)&&Smart(r._selector).properties&&(r._initProperties=Smart(r._selector).properties),r.hasAttribute("props")&&!r.props?r._initProperties=window[r.getAttribute("props")]:r.props&&(r._initProperties=r.props),r._initProperties){const i=Object.keys(r._initProperties);for(let l=0;l<i.length;l++){const c=i[l],p=r._initProperties[c];if(p.constructor===Smart.ObservableArray||p instanceof Smart.ObservableArray)r[c]=p.toArray();else if(p.constructor===Smart.DataAdapter||"smartDataAdapter"===p.constructor.name||"object"==typeof p&&Smart.DataAdapter&&p instanceof Smart.DataAdapter||p instanceof Smart.Observable||p.constructor===Smart.Observable||"object"!=typeof p||N.Types.isArray(p)||p instanceof Date){if(void 0===r[c]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(c)){const g=r.localize("propertyUnknownName",{name:c});r.log(g)}r[c]=p}else if("messages"!==c)if("dataSourceMap"!==c){if("object"==typeof p){const g=function(_,S){const T=Object.keys(_);for(let M=0;M<T.length;M++){const L=T[M],D=_[L],P=r._properties[S+"_"+L];if(P&&null===P.value){if(void 0===r[S+"_"+L]){const V=r.localize("propertyUnknownName",{name:S+"_"+L});r.log(V)}r[S+"_"+L]=D}else if("object"==typeof D&&!N.Types.isArray(D)&&D&&D.constructor!==Date)g(D,S+"_"+L);else{if(void 0===r[S+"_"+L]){const V=r.localize("propertyUnknownName",{name:S+"_"+L});r.log(V)}r[S+"_"+L]=D}}};g(p,c)}}else r[c]=p;else r[c]=Object.assign(r[c],p)}}}setProperties(r){const i=this,l=Object.keys(r);for(let c=0;c<l.length;c++){const p=l[c],g=r[p];if(g.constructor===Smart.ObservableArray||g instanceof Smart.ObservableArray)i[p]=g.toArray();else if(g.constructor===Smart.DataAdapter||"smartDataAdapter"===g.constructor.name||"object"==typeof g&&Smart.DataAdapter&&g instanceof Smart.DataAdapter||g instanceof Smart.Observable||g.constructor===Smart.Observable||"object"!=typeof g||N.Types.isArray(g)||g instanceof Date){if(void 0===i[p]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(p))continue;const _=i._properties[p];i[p]="int"===_.type||"number"===_.type&&"string"==typeof subPropertyValue?"int"===_.type?parseInt(g):parseFloat(g):g}else if("messages"!==p&&"dataSourceMap"!==p){if("object"==typeof g){const _=function(S,T){const M=Object.keys(S);for(let L=0;L<M.length;L++){const D=M[L],P=S[D],V=i._properties[T+"_"+D];if(V&&null===V.value){if(void 0===i[T+"_"+D])continue;const U=i._properties[T+"_"+D];i[T+"_"+D]="int"===U.type||"number"===U.type&&"string"==typeof P?"int"===U.type?parseInt(P):parseFloat(P):P}else if("object"==typeof P&&!N.Types.isArray(P)&&P&&P.constructor!==Date)_(P,T+"_"+D);else{if(void 0===i[T+"_"+D])continue;const U=i._properties[T+"_"+D];i[T+"_"+D]="int"===U.type||"number"===U.type&&"string"==typeof P?"int"===U.type?parseInt(P):parseFloat(P):P}}};_(g,p)}}else i[p]=g}}setup(){const r=this;if(r.context=this,r.isReady&&!r.isCompleted)return;if(r.isReady)return r._setModuleState("attached"),r.isAttached=!0,r.attached(),r._handleListeners("listen"),void(r.context=document);r.ownerElement&&r.ownerElement.detachedChildren.indexOf(r)>=0&&r.ownerElement.detachedChildren.splice(r.ownerElement.detachedChildren.indexOf(r),1),r.isReady=!0,r.methods=r.getStaticMember("methods"),r.initProperties(),f.isMobile&&r.classList.add("smart-mobile");for(let c=0;c<r.attributes.length;c+=1){const p=r.propertyByAttributeName[r.attributes[c].name];if(!p)continue;let g=r.$.getAttributeValue(p.attributeName,p.type);const _=g?g.toString():"";if(!(_.indexOf("{{")>=0||_.indexOf("[[")>=0||"object"!==p.type&&"array"!==p.type&&(r.attributes[c].value.indexOf("{{")>=0||r.attributes[c].value.indexOf("[[")>=0)||void 0===g||p.value===g)){const S=N.Types.getType(g),T=r.attributes[c].value;if(("any"===p.type||"object"===p.type)&&""+r[p.name]===g||"array"===p.type&&r[p.name]&&JSON.stringify(r[p.name])===g)continue;if("number"===S&&isNaN(g)&&"NaN"!==T&&"Infinity"!==T&&"-Infinity"!==T){const M=r.localize("propertyInvalidValueType",{name:p.name,actualType:"string",type:p.type});r.log(M)}p.isUpdatingFromAttribute=!0,r[p.name]=g,p.isUpdatingFromAttribute=!1}}for(let c in r._properties){const p=r._properties[c];if("innerHTML"===c&&p.value===p.defaultValue&&(p.value=p.defaultValue=N.Core.html(r)),"boolean"!==p.type&&"bool"!==p.type||"false"===r.getAttribute(p.attributeName)&&(p.isUpdating=!0,r.setAttribute(p.attributeName,""),p.isUpdating=!1),p.defaultReflectToAttribute&&p.reflectToAttribute){if(p.defaultReflectToAttribute&&p.defaultReflectToAttributeConditions){let g=!0;for(let _=0;_<p.defaultReflectToAttributeConditions.length;_++){const S=p.defaultReflectToAttributeConditions[_];let T,M;for(let L in S)T=L,M=S[L];r._properties[T]&&r._properties[T].value!==M&&(g=!1)}if(!g)continue}p.isUpdating=!0,r.$.setAttributeValue(p.attributeName,p.value,p.type),p.isUpdating=!1}}const i=[];if(r.children.length>0)for(let c=0;c<r.children.length;c++){const p=r.children[c];N.Extend(p).isCustomElement&&i.push(p)}r.applyTemplate(),r.complete=function(){if(!r.templateBindingsReady){const p=g=>{g.templateBindingsReady||(g.templateBindingsReady=!0,g.updateTextNodes(),g.updateBoundNodes())};if(r.ownerElement){let g=r.ownerElement,_=[];for(;g;)_.push(g),g=g.ownerElement;for(let S=_.length-1;S>=0;S--)p(_[S]);p(r)}else p(r)}const c=()=>{if(r._setModuleState("ready"),r.ready(),"auto"!==r.renderMode||r.isRendered||r.render(),r.isAttached=!0,r._setModuleState("attached"),r.attached(),r._handleListeners("listen"),r.isHidden||0!==r.offsetWidth&&0!==r.offsetHeight||(r.isHidden=!0),r.completed(),r.isRendered&&(r.context=document),r.whenReadyCallbacks){for(let p=0;p<r.whenReadyCallbacks.length;p++)r.whenReadyCallbacks[p]();r.whenReadyCallbacks=[]}};if(r.wait)r.classList.add("smart-visibility-hidden");else if(r.classList.contains("smart-async"))requestAnimationFrame(()=>{c()});else{const p=r.shadowParent;r.shadowParent=null;const g=r.parents;if(r.shadowParent=p,0===g.length)return;const _=()=>{let S=r.ownerElement,T=[];for(;S;)T.push(S),S=S.ownerElement;for(let M=T.length-1;M>=0;M--)T[M].updateBoundMappedNodes()};r.ownerElement&&"HTML"!==g[g.length-1].nodeName?r.getRootNode().host?c():r.ownerElement&&"HTML"===r.ownerElement.parents[r.ownerElement.parents.length-1].nodeName?(_(),c()):r.checkIsInDomInterval=setInterval(()=>{const S=r.parents;"HTML"===S[S.length-1].nodeName&&(clearInterval(r.checkIsInDomInterval),_(),c())},100):c()}};let l=[].slice.call(r.querySelectorAll("[smart-id]")).concat(i);if(window[n].EnableShadowDOM&&!0!==r.isInShadowDOM&&(l=[].slice.call(r.shadowRoot.querySelectorAll("[smart-id]")).concat(i)),0===l.length)r.complete();else{r._completeListeners=0;for(let c=0;c<l.length;c++){const p=l[c];if(N.Extend(p).isCustomElement){const g=function(){r._completeListeners--,0===r._completeListeners&&(r.complete(),delete r._completeListeners)}.bind(r);p.isCompleted||p.isUtilityElement||!0===p.wait||(r._completeListeners++,p._onCompleted||(p.completeHandlers=[],p._onCompleted=function(){for(let _=0;_<p.completeHandlers.length;_++)p.completeHandlers[_]()}),p.completeHandlers.push(g))}}0===r._completeListeners&&r.complete()}}visibilityChangedHandler(){const r=this;r.isReady&&requestAnimationFrame(()=>{0===r.offsetWidth||0===r.offsetHeight?r.isHidden=!0:(r.isHidden=!1,r.$.fireEvent("resize",r,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(r,i,l){const c=this,p=c.propertyByAttributeName[r];if("class"!==r&&"style"!==r||c.visibilityChangedHandler(),p||c.attributeChanged(r,i,l),c.onAttributeChanged&&c.onAttributeChanged(r,i,l),!p||p&&p.isUpdating)return;let g=c.$.getAttributeValue(p.attributeName,p.type);void 0!==l&&c[p.name]!==g&&(p.isUpdatingFromAttribute=!0,c[p.name]=void 0!==g?g:c._properties[p.name].defaultValue,p.isUpdatingFromAttribute=!1)}attributeChanged(r,i,l){}set hasStyleObserver(r){const i=this;void 0===i._hasStyleObserver&&(i._hasStyleObserver=r),r?u.watch(i):u.unwatch(i)}get hasStyleObserver(){return void 0===this._hasStyleObserver||this._hasStyleObserver}attached(){const r=this;r.hasStyleObserver&&u.watch(r),r.onAttached&&r.onAttached(),Smart(r._selector)&&Smart(r._selector).attached&&Smart(r._selector).attached()}detached(){const r=this;r.hasStyleObserver&&u.unwatch(r),r._setModuleState("detached"),r.isAttached=!1,r.ownerElement&&-1===r.ownerElement.detachedChildren.indexOf(r)&&r.ownerElement.detachedChildren.push(r),r._handleListeners("unlisten"),r.onDetached&&r.onDetached(),Smart(r._selector)&&Smart(r._selector).detached&&Smart(r._selector).detached(),v&&v[r._selector]&&delete v[r._selector]}propertyChangedHandler(r,i,l){const c=this;i!==l&&("theme"===r&&(""!==i&&c.classList.remove("smart-"+i),""!==l&&c.classList.add("smart-"+l)),"visibility"===r?("collapsed"===i?c.classList.remove("smart-hidden"):"hidden"===i&&c.classList.remove("smart-visibility-hidden"),"collapsed"===l?c.classList.add("smart-hidden"):"hidden"===l&&c.classList.add("smart-visibility-hidden")):("disabled"===r||"readonly"===r)&&c._ariaPropertyChangedHandler(r,l),c.propertyChanged&&c.propertyChanged(r,i,l))}_ariaPropertyChangedHandler(r,i){const l=this;"readonly"===r&&-1===["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(l.getAttribute("role"))||(i?l.setAttribute("aria-"+r,!0):l.removeAttribute("aria-"+r))}_handleListeners(r){const i=this,l=i.tagName.toLowerCase(),c=p=>{for(let g in p){const _=g.split(".");let S=_[0],T=i.$;if(_[1])if(S=_[1],T=i["$"+_[0]],"document"===_[0]){let D=i.smartId;""===D&&(D=N.Core.toCamelCase(l)),S=S+"."+D}else i.smartId&&(S=S+"."+i.smartId+"_"+i.parents.length);else i.smartId&&(S=S+"."+i.smartId);const M=p[g],L=function(D){const P=i.context;i.context=i,i[M]&&i[M].apply(i,[D]),i.context=P};T&&T[r](S,L)}};c(i.getStaticMember("listeners")),c(i.templateListeners),Smart(i._selector)&&Smart(i._selector).properties&&c(Smart(i._selector).listeners)}parseTemplate(){const r=this,i=r.template(),l=document.createDocumentFragment();if(e[r.nodeName]&&!a)return e[r.nodeName].cloneNode(!0);if(""===i)return null;let c=document.createElement("div");l.appendChild(c),c.innerHTML=i;let p=c.childNodes;c.parentNode.removeChild(c);for(let g=0;g<p.length;g++)l.appendChild(p[g]);return e[r.nodeName]=l,a?l:l.cloneNode(!0)}applyTemplate(){const r=this,i=r.parseTemplate();if(!i||!i.hasChildNodes)return;const l=i.childNodes[0],c=(_,S)=>{r["$"+_]=S.$=N.Extend(S),r.$[_]=S,S.ownerElement=r};let p=l;if(l.getElementsByTagName("content").length>0){let _=l.getElementsByTagName("content")[0];p=_.parentNode,p.removeChild(_)}else{const _=i.querySelectorAll("[inner-h-t-m-l]");_&&_.length>0&&(p=_[0])}r.$.template="template"===l.nodeName.toLowerCase()?l:l.querySelector("template");let g=i.querySelectorAll("[id]");0===g.length&&(g=i.querySelectorAll("*")),c("root",l),c("content",p),r.$.html=r.innerHTML.toString().trim();for(let _=0;_<g.length;_+=1){let S=g[_];""===S.id&&(S.id="child"+_),c(S.id,S),S.setAttribute("smart-id",S.id),r.shadowRoot?S.shadowParent=r:S.removeAttribute("id")}for(r.bindings=!1!==r.hasTemplateBindings?r.getBindings(i):[],r.$root.addClass("smart-container");r.childNodes.length;)p.appendChild(r.firstChild);if(r.appendTemplate(i),r.$.template){const _=document.createElement("div");_.classList.add("smart-template-container"),r.$.templateContainer=_,r.$.template.parentNode.insertBefore(_,r.$.template),r.refreshTemplate()}}refreshTemplate(){const r=this;if(!r.$.templateContainer)return;r.templateDetached(r.$.templateContainer);const i=r.$.template.content.cloneNode(!0);r.templateBindings=r.getBindings(i),r.templateProperties=[];let l=document.createDocumentFragment();const c=function(p,g,_){for(let S in p){const T=p[S],M=T.node.cloneNode();g.appendChild(M);let L=[],D=!1;if(T.data)for(let P in T.data){const V=T.data[P],U=V.name;if(r.templateProperties[U]=!0,M.removeAttribute(N.Core.toDash(P)),"*items"===P)L=r[U],D=!0;else if(U.indexOf("item.")>=0&&void 0!==_)V.value=_[U.substring(5)],M[P]=V.value;else if(U.indexOf("item")>=0&&void 0!==_)V.value=_,M[P]=V.value;else if("*if"===P)if(U.indexOf("(")>=0){let j,G=U.substring(U.indexOf("("));const q=U.substring(0,U.indexOf("("));if(G=G.substring(1,G.length-1),G=G.replace(/ /gi,""),G=G.split(","),G.length>0&&""!==G[0]){let Z=[];for(let Q=0;Q<G.length;Q++)Z.push(r[G[Q]]);j=r[q].apply(r,Z)}else j=r[q]();!1===j&&g.removeChild(M)}else r[U]||g.removeChild(M);else r.updateBoundNode(M,T,r,U)}if(L.length>0||D){for(let P=0;P<L.length;P++)T.children&&c(T.children,M,L[P]);if("number"==typeof L)for(let P=0;P<L;P++)T.children&&c(T.children,M,P)}else T.children&&c(T.children,M,_)}};c(r.templateBindings.children,l),r.$.templateContainer.innerHTML="",r.$.templateContainer.appendChild(l),r.templateAttached(r.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(r){this.appendChild(r)}defineElementModules(){const r=this,i=r.constructor.prototype;if("BaseElement"===i.elementName){i.modules=r.constructor.modules;const l=i.modules;for(let c=0;c<l.length;c+=1)r.addModule(l[c])}else{const l=i.modules;if(!l)return;for(let c=0;c<l.length;c+=1){const p=l[c],g=p.prototype;r.defineElementMethods(g.methodNames,g),r.defineElementProperties(p.properties)}}}watch(r,i){this._watch=null!==r&&null!==i?{properties:r,propertyChangedCallback:i}:null}unwatch(){this._watch=null}set(r,i,l){const c=this,p=c.context;c.context=!0===l?document:c,c[r]=i,c.context=p}get(r){return this[r]}_setModuleState(r,i){const l=this,c="is"+r.substring(0,1).toUpperCase()+r.substring(1),p="on"+r.substring(0,1).toUpperCase()+r.substring(1);for(let g=0;g<l.modulesList.length;g++){const _=l.modulesList[g];_[c]=!0,_[r]&&_[r](i),_[p]&&_[p](i)}}addModule(r,i){const l=this;if(!r)return;const c=l.modules.slice(0),p=r.prototype,g=Object.getPrototypeOf(r);if(g.name&&g.name!==r.name&&l.addModule(g),!r.moduleName&&r.name&&(r.moduleName=r.name),-1===c.findIndex(_=>r.moduleName===_.moduleName)&&c.push(r),l.defineModule(r),l.defineElementMethods(p.methodNames,p),l.defineElementProperties(r.properties),l.constructor.prototype.modules=c,i)for(let _ in Smart.Elements.tagNames){const S=Smart.Elements.tagNames[_];let T=Object.getPrototypeOf(S),M=[];for(;T!==HTMLElement;)M.push(T.prototype),T=Object.getPrototypeOf(T);M.indexOf(l)>=0&&S!==l&&S.prototype.addModule(r)}}defineModule(r){if(r.isDefined)return;r.prototype._initModule=function(p){this.ownerElement=p};const i=r.properties||{},l=Object.keys(i),c=Object.getOwnPropertyNames(r.prototype);r.prototype.methodNames=c;for(let p=0;p<l.length;p+=1){const g=l[p],_=i[g];Object.defineProperty(r.prototype,g,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[g]:_.value},set(S){this.ownerElement[g]=S}})}r.isDefined=!0}getStaticMember(r,i){const l=window[n][this.elementName],c=l[r];i||(i="");let p="array"===i?[]:"string"===i?"":{},g=Object.getPrototypeOf(l),_=[];for(;g[r];)_.push(g[r]),g=Object.getPrototypeOf(g);for(let S=_.length-1;S>=0;S--)if("array"===i)for(let T=0;T<_[S].length;T++)-1===p.indexOf(_[S][T])&&p.push(_[S][T]);else"string"===i?-1===p.indexOf(_[S])&&(p+=_[S]):p=N.Core.assign(p,_[S]);if("array"===i){for(let S=0;S<c.length;S++)-1===p.indexOf(c[S])&&p.push(c[S]);return p}return"string"===i?(-1===p.indexOf(c)&&(p+=c),p):N.Core.assign(p,c)}defineElementHierarchicalProperties(r,i){const c=[];(function(p){const g=Object.keys(p);for(let _=0;_<g.length;_++){const S=g[_];if("messages"===S)continue;const T=p[S],M=Object.keys(T),L=M.indexOf("value")>=0&&M.indexOf("type")>=0&&"object"==typeof T.value;if("propertyObject"===T.type||L){const D=function(P,V){if(!P.value)return;const U=Object.keys(P.value);for(let j=0;j<U.length;j++){const G=U[j],q=P.value[G],Z=V+"_"+G;if("object"!=typeof q||null===q)break;const Q=Object.keys(q);if(!(Q.indexOf("value")>=0&&Q.indexOf("type")>=0))break;if("array"!==P.type&&(P.isHierarchicalProperty=!0),q.parentPropertyName=V,i){const te=i._properties[Z];if(P.value.hasOwnProperty(G)){if(te.isDefined)continue;delete P.value[G]}te.isDefined=!0,Object.defineProperty(P.value,G,{configurable:!1,enumerable:!0,get:()=>i._properties[Z].value,set(X){i.updateProperty(i,i._properties[Z],X)}})}c[Z]||(c[Z]=q,c.length++),("propertyObject"===q.type||"object"==typeof q.value&&"array"!==q.type)&&D(i?i._properties[Z]:q,Z)}};D(T,S)}}})(r),c.length>0&&!i&&this.defineElementProperties(c)}defineElement(){const r=this,i=r.constructor.prototype,l=r.getStaticMember("properties"),c=Object.getOwnPropertyNames(i);i.extendedProperties={},i.boundProperties={},i.templateListeners={},r.defineElementModules(),r.defineElementMethods(c,i),r.defineElementProperties(l),r.defineElementHierarchicalProperties(r.extendedProperties),i._initElement=function(){const p=this,g=i.extendedProperties,_=Object.keys(g),S=p.modules;p.$=N.Extend(p),p.$document=E,p.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),p.isCreated||(p.modulesList=[],p._properties=[],p._beforeCreatedProperties&&(p._properties=p._beforeCreatedProperties,delete p._beforeCreatedProperties),p.detachedChildren=[],p.propertyByAttributeName=[]);for(let T=0;T<S.length;T+=1){let M=new S[T];M._initModule(p),p.modulesList.push(M)}for(let T=0;T<_.length;T+=1){const M=_[T],L=g[M];let D=L.value;if(p._properties[M]){if(void 0!==p._properties[M].notify)continue;delete p._properties[M]}if(F&&"innerHTML"===M&&delete p[M],-1===window.navigator.userAgent.indexOf("PhantomJS")&&p.hasOwnProperty(M)&&(D=p[M],delete p[M]),"array"===L.type&&null!=D&&(D=D.slice(0)),"object"===L.type&&null!=D&&(D=Array.isArray(D)?D.slice(0):Object.assign({},D)),p._properties[M]={name:M,notify:L.notify,allowedValues:L.allowedValues,type:L.type,nullable:L.nullable,reflectToAttribute:L.reflectToAttribute,defaultReflectToAttribute:L.defaultReflectToAttribute,defaultReflectToAttributeConditions:L.defaultReflectToAttributeConditions,value:D,readOnly:L.readOnly,defaultValue:D,attributeName:L.attributeName,observer:L.observer,inherit:L.inherit,extend:L.extend,validator:L.validator},p.propertyByAttributeName[L.attributeName]=p._properties[M],!L.hasOwnProperty("type")){const V=p.localize("propertyUnknownType",{name:M});p.log(V)}if("any"===L.type||"propertyObject"===L.type)continue;const P=N.Types.getType(D);if(null!=D&&L.type!==P&&!L.validator){if("object"===L.type&&"array"===P||"number"===P&&["integer","int","float"].findIndex(U=>U===L.type)>=0)continue;const V=p.localize("propertyInvalidValueType",{name:M,actualType:P,type:L.type});p.log(V)}}p.defineElementHierarchicalProperties(p._properties,p),p.isCreated=!0},i.registered()}defineElementMethods(r,i){const l=this.constructor.prototype,c=function(g,_){const S=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&"localize"!==_&&"localize"!==_&&"cloneNode"!==_&&"importStyle"!==_&&"log"!==_&&"parseAttributes"!==_){const j=this.localize("elementNotInDOM");this.log(j)}let M=this;for(let j=0;j<this.modulesList.length;j++){let G=this.modulesList[j];if(_ in G){M=G;break}}const L=this.context,D=S.concat(Array.prototype.slice.call(arguments));let P=null;const V=function(j,G){return j===G||"number"===j&&("int"===G||"integer"===G||"float"===G)||"bool"===j&&"boolean"===G||"boolean"===j&&"bool"===G||"object"===j&&"any"===G||void 0};if(this.methods){const j=this.methods[_];if(j){const G=j.split(":");P=G[G.length-1].trim();const q=[],Z=j.substring(1+j.indexOf("("),j.lastIndexOf(")")).split(",");let Q="";for(let X=0;X<Z.length;X++){const re=Z[X];Q+=re,re.indexOf(":")>=0?(q.push(Q),Q=""):Q+=","}let te=q.length;for(let X=0;X<q.length;X++){const re=q[X].trim().split(":"),ie=re[0].split("=")[0].trim().indexOf("?")>=0,se=re[1].indexOf("?")>=0,le=re[1].replace(/\?/gi,"").trim(),de=le.split("|");let ee=re[0].split("=")[1];const ce=N.Types.getType(D[X]);if(void 0===D[X]&&ee){switch(ee=ee.trim(),le[0]){case"date":{let ae=ee.substring(ee.indexOf("(")+1,ee.lastIndexOf(")"));ae=ae.length>0?ae.split(",").map(oe=>parseInt(oe)):[],ee=0===ae.length?new Date:new Date(ae[0],ae[1],ae[2]);break}case"bool":case"boolean":ee="true"===ee||"1"===ee;break;case"int":case"integer":ee=parseInt(ee);break;case"float":case"number":ee=parseFloat(ee);break;case"any":case"object":ee=ee.indexOf("{")>=0?JSON.parse(ee):ee}D.push(ee)}else ie&&te--;if(le!==ce&&ce){let ae=!0;for(let oe=0;oe<de.length;oe++)if(V(ce,de[oe])){ae=!1;break}if(ae&&(null!==D[X]||!se)){const oe=this.localize("methodInvalidValueType",{name:_,actualType:ce,type:le,argumentIndex:X});this.log(oe)}}if(D.length<te){const ae=this.localize("methodInvalidArgumentsCount",{name:_,actualArgumentsCount:D.length,argumentsCount:te});this.log(ae)}}}}this.context=this;const U=g.apply(M,D);if(P){const j=void 0===N.Types.getType(U)?"void":N.Types.getType(U);if(!V(j,P)){const G=this.localize("methodInvalidReturnType",{name:_,actualType:j,type:P});this.log(G)}}return this.context=L,U}},p=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"];for(let g in r){let _=r[g];_&&_.startsWith&&_.startsWith("_")||void 0!==p.find(S=>S===_)||l.extendedProperties[_]||N.Types.isFunction(i[_])&&(l[_]=c(i[_],_))}}defineElementProperties(r){if(!r)return;const i=this,l=i.constructor.prototype,c=Object.keys(r),p=i.getStaticMember("properties");Object.assign(l.extendedProperties,r),i.updateProperty=function(g,_,S){const T=g;if(!_||_.readOnly)return;if(_.allowedValues){let D=!1;for(let P=0;P<_.allowedValues.length;P++)if(_.allowedValues[P]===S){D=!0;break}if(!D){const P=JSON.stringify(_.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),U=T.localize("propertyInvalidValue",{name:_.name,actualValue:"'"+S+"'",value:P});return void T.log(U)}}const M=_.name,L=T._properties[M].value;if(_.validator&&T[_.validator]){const D=T.context;T.context=T;const P=T[_.validator](L,S);void 0!==P&&(S=P),T.context=D}if(L!==S){if(T.propertyChanging){const D=T.propertyChanging(M,L,S);if(!1===D||null===D)return}if(!_.hasOwnProperty("type")){const D=T.localize("propertyUnknownType",{name:M});T.log(D)}if("array"!==_.type||JSON.stringify(L)!==JSON.stringify(S)){if(null!=S&&"any"!==_.type&&"propertyObject"!==_.type&&_.type!==N.Types.getType(S)&&!_.validator||null===S&&!_.nullable){let D=!0;if("object"===_.type&&"array"===N.Types.getType(S)&&(D=!1),"number"===N.Types.getType(S)&&["integer","int","float"].findIndex(P=>P===_.type)>=0&&(D=!1),D){const P=T.localize("propertyInvalidValueType",{name:M,actualType:N.Types.getType(S),type:_.type});return void T.error(P)}}if(_.isUpdating=!0,_.isHierarchicalProperty){const D=function(P,V){const U=Object.keys(P);for(let j=0;j<U.length;j++){const G=U[j],q=P[G];"object"==typeof q&&!N.Types.isArray(q)&&q&&q.constructor!==Date?D(q,V+"_"+G):T[V+"_"+G]=q}};D(S,M)}else T._properties[M].value=S;if(!_.isUpdatingFromAttribute&&_.reflectToAttribute&&T.$.setAttributeValue(_.attributeName,S,_.type),T.isReady&&(!T.ownerElement||T.ownerElement&&T.ownerElement.isReady)){if("wait"===M&&(S||!L||T.isCompleted||(T.classList.remove("smart-visibility-hidden"),T.ownerElement&&T.ownerElement.updateBoundMappedNodes(),T.updateBoundMappedNodes(),T.complete())),"renderMode"===M)return;if(T.context!==T&&!T.wait){const P=T.context;T.context=T,T.propertyChangedHandler(M,L,S),T.context=P,_.observer&&T[_.observer]&&(T.context=T,T[_.observer](L,S),T.context=document),T._watch&&T._watch.properties.indexOf(M)>=0&&T._watch.propertyChangedCallback(M,L,S)}const D=_.notify||T.boundProperties[M];D&&(T.$.fireEvent(_.attributeName+"-changed",{context:T.context,oldValue:L,value:T[M]}),T.boundProperties[M]&&T.updateBoundNodes(M)),D&&T.templateProperties&&T.templateProperties[M]&&T.refreshTemplate(),T.dataContextProperties&&("dataContext"===M?T.applyDataContext():T.dataContextProperties[M]&&T.updateDataContextProperty(M))}_.isUpdating=!1}}};for(let g=0;g<c.length;g+=1){const _=c[g],S=r[_],T=N.Core.toDash(_),M=S.type||"any",L=M.indexOf("?")>=0||"any"===M;L&&"any"!==M&&(S.type=M.substring(0,M.length-1)),S.nullable=L,S.attributeName=T.toLowerCase(),S.name=_,S.reflectToAttribute=void 0===S.reflectToAttribute||S.reflectToAttribute,S.inherit&&p[_]&&(S.value=p[_].value),S.extend&&p[_]&&N.Core.assign(S.value,p[_].value),l.hasOwnProperty(_)||Object.defineProperty(l,_,{configurable:!1,enumerable:!0,get(){if(this._properties[_])return this._properties[_].value},set(D){const P=this;P.updateProperty(P,P._properties[_],D)}})}}}let R=[],H=[],B=[],F=!1;const z=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);z&&parseInt(z[2],10)<=50&&(F=!0);class ${static register(r,i){const l=i.prototype;let c=f.toCamelCase(r).replace(/[a-z]+/,""),p=i.version||window[n].Version;if(window.customElements.get(r)&&window.customElements.get(r).version===p)return;let g=r;for(p=p.split(".");window.customElements.get(r);)r=g+"-"+p.join("."),p[2]=parseInt(p[2])+1;if(!R[r]){if(r.startsWith(n.toLowerCase()))R[r]=window[n][c]=window[n.toLowerCase()+c]=i;else{let _=r.split("-")[0];_=_.substring(0,1).toUpperCase()+_.substring(1),window[n][_]||(window[n][_]={}),R[r]=window[n][_][c]=window[_.toLowerCase()+c]=i,window[n][c]&&(c=f.toCamelCase(r)),window[n][c]=i}l.elementName=c,l.defineElement(),H[r]&&H[r](l),window.customElements.define(r,i)}}static registerElements(){const r=this;if(r.toRegister){r.isRegistering=!0;for(let i=0;i<r.toRegister.length;i++){const l=r.toRegister[i];r.register(l.tagName,l.element)}r.isRegistering=!1}}static get(r){if(R[r])return R[r]}static whenRegistered(r,i){if(!r)throw new Error("Syntax Error: Invalid tag name");const l=H[r],c=this.get(r),p=c?c.modules.length:3;try{l||c?!l&&c?(i(c.prototype),H[r]=void 0):l&&!c?H[r]=function(g){l(g),i(g)}:l&&c&&(c.proto&&(l(c.proto),i(c.proto)),H[r]=void 0):H[r]=function(g){try{i(g)}catch(_){const S=_ instanceof Error?_.message:_.toString();console.log(S)}}}catch(g){const _=g instanceof Error?g.message:g.toString();console.log(_)}if(c&&p!==c.prototype.modules.length){const g=document.querySelectorAll(r);for(let _=0;_<g.length;_++){const S=g[_];S.isCreated&&S._initElement()}}}}$.lazyRegister=!1,$.tagNames=[];class W{constructor(){const r=this;r.name="observableArray",r.observables=arguments.length<3?null:arguments[2];const i=new Proxy(r,{deleteProperty:function(l,c){return delete l[c],!0},apply:function(l,c,p){return l.apply(c,p)},get:function(l,c){return l[c]||isNaN(parseInt(c))?l[c]:r.getItem(parseInt(c))},set:function(l,c,p){return l[c]||isNaN(parseInt(c))?(l[c]=p,!0):(r.setItem(parseInt(c),p),!0)}});if(r._addArgs={eventName:"change",object:i,action:"add",index:null,removed:new Array,addedCount:1},r._removeArgs={eventName:"change",object:i,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){r._array=[];const l=arguments[0];for(let c=0,p=l.length;c<p;c++){const g=r._getItem(r._array.length,l[c]);r._array.push(g)}}else r._array=Array.apply(null,arguments);return 2===arguments.length&&(r.notifyFn=arguments[1]),i}get canNotify(){const r=this;return void 0===r._canNotify&&(r._canNotify=!0),r._canNotify}set canNotify(r){this._canNotify=r}_notify(r){const i=this;i.canNotify&&i.notifyFn&&i.notifyFn(r)}notify(r){r&&(this.notifyFn=r)}toArray(){return this._array}_getItem(r,i){const l=this;return"string"==typeof i||"number"==typeof i||void 0===i?i:new Proxy(i,{deleteProperty:function(c,p){return delete c[p],!0},set:function(c,p,g){const _=c[p];return c[p]=g,!l._canNotify||!1===c.canNotify||(l.observables&&!l.observables[p]||l._notify({eventName:"change",object:l,target:c,action:"update",index:r,path:r+"."+p,oldValue:_,newValue:g,propertyName:p}),!0)}})}getItem(r){return this._array[r]}setItem(r,i){const l=this,c=l._array[r];l._array[r]=l._getItem(r,i),l._notify({eventName:"change",object:l._array,action:"update",index:r,removed:[c],addedCount:1})}get length(){return this._array.length}set length(r){const i=this;s.isNumber(r)&&i._array&&i._array.length!==r&&i.splice(r,i._array.length-r)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){const r=this;r._addArgs.index=r._array.length;const i=r._array.concat.apply(r._array,arguments);return new Smart.ObservableArray(i)}join(r){return this._array.join(r)}pop(){const r=this;r._removeArgs.index=r._array.length-1,delete r[r._array.length-1];const i=r._array.pop();return r._removeArgs.removed=[i],r._notify(r._removeArgs),r._notifyLengthChange(),i}push(){const r=this;if(r._addArgs.index=r._array.length,1===arguments.length&&Array.isArray(arguments[0])){const i=arguments[0];for(let l=0,c=i.length;l<c;l++){const p=r._getItem(r._array.length,i[l]);r._array.push(p)}}else{const i=r._getItem(r._addArgs.index,arguments[0]);r._array.push.apply(r._array,[i])}return r._addArgs.addedCount=r._array.length-r._addArgs.index,r._notify(r._addArgs),r._notifyLengthChange(),r._array.length}_notifyLengthChange(){const r=this;if(!r.canNotify)return;const i=r._createPropertyChangeData("length",r._array.length);r._notify(i)}_createPropertyChangeData(r,i,l){return{eventName:"change",object:this,action:r,value:i,oldValue:l}}reverse(){return this._array.reverse()}shift(){const r=this,i=r._array.shift();return r._removeArgs.index=0,r._removeArgs.removed=[i],r._notify(r._removeArgs),r._notifyLengthChange(),i}slice(r,i){return this._array.slice(r,i)}sort(r){return this._array.sort(r)}splice(r,i,l){const c=this,p=c._array.length;let g;if(l&&l.length)for(let _=0;_<l.length;_++)g=c._array.splice(r+_,i,l[_]);else g=c._array.splice.apply(c._array,arguments);if(l){let _=c.canNotify;if(c.canNotify=!1,l.length)for(let S=0;S<l.length;S++)c.setItem(r+S,l[S]);else c.setItem(r,l);c.canNotify=_,c._notify({eventName:"change",object:this,action:"add",index:r,added:g,addedCount:c._array.length>p?c._array.length-p:0})}else c._notify({eventName:"change",object:this,action:"remove",index:r,removed:g,addedCount:c._array.length>p?c._array.length-p:0});return c._array.length!==p&&c._notifyLengthChange(),g}unshift(){const r=this,i=r._array.length,l=r._array.unshift.apply(r._array,arguments);return r._addArgs.index=0,r._addArgs.addedCount=l-i,r._notify(this._addArgs),r._notifyLengthChange(),l}indexOf(r,i){const l=this;for(let c=i||0,p=l._array.length;c<p;c++)if(l._array[c]===r)return c;return-1}lastIndexOf(r,i){const l=this;for(let c=i||l._array.length-1;c>=0;c--)if(l._array[c]===r)return c;return-1}find(r,i){return this._array.find(r,i)}findIndex(r,i){return this._array.findIndex(r,i)}every(r,i){return this._array.every(r,i)}some(r,i){return this._array.some(r,i)}forEach(r,i){this._array.forEach(r,i)}map(r,i){return this._array.map(r,i)}filter(r,i){return this._array.filter(r,i)}reduce(r,i){return void 0!==i?this._array.reduce(r,i):this._array.reduce(r)}reduceRight(r,i){return void 0!==i?this._array.reduceRight(r,i):this._array.reduceRight(r)}move(r,i){this.splice(i,0,this.splice(r,1)[0])}}let Y={};window[n]&&(Y=window[n]),window[n]=function(h,r){let i=h;if(h){if(h.indexOf("#")>=0||h.indexOf(".")>=0)return v[h]?v[h]:r?(v[h]=new r,function(l,c){const p=c.properties;c._properties=[];const g=function(S,T){const M=Object.keys(S);for(let L=0;L<M.length;L++){const D=M[L],P=S[D];c._properties[T+D]=P,Array.isArray(P)?c._properties[T+D]=new W(P,function(V){const U=D+"."+V.path,j=V.newValue,G=document.querySelector(l);if(G){const q=U.split(".");let Z=G;for(let Q=0;Q<q.length;Q++)Z=Z[q[Q]];Z=j}}):(Object.defineProperty(S,D,{configurable:!1,enumerable:!0,get:()=>c._properties[T+D],set(V){c._properties[T+D]=V}}),P&&"DataAdapter"===P.constructor.name||P&&"object"==typeof P&&Smart.DataAdapter&&P instanceof Smart.DataAdapter||"object"==typeof P&&P&&Object.keys(P).length>0&&g(P,T+D+"."))}};g(p,""),Object.defineProperty(c,"properties",{configurable:!1,enumerable:!0,get:()=>p});const _=document.querySelector(l);if(_&&_.isReady)for(let S in p)_[S]=p[S];else if(_){_.props={};for(let S in p)_.props[S]=p[S]}}(h,v[h]),v[h]):void 0;if(r){if($.tagNames[h]=r,$.lazyRegister){$.toRegister||($.toRegister=[]);const l=f.toCamelCase(i).replace(/[a-z]+/,"");return window[n][l]=r,void $.toRegister.push({tagName:i,element:r})}$.register(i,r)}}},window.addEventListener("load",function(){const h=window[n].Elements.tagNames;let r=[];for(let i in h){const l=h[i];let c=document.querySelectorAll("["+i+"]");for(let g=0;g<c.length;g++){const _=c[g];_ instanceof HTMLDivElement&&(_.__proto__=l.prototype,_.created(),_.connectedCallback()),_.classList.add("smart-element-ready")}let p=l.name;"Item"===p&&(p="ListItem"),c=document.querySelectorAll('[is="'+n.toLocaleLowerCase()+p+'"]');for(let g=0;g<c.length;g++)r.push(c[g])}if(r.length>0){const i=l=>{let c=[],p=l.parentNode;for(;p&&9!==p.nodeType;)p instanceof HTMLElement==1&&c.push(p),p=p.parentNode;return c};r.sort(function(l,c){let p=i(l).length,g=i(c).length;return p<g?1:p>g?-1:0});for(let l=0;l<r.length;l++){const c=r[l],p=c.getAttribute("is");let g;g="smartItem"===p?new window.smartListItem(c):new window[p](c),g.removeAttribute("is")}}});const K=function(){if("complete"===document.readyState&&"manual"!==window[n].RenderMode){B.sort(function(h,r){let i=h.element.parents.length,l=r.element.parents.length;return i<l?-1:i>l?1:0});for(let h=0;h<B.length;h++)window[n].RenderMode="",B[h].element.isLoading=!1,B[h].callback(),window[n].RenderMode="";B=[],document.removeEventListener("readystatechange",K)}};Object.assign(window[n],{Elements:$,Modules:[],BaseElement:class extends k{static get observedAttributes(){let h=this,r=["external-style"];for(let i in h.prototype.extendedProperties)r.push(h.prototype.extendedProperties[i].attributeName);return r}static get styleUrls(){return[]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(h){this._styleUrl=h}get isInShadowDOM(){const h=this,r=h.getRootNode();return!h.hasAttribute("smart-blazor")&&r!==document&&r!==h}getShadowRootOrBody(){const h=this;return h.isInShadowDOM&&h.getRootNode().host?h.getRootNode().host.shadowRoot:document.body}get enableShadowDOM(){return window[n].EnableShadowDOM}importStyle(h,r){this._importStyle(h,r)}_importStyle(h,r){const i=this;if(!i.shadowRoot||!h)return;const l=g=>{const _=i.shadowRoot.children;for(let T=0;T<_.length;T++){const M=_[T];if(M instanceof HTMLLinkElement&&M.href===g)return r&&r(),null}const S=document.createElement("link");return S.rel="stylesheet",S.type="text/css",S.href=g,S.onload=r,S},c=(()=>{const g=i.shadowRoot.children;let _=null;for(let S=0;S<g.length;S++){const T=g[S];T instanceof HTMLLinkElement&&(_=T)}return _})(),p=(g,_)=>{_.parentNode.insertBefore(g,_.nextSibling)};if(Array.isArray(h)){const g=document.createDocumentFragment();for(let _=0;_<h.length;_++){const S=l(h[_]);S&&g.appendChild(S)}c?p(g,c):i.shadowRoot.insertBefore(g,i.shadowRoot.firstChild)}else{const g=l(h);if(!g)return;c?p(g,c):i.shadowRoot.insertBefore(g,i.shadowRoot.firstChild)}}attributeChanged(h,r,i){"style-url"===h&&(this.styleUrl=i)}attributeChangedCallback(h,r,i){this.isReady&&super.attributeChangedCallback(h,r,i)}constructor(h,r){super();const i=this;if(h){r&&(i._initProperties=r);const l=c=>{if("string"==typeof c?document.querySelector(c):c){const p="string"==typeof c?document.querySelector(c):c;if(p instanceof HTMLDivElement){const g=document.createElement(i.tagName);for(let _ of p.attributes)g.setAttribute(_.name,p.getAttribute(_.name));for(;p.childNodes.length;)g.appendChild(p.firstChild);return"string"==typeof c&&(g.id=c.substring(1)),g._initProperties=r,p.parentNode&&p.parentNode.replaceChild(g,p),g}if(r){const g=p.context;if(p._initProperties=r,p.isReady){p.context=p;const _={},S={};for(let T in r)_[T]=p[T],S[T]=r[T];Object.getOwnPropertyNames(r).length>0&&(p.initProperties(),p.propertyChangedHandler(r,_,S)),p.context=g}}return p}};if("string"==typeof h){const c=document.querySelectorAll(h),p=[];if(c.length>1){for(let g=0;g<c.length;g++){const _=l(c[g]);p.push(_)}return p}}else if(h&&h.length>0){const c=h;if(c.length>1){for(let p=0;p<c.length;p++){const g=l(c[p]);R.push(g)}return R}}return l(h)}i._styleUrl="",i.isUtilityElement||i.created()}_getRootShadowParent(){let h=this.shadowParent;for(;h;){if(!h.shadowParent)return h;h=h.shadowParent}return h||this.shadowParent}_getStyleUrl(h){let r=N.Core.getScriptLocation()+window[n].StyleBaseUrl+h;return this.shadowParent&&(r=r.replace("scoped/","")),r}_getStyleUrls(){const h=this;h.nodeName.startsWith(n);const r=h.getStaticMember("styleUrls","array"),i=[];for(let l=0;l<r.length;l++){const p=h._getStyleUrl(r[l]);i.push(p)}return i}_setupShadowRoot(){const h=this;h.classList.add("smart-element-init");const r=i=>{i.$.root&&(i.$.root.classList.add(n.toLowerCase()+"-element"),i.$.root.classList.add(h.nodeName.toLowerCase())),i.setup(),i.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[n].AdoptedStyleSheets)window[n].AdoptedStyleSheetsLoaded?(h.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,r(h)):(h.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,window[n].AdoptedStyleSheetsLoadedQueue||(window[n].AdoptedStyleSheetsLoadedQueue=[]),window[n].AdoptedStyleSheetsLoadedQueue.push(h));else{const i=new CSSStyleSheet;let l=N.Core.getScriptLocation()+"/styles/smart.default.css";i.replace('@import url("'+l+'")').then(()=>{if(r(h),window[n].AdoptedStyleSheetsLoaded=!0,window[n].AdoptedStyleSheetsLoadedQueue){const c=window[n].AdoptedStyleSheetsLoadedQueue;for(let p=0;p<c.length;p++)r(c[p]);delete window[n].AdoptedStyleSheetsLoadedQueue}}).catch(c=>{console.error("Failed to load:",c)}),window[n].AdoptedStyleSheets=[i],document.adoptedStyleSheets=[i],h.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets}}connect(){const h=this;window[n].EnableShadowDOM&&!h.shadowRoot&&!0!==h.isInShadowDOM&&(h.attachShadow({mode:"open"}),h.shadowRoot&&h.$.root&&(h.shadowRoot.appendChild(h.$.root),h.$.root.classList.add(h.nodeName.toLowerCase()))),h.shadowRoot||h.shadowParent?h.shadowRoot?h._setupShadowRoot():(h.shadowParent&&window,h.setup()):h.setup()}connectedCallback(){const h=this;if(h.isLoading||h.isUtilityElement)return;h.classList.add("smart-element-init");const r=function(){h.classList.remove("smart-element-init")};if("complete"===document.readyState&&(void 0===window[n].isAngular&&(window[n].isAngular=null!==document.body.querySelector("[ng-version]")),window[n].isAngular))for(let i=0;i<h.parents.length&&!h.parents[i].nodeName.toLowerCase().startsWith(n.toLowerCase()+"-");i++)if(h.parents[i].hasAttribute("ng-version")&&!h.classList.contains("smart-angular")){window[n].RenderMode="manual";break}if("complete"===document.readyState&&"manual"!==window[n].RenderMode){const i=h.parents;i.length&&"HTML"===i[i.length-1].nodeName||h.getRootNode().host?(h.checkIsInDomTimer&&clearInterval(h.checkIsInDomTimer),r(),h.connect()):(h.checkIsInDomTimer&&clearInterval(h.checkIsInDomTimer),i.length>0&&(h.checkIsInDomTimer=setInterval(()=>{const l=h.parents;0===l.length&&clearInterval(h.checkIsInDomTimer),l.length>0&&"HTML"===l[l.length-1].nodeName&&(clearInterval(h.checkIsInDomTimer),r(),h.connect())},100)))}else h.isLoading=!0,B.push({element:this,callback:function(){this.isReady||(r(),this.connect())}.bind(h)})}disconnectedCallback(){const h=this;h.isAttached?(h.shadowParent=null,h.detached()):h._resetShadowParent()}adoptedCallback(){this.setup()}appendTemplate(h){const r=this;r.shadowRoot?r.shadowRoot.appendChild(h):r.appendChild(h)}_resetShadowParent(){const h=this;if(!window[n].EnableShadowDOM||null===h.shadowParent)return;const r=[];let i=h.parentNode;for(;i&&9!==i.nodeType;){if(i instanceof HTMLElement==1)r.push(i);else if(11===i.nodeType&&i.host){i=i.host;continue}i=i.parentNode}for(let l=0;l<r.length;l++)if(r[l]===h.shadowParent)return;r.length>0&&"HTML"===r[r.length-1].nodeName&&(h.shadowParent=null)}},Utilities:N,Import:function(h,r){let i=0;const l=function(c,p){return new Promise(g=>{const _=document.createElement("script");_.src=c,_.onload=g;for(let S=0;S<document.head.children.length;S++){const T=document.head.children[S];if(T.src&&T.src.toString().indexOf(p)>=0)return void g()}document.head.appendChild(_)})};return new Promise(c=>{const p=N.Core.getScriptLocation(),g=function(_){h[_]&&l(p+"/"+h[_],h[_]).then(function(){i++,i===h.length&&c(),g(_+1)})};if(r)for(let _=0;_<h.length;_++)l(p+"/"+h[_],h[_]).then(function(){i++,i===h.length&&c()});else g(0)})},ObservableArray:W,Observable:class{constructor(h,r){const i=this;var l;return this.name="observable",h&&Object.assign(i,h),l=h,Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(c=>"constructor"===c||!!c.startsWith("_")||void(i[c]=l[c])),new Proxy(i,{deleteProperty:function(c,p){return delete c[p],!0},get:function(c,p){return c[p]},set:function(c,p,g){const _=c[p];return _===g||(c[p]=g,!("notifyFn"!==p&&!p.startsWith("_")&&"canNotify"!==p&&(!r||-1!==r.indexOf(p))&&i.canNotify&&(i._notify({target:c,propertyName:p,oldValue:_,newValue:g}),0)))}})}get canNotify(){const h=this;return void 0===h._canNotify&&(h._canNotify=!0),h._canNotify}set canNotify(h){this._canNotify=h}_notify(h){const r=this;if(r.canNotify&&r.notifyFn)for(let i=0;i<r.notifyFn.length;i++)r.notifyFn[i](h)}notify(h){const r=this;h&&(r.notifyFn||(r.notifyFn=[]),r.notifyFn.push(h))}},Component:class{constructor(h,r){const i=this.name;let l=null;return h?l=new window[i](h,r):(l=new window[i],l._initProperties=r),this._element=l,l}get name(){return"Component"}get element(){return this._element}},Theme:Y.Theme||"",EnableShadowDOM:Y.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:t,Templates:e,RenderMode:Y.RenderMode||"auto",Render:function(){const h=()=>{window[n].RenderMode="",K()};"complete"===document.readyState?h():(window.removeEventListener("load",h),window.addEventListener("load",h))},Data:v,Mode:Y.Mode||"production",License:"Evaluation"});let J=window[n].Theme;"manual"!==window[n].RenderMode&&document.addEventListener("readystatechange",K),Object.defineProperty(window[n],"Theme",{configurable:!1,enumerable:!0,get:()=>J,set(h){const r=J;J=h,E.fireEvent("theme-changed",{oldValue:r,newValue:h},{bubbles:!0,cancelable:!0})}}),window[n]("smart-base-element",window[n].BaseElement),window[n]("smart-content-element",class extends window[n].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready(),this.applyContent()}refresh(){}clearContent(){const h=this;for(;h.$.content.firstChild;)h.$.content.removeChild(h.$.content.firstChild)}applyContent(){const h=this;if(void 0===h.content)return void(h.content=h.$.content);if(""===h.content||null===h.content)return void h.clearContent();if(h.content instanceof HTMLElement)return h.clearContent(),void h.$.content.appendChild(h.content);const r=document.createDocumentFragment();let i=document.createElement("div");r.appendChild(i),h.content instanceof HTMLElement?i.appendChild(h.content):i.innerHTML=h.content;let l=Array.from(i.childNodes);i.parentNode.removeChild(i);for(let c=0;c<l.length;c++)r.appendChild(l[c]);h.clearContent(),h.$.content.appendChild(r)}propertyChangedHandler(h,r,i){super.propertyChangedHandler(h,r,i);const l=this;r!==i&&("innerHTML"===h&&(l.content=i,l.applyContent(),l.innerHTML=l.content=N.Core.html(l.$.content)),"content"===h&&l.applyContent())}}),window[n]("smart-scroll-viewer",class extends window[n].ContentElement{static get properties(){return{autoRefresh:{type:"boolean",value:!1},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}static get styleUrls(){return["smart.scrollviewer.css"]}template(){return'<div id="container" class="smart-container" role="presentation">\n                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">\n                            <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-scroll-viewer-content-container" role="presentation">\n                                <content></content>\n                            </div>\n                        </div>\n                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>\n                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>\n                    </div>'}appendChild(h){const r=this;if(h){if(!r.isCompleted||h.classList&&h.classList.contains("smart-resize-trigger-container")){const i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(r,i.concat(Array.prototype.slice.call(arguments)))}r.$.scrollViewerContentContainer.appendChild(h)}}removeChild(h){const r=this;if(h){if(!r.isCompleted||h.classList&&h.classList.contains("smart-resize-trigger-container")){const i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(r,i.concat(Array.prototype.slice.call(arguments)))}r.$.scrollViewerContentContainer.removeChild(h)}}removeAll(){this.isCompleted&&(this.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(h){const r=this;r.$.scrollViewerContentContainer.style.left=(r.rightToLeft?1:-1)*r.scrollLeft+"px",h.stopPropagation&&h.stopPropagation(),r.onHorizontalChange&&r.onHorizontalChange(h)}_verticalScrollbarHandler(h){const r=this;r.$.scrollViewerContentContainer.style.top=-r.scrollTop+"px",h.stopPropagation&&h.stopPropagation(),r.onVerticalChange&&r.onVerticalChange(h)}_touchmoveHandler(h){const r=this;if(r._touchmoveInside&&h.cancelable)return h.preventDefault(),void h.stopPropagation();const i=r.scrollHeight>0,c=r._touchCoords;if(!i&&!(r.scrollWidth>0)||!c)return;const p=h.touches[0];let g,_,S,T;r._touchCoords=[p.pageX,p.pageY],i?(g=r.scrollTop,_=r.scrollHeight,S=p.pageY,T=c[1]):(g=r.scrollLeft,_=r.scrollWidth,S=p.pageX,T=c[0]);const M=parseFloat(S.toFixed(5)),L=parseFloat(T.toFixed(5));0===g&&M>=L||g===_&&M<=L||(S!==T&&(r._touchmoveInside=!0),h.cancelable&&(h.preventDefault(),h.stopPropagation()))}_touchstartHandler(h){const r=h.touches[0];this._touchCoords=[r.pageX,r.pageY]}_mouseWheelHandler(h){const r=this;if(!r.disabled&&(r.computedHorizontalScrollBarVisibility||r.computedVerticalScrollBarVisibility)){if(h.shiftKey&&r.computedHorizontalScrollBarVisibility){const i=r.scrollLeft;return 0===i&&h.deltaX<0||i===r.scrollHeight&&h.deltaX>0?void 0:(h.stopPropagation(),h.preventDefault(),void(r.scrollWidth>0&&r.scrollTo(void 0,r.scrollLeft+r._getScrollCoefficient(h,r.offsetWidth))))}if(r.computedVerticalScrollBarVisibility){const i=r.scrollTop;if(0===i&&h.deltaY<0||i===r.scrollHeight&&h.deltaY>0)return;h.stopPropagation(),h.preventDefault(),r.scrollHeight>0&&r.scrollTo(r.scrollTop+r._getScrollCoefficient(h,r.offsetHeight))}}}_overriddenHandler(){}_upHandler(){delete this._touchCoords,delete this._touchmoveInside}_getScrollCoefficient(h,r){const i=h.deltaMode,l=Math.abs(h.deltaY);let c;return 0===i?c=l<33.333333333333336?l:r:1===i?c=l<1?33.333333333333336*l:r:2===i&&(c=r),h.deltaY<0?-c:c}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const h=this;return h._scrollView&&h._scrollView.hScrollBar?!h._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}get computedVerticalScrollBarVisibility(){const h=this;return h._scrollView&&h._scrollView.vScrollBar?!h._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}scrollTo(h,r){const i=this;i._scrollView&&(void 0!==h&&i._scrollView.scrollTo(h),void 0!==r&&i._scrollView.scrollTo(r,!1))}refreshScrollBarsVisibility(){const h=this;h._scrollView&&(h._scrollView.hScrollBar.disabled=h.disabled,h._scrollView.vScrollBar.disabled=h.disabled,"disabled"===h.horizontalScrollBarVisibility&&(h._scrollView.hScrollBar.disabled=!0),"disabled"===h.verticalScrollBarVisibility&&(h._scrollView.vScrollBar.disabled=!0),h.scrollWidth>0?h._scrollView.hScrollBar.$.removeClass("smart-hidden"):"visible"!==h.horizontalScrollBarVisibility&&h._scrollView.hScrollBar.$.addClass("smart-hidden"),h.scrollHeight>0?h._scrollView.vScrollBar.$.removeClass("smart-hidden"):"visible"!==h.verticalScrollBarVisibility&&h._scrollView.vScrollBar.$.addClass("smart-hidden"),"hidden"===h.horizontalScrollBarVisibility&&h._scrollView.hScrollBar.$.addClass("smart-hidden"),"hidden"===h.verticalScrollBarVisibility&&h._scrollView.vScrollBar.$.addClass("smart-hidden"),"visible"===h.horizontalScrollBarVisibility&&h._scrollView.hScrollBar.$.removeClass("smart-hidden"),"visible"===h.verticalScrollBarVisibility&&(h._scrollView.vScrollBar.$.removeClass("smart-hidden"),h.disabled||(h._scrollView.vScrollBar.disabled=h.scrollHeight<=0)),h.computedHorizontalScrollBarVisibility&&h.computedVerticalScrollBarVisibility?(h._scrollView.hScrollBar.$.addClass("bottom-corner"),h._scrollView.vScrollBar.$.addClass("bottom-corner")):(h._scrollView.hScrollBar.$.removeClass("bottom-corner"),h._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready();const h=this;h.$.verticalScrollBar.onChange=r=>{r.detail=r,h._verticalScrollbarHandler(r)},h.$.horizontalScrollBar.onChange=r=>{r.detail=r,h._horizontalScrollbarHandler(r)},h.$.verticalScrollBar.setAttribute("aria-controls",h.id),h.$.horizontalScrollBar.setAttribute("aria-controls",h.id),h._customScrollView||(h._scrollView=new Smart.Utilities.Scroll(h,h.$.horizontalScrollBar,h.$.verticalScrollBar)),h.refresh()}refresh(){const h=this;function r(){const p=h.$.scrollViewerContainer.classList.contains("vscroll");h.$.scrollViewerContainer.classList.remove("vscroll");const g=h.$.scrollViewerContentContainer.offsetWidth-h.$.scrollViewerContainer.offsetWidth;return g>0&&"hidden"!==h.horizontalScrollBarVisibility||"visible"===h.horizontalScrollBarVisibility?h.$.scrollViewerContainer.classList.add("hscroll"):h.$.scrollViewerContainer.classList.remove("hscroll"),p&&h.$.scrollViewerContainer.classList.add("vscroll"),g}function i(){let p;const g=h.$.scrollViewerContainer.classList.contains("hscroll");if(h.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){const _=h.$.scrollViewerContentContainer.getBoundingClientRect().height,S=h.$.scrollViewerContainer.getBoundingClientRect().height;p=_&&S?parseInt(_)-parseInt(S):h.$.scrollViewerContentContainer.offsetHeight-h.$.scrollViewerContainer.offsetHeight}else p=h.$.scrollViewerContentContainer.offsetHeight-h.$.scrollViewerContainer.offsetHeight;return h.virtualScrollHeight&&(p=h.virtualScrollHeight),p>0&&"hidden"!==h.verticalScrollBarVisibility||"visible"===h.verticalScrollBarVisibility?h.$.scrollViewerContainer.classList.add("vscroll"):h.$.scrollViewerContainer.classList.remove("vscroll"),g&&h.$.scrollViewerContainer.classList.add("hscroll"),p}if(!h.$.scrollViewerContentContainer)return;"hidden"===h.verticalScrollBarVisibility&&h.$.scrollViewerContentContainer.setAttribute("disable-vertical",""),"hidden"===h.horizontalScrollBarVisibility&&h.$.scrollViewerContentContainer.setAttribute("disable-horizontal","");let l=h.scrollWidth,c=h.scrollHeight;h.scrollWidth=r(),h.scrollHeight=i(),h.scrollHeight&&c===h.scrollHeight||(h.scrollWidth=r()),h.scrollWidth&&l===h.scrollWidth||(h.scrollHeight=i()),h.computedVerticalScrollBarVisibility&&(h.scrollHeight+=h._scrollView.hScrollBar.offsetHeight),h.computedHorizontalScrollBarVisibility&&(h.scrollWidth+=h._scrollView.vScrollBar.offsetWidth),0===h.scrollHeight&&h.scrollWidth>0&&h.$.container.offsetHeight-h.$.content.offsetHeight<5&&(h.$.container.style.paddingBottom=h._scrollView.hScrollBar.offsetHeight+"px"),h.autoRefresh&&(h.$.scrollViewerContainer.scrollLeft=0,h.$.scrollViewerContainer.scrollTop=0)}attached(){const h=this;super.attached(),h._scrollView||h._customScrollView||(h._scrollView=new Smart.Utilities.Scroll(h,h.$.horizontalScrollBar,h.$.verticalScrollBar))}detached(){const h=this;super.detached(),h._scrollView&&(h._scrollView.unlisten(),delete h._scrollView)}get scrollWidth(){const h=this;return h._scrollView&&h._scrollView.hScrollBar?1===h._scrollView.hScrollBar.max&&"visible"===h.horizontalScrollBarVisibility?0:h._scrollView.hScrollBar.max:-1}set scrollWidth(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.hScrollBar&&(r._scrollView.hScrollBar.max=0===h&&"visible"===r.horizontalScrollBarVisibility?0:h,r.refreshScrollBarsVisibility())}get scrollHeight(){const h=this;return h._scrollView&&h._scrollView.vScrollBar?1===h._scrollView.vScrollBar.max&&"visible"===h.verticalScrollBarVisibility?0:h._scrollView.vScrollBar.max:0}set scrollHeight(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.vScrollBar&&(r._scrollView.vScrollBar.max=0===h&&"visible"===r.verticalScrollBarVisibility?1:h,r.refreshScrollBarsVisibility())}get scrollLeft(){const h=this;return h._scrollView&&h._scrollView.hScrollBar?h._scrollView.hScrollBar.value:0}set scrollLeft(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.hScrollBar&&(r._scrollView.hScrollBar.value=h)}get scrollTop(){const h=this;return h._scrollView&&h._scrollView.vScrollBar?h._scrollView.vScrollBar.value:0}set scrollTop(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.vScrollBar&&(r._scrollView.vScrollBar.value=h)}propertyChangedHandler(h,r,i){super.propertyChangedHandler(h,r,i),"animation"!==h&&"theme"!==h&&this.refresh()}}),window[n].Utilities.Assign("PositionDetection",class{constructor(h,r,i,l){const c=this;if(r){const p="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);r.id=p,h.setAttribute("aria-owns",p)}c.context=h,c.dropDown=r,c.defaultParent=i,c.closeMethod=l}handleAutoPositioning(){const h=this,r=h.context;if("auto"!==r.dropDownPosition||r.disabled||r.isHidden)return;const i=window.requestAnimationFrame;let l,c=Date.now();return l=i(function p(){r.isHidden||document.hidden||(l=i(p),"auto"===r.dropDownPosition&&!r.disabled&&(r.isInShadowDOM?document.body.contains(r.shadowParent):document.body.contains(r))||cancelAnimationFrame(l),r.isHidden&&cancelAnimationFrame(l),Date.now()-c>=200&&(h.scrollHandler(),c=Date.now()))})}checkBrowserBounds(h){const r=this.context;if("auto"===r.dropDownPosition&&!r.disabled)switch(h){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const h=this.context,r=this.dropDown;let i,l=0;f.isMobile||window.innerWidth===document.documentElement.clientWidth||(l=window.innerWidth-document.documentElement.clientWidth),null!==h._dropDownParent?i=!0:r.style.left="";const c=window.innerWidth-l;let p=h.getBoundingClientRect().left;if(p<0&&(r.style.left=(i?0:Math.abs(p))+"px",p=parseFloat(r.style.left)),p+r.offsetWidth>c){let g=p-Math.abs(c-p-r.offsetWidth);i&&(g+=window.pageXOffset),r.style.left=(i?g:g-p)+"px",window.innerWidth===document.documentElement.clientWidth&&(r.style.left=parseFloat(r.style.left)+l+"px"),i&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(h){const r=this.context,i=this.dropDown,l=r._dropDownListPosition;h||(h=r.getBoundingClientRect()),0!==h.height&&(r._dropDownListPosition=document.documentElement.clientHeight-Math.abs(h.top+h.height+i.offsetHeight)>=0?"bottom":h.top-i.offsetHeight>=0?"top":"overlay-center",this.updatePositionAttribute(l,r._dropDownListPosition))}scrollHandler(){const h=this.context;if(!h.parentElement)return;const r=h.getBoundingClientRect();if(r.top===h._positionTop)return;const i=h._dropDownListPosition;this.checkBrowserBoundsVertically(r),h._dropDownListPosition!==i&&this.positionDropDown(),h._positionTop=r.top}getDropDownParent(h){const r=this.context,i=this.dropDown;let l=r.dropDownAppendTo;r._positionedParent=null,null===l?r._dropDownParent=null:"body"===l||l===document.body?r._dropDownParent=r.getRootNode().host?r.getRootNode().host.shadowRoot:document.body:l instanceof HTMLElement?r._dropDownParent=l:"string"==typeof l?(l=document.getElementById(l),l instanceof HTMLElement?r._dropDownParent=l:(r.dropDownAppendTo=null,r._dropDownParent=null)):(r.dropDownAppendTo=null,r._dropDownParent=null);let c=r._dropDownParent;if(null!==c){for(;c&&c instanceof HTMLElement&&"static"===window.getComputedStyle(c).position&&c!==r.getShadowRootOrBody();)c=c.parentElement;r._positionedParent=c===document.body?null:c,i&&(i.setAttribute("animation",r.animation),""!==r.theme&&i.$.addClass(r.theme),h&&(r._dropDownParent.appendChild(i),i.$.addClass("smart-drop-down-repositioned")),-1===r.detachedChildren.indexOf(i)&&r.detachedChildren.push(i))}}dropDownAppendToChangedHandler(){const h=this.context,r=this.dropDown,i=h._dropDownParent;this.getDropDownParent(),h._dropDownParent!==i&&(h[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(l=>r.style[l]=null),null===h._dropDownParent?(this.defaultParent.appendChild(r),r.$.removeClass("smart-drop-down-repositioned")):(h._dropDownParent.appendChild(r),r.$.addClass("smart-drop-down-repositioned")))}dropDownPositionChangedHandler(){const h=this;h.dropDown.style.transition="none",h.context[h.closeMethod](),h.setDropDownPosition(),h.handleAutoPositioning()}dropDownAttached(h){const r=this.context;null!==r._dropDownParent&&(r._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),h&&r[h]())}dropDownDetached(){const h=this.context;null!==h._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(h._dropDownParent)&&h._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const h=this.context,r=h.dropDownPosition,i=h._dropDownListPosition;"auto"===r?this.checkBrowserBounds():h._dropDownListPosition=r,this.updatePositionAttribute(i,h._dropDownListPosition)}updatePositionAttribute(h,r){const i=this.context,l=this.dropDown;i.$.dropDownButton&&!i.$.dropDownButton.hasAttribute(r)&&(i.$.dropDownButton.removeAttribute(h),i.$.dropDownButton.setAttribute(r,"")),l.hasAttribute(r)||(l.style.transition="none",l.removeAttribute(h),l.setAttribute(r,""),requestAnimationFrame(function(){l.style.transition=null}))}positionDropDown(h){const r=this.context,i=this.dropDown;if(!r.opened||null===r._dropDownParent)return;const l=r.getBoundingClientRect();let c,p;if(this.customPositionDropDown){const _=this.customPositionDropDown(l);c=_.left,p=_.top}else switch(c=l.left,p=l.top,r._dropDownListPosition){case"bottom":p+=r.$.container.offsetHeight-1;break;case"center-bottom":p+=r.$.container.offsetHeight-1,c+=r.offsetWidth-i.offsetWidth/2;break;case"center-top":p-=i.offsetHeight-1,c+=r.offsetWidth-i.offsetWidth/2;break;case"top":p-=i.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":p-=i.offsetHeight/2-r.offsetHeight/2;break;case"overlay-top":p-=i.offsetHeight-r.offsetHeight}const g=this.getDropDownOffset();i.style.top=p+g.y+"px",h||(i.style.left=c+g.x+"px")}getDropDownOffset(){const h=this.context._positionedParent;let r,i;if(h&&"#document-fragment"!==h.nodeName){const l=h.getBoundingClientRect();r=-l.left,i=-l.top}else r=window.pageXOffset,i=window.pageYOffset;return{x:r,y:i}}placeOverlay(){const h=this.context;if(!h.dropDownOverlay||h._overlay)return;const r=document.createElement("div");r.classList.add("smart-drop-down-overlay"),r.style.width=document.documentElement.scrollWidth+"px",r.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(r),h._overlay=r}removeOverlay(h){const r=this,i=r.context;i._overlay&&(i.hasAnimation&&h?requestAnimationFrame(function l(){r.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(l):(document.body.removeChild(i._overlay),delete i._overlay)}):(document.body.removeChild(i._overlay),delete i._overlay))}}),window.Smart.Color=class{constructor(h){if(window.Smart._colors||(window.Smart._colors=[]),window.Smart._colors[h]){const i=window.Smart._colors[h];return this.hex=i.hex,this.r=i.r,this.g=i.g,void(this.b=i.b)}this.r=this.g=this.b=0,this.hex="";const r=this.getStandardizedColor(h);r&&(this.setHex(r.substring(1)),window.Smart._colors[h]={hex:this.hex,r:this.r,g:this.g,b:this.b})}getStandardizedColor(h){const r=document.createElement("canvas").getContext("2d");return r.fillStyle=h,r.fillStyle}getInvertedColor(){return""===this.hex?"transparent":255-(.299*this.r+.587*this.g+.114*this.b)<105?"Black":"White"}hexToRgb(h){let r="00",i="00",l="00";return 6===(h=this.validateHex(h)).length?(r=h.substring(0,2),i=h.substring(2,4),l=h.substring(4,6)):(h.length>4&&(r=h.substring(4,h.length),h=h.substring(0,4)),h.length>2&&(i=h.substring(2,h.length),h=h.substring(0,2)),h.length>0&&(l=h.substring(0,h.length))),{r:this.hexToInt(r),g:this.hexToInt(i),b:this.hexToInt(l)}}validateHex(h){return(h=(h=new String(h).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(h=h.substring(0,6)),h}webSafeDec(h){return 51*Math.round(h/51)}hexToWebSafe(h){let r,i,l;return 3===h.length?(r=h.substring(0,1),i=h.substring(1,1),l=h.substring(2,1)):(r=h.substring(0,2),i=h.substring(2,4),l=h.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(r)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(l)))}rgbToWebSafe(h){return{r:this.webSafeDec(h.r),g:this.webSafeDec(h.g),b:this.webSafeDec(h.b)}}rgbToHex(h){return this.intToHex(h.r)+this.intToHex(h.g)+this.intToHex(h.b)}intToHex(h){let r=parseInt(h).toString(16);return 1===r.length&&(r="0"+r),r.toUpperCase()}hexToInt(h){return parseInt(h,16)}setRgb(h,r,i){let l=function(c){return c<0||c>255||isNaN(parseInt(c))?0:c};this.r=l(h),this.g=l(r),this.b=l(i),this.hex=this.rgbToHex(this)}setHex(h){this.hex=h;let r=this.hexToRgb(this.hex);this.r=r.r,this.g=r.g,this.b=r.b}}}()},9135:()=>{Smart("smart-scroll-bar",class extends Smart.BaseElement{static get properties(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}static get styleUrls(){return["smart.scrollbar.css"]}template(){return'<div id="container" class="smart-container" role="presentation">\n                    <div id="nearButton" class="smart-scroll-button smart-arrow-left" role="presentation" aria-hidden="true"></div>\n                    <div  id="track" class="smart-track" role="presentation">\n                        <div id="thumb" class="smart-thumb" role="presentation"></div>\n                    </div>\n                    <div id="farButton" class="smart-scroll-button smart-arrow-right" role="presentation" aria-hidden="true"></div>\n            </div>'}static get listeners(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}_updateInBoundsFlag(t){const n=t.target;n._isPointerInBounds=!0,-1!==t.type.indexOf("leave")&&(n._isPointerInBounds=!1),1!==("buttons"in t?t.buttons:t.which)&&this._stopRepeat(t)}_startRepeat(t){const e=this;if(e.disabled)return;const n=t.target;n._initialTimer||(n._initialTimer=setTimeout(function(){n._repeatTimer=setInterval(()=>{n._isPointerInBounds&&n.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})},e.clickRepeatDelay)},3*e.clickRepeatDelay))}_stopRepeat(t){if(this.disabled)return;const e=t.target;e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null)}_calculateThumbSize(t){const e=this,n=e.max-e.min;let s=0;return n>=1&&("horizontal"===e.orientation?e.$.track.offsetWidth>10:e.$.track.offsetHeight>10)?(s=t/(n+t)*t,e.$.thumb.className.indexOf("smart-hidden")>=0&&e.$thumb.removeClass("smart-hidden")):e.$thumb.addClass("smart-hidden"),Math.max(10,Math.min(s,t))}_dragStartHandler(t){const e=this;e.disabled||(e.thumbCapture=!0,e.dragStartX=t.clientX,e.dragStartY=t.clientY,e.dragStartValue=e.value,t.stopPropagation(),t.preventDefault())}_dragHandler(t){const e=this;if(!0!==e.thumbCapture)return;e._isThumbDragged=!0;const n=(e.max-e.min)/(e.scrollBarSize-e.thumbSize),a="horizontal"===e.orientation?(t.clientX-e.dragStartX)*n:(t.clientY-e.dragStartY)*n;let s=a;e.rightToLeft&&"horizontal"===e.orientation&&(s=-a),e._updateValue(e.dragStartValue+s),t.stopPropagation(),t.preventDefault(),t.originalEvent&&(t.originalEvent.stopPropagation(),t.originalEvent.preventDefault())}_dragEndHandler(t){const e=this;e._trackDownTimer&&(clearInterval(e._trackDownTimer),e._trackDownTimer=null),e.thumbCapture&&(e.thumbCapture=!1,e._isThumbDragged=!1,"switchWhenReleased"===e.mechanicalAction?e._updateValue(e.dragStartValue,e.value):"switchUntilReleased"===this.mechanicalAction&&e._updateValue(e.dragStartValue),t.preventDefault(),t.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation())}_farButtonClickHandler(){const t=this;if(t.disabled)return;const e=t.value;t._updateValue(t.value+("horizontal"===t.orientation&&t.rightToLeft?-1:1)*t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}_nearButtonClickHandler(){const t=this;if(t.disabled)return;const e=t.value;t._updateValue(t.value-("horizontal"===t.orientation&&t.rightToLeft?-1:1)*t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"min":case"max":case"orientation":case"showButtons":a._layout(),"min"===t?a.setAttribute("aria-valuemin",n):"max"===t?a.setAttribute("aria-valuemax",n):"orientation"===t&&a.setAttribute("aria-orientation",n);break;case"value":a._updateValue(e,n);break;default:a._layout()}}render(){const t=this;t.setAttribute("role","scrollbar"),t.setAttribute("aria-orientation",t.orientation),t.setAttribute("aria-valuemin",t.min),t.setAttribute("aria-valuemax",t.max),t.setAttribute("aria-valuenow",t.value),t._layout(),super.render()}_resizeHandler(){this._layout()}refresh(){this._layout()}beginUpdate(){this._isUpdating=!0}endUpdate(){this._isUpdating=!1,this.refreshValue()}refreshValue(){const t=this;t._layout(),t._updateValue(t.value)}_layout(){const t=this;t._isUpdating||(t.scrollBarSize="horizontal"===t.orientation?t.$.track.offsetWidth:t.$.track.offsetHeight,t.thumbSize=t._calculateThumbSize(t.scrollBarSize),"horizontal"===t.orientation&&t.$.thumb.style.width!==t.thumbSize+"px"?t.$.thumb.style.width=t.thumbSize+"px":"vertical"===t.orientation&&t.$.thumb.style.height!==t.thumbSize+"px"&&(t.$.thumb.style.height=t.thumbSize+"px"),"horizontal"===t.orientation?(t.$.nearButton.classList.contains("smart-arrow-up")&&t.$.nearButton.classList.remove("smart-arrow-up"),t.$.farButton.classList.contains("smart-arrow-down")&&t.$.farButton.classList.remove("smart-arrow-down"),t.$.nearButton.classList.contains("smart-arrow-left")||t.$.nearButton.classList.add("smart-arrow-left"),t.$.farButton.classList.contains("smart-arrow-right")||t.$.farButton.classList.add("smart-arrow-right")):(t.$.nearButton.classList.contains("smart-arrow-left")&&t.$.nearButton.classList.remove("smart-arrow-left"),t.$.farButton.classList.contains("smart-arrow-right")&&t.$.farButton.classList.remove("smart-arrow-right"),t.$.nearButton.classList.contains("smart-arrow-up")||t.$.nearButton.classList.add("smart-arrow-up"),t.$.farButton.classList.contains("smart-arrow-down")||t.$.farButton.classList.add("smart-arrow-down")),t._updateThumbPosition(),(t.value>t.max||t.value<t.min)&&t._updateValue(t.value,t.value>t.max?t.max:t.min))}_selectStartHandler(t){this.thumbCapture&&t.preventDefault()}_trackDownHandler(t){const e=this;t.target===e.$.track&&(e._trackDownTimer&&clearInterval(e._trackDownTimer),e.thumbCapture||(e._trackDownTimer=setInterval(function(){e._trackClickHandler(t)},e.clickRepeatDelay),t.stopPropagation(),t.preventDefault()))}_trackClickHandler(t){const e=this;if(e.disabled)return;if(e._isThumbDragged)return clearInterval(e._trackDownTimer),void(e._trackDownTimer=null);const n=e.$.thumb.getBoundingClientRect(),a=t.pageX-window.pageXOffset,s=t.pageY-window.pageYOffset,o=(e.rightToLeft?-1:1)*e.value;"horizontal"===e.orientation?a>(e._isThumbDragged?e.dragStartX:n.right)?e._updateValue(e.value+(e.rightToLeft?-1:1)*e.largeStep):a<(e._isThumbDragged?e.dragStartX:n.left)&&e._updateValue(e.value-(e.rightToLeft?-1:1)*e.largeStep):s>(e._isThumbDragged?e.dragStartY:n.bottom)?e._updateValue(e.value+e.largeStep):s<(e._isThumbDragged?e.dragStartY:n.top)&&e._updateValue(e.value-e.largeStep),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(o)}_trackMoveHandler(t){"touchmove"===t.originalEvent.type&&t.originalEvent.preventDefault()}_updateValue(t,e){const n=this;if(!n._isUpdating&&(1===arguments.length&&(e=t,t=n.value),(void 0===e||isNaN(e))&&(e=n.min),e>n.max&&(e=n.max),e<n.min&&(e=n.min),n.value=e,t!==e)){if(n.setAttribute("aria-valuenow",e),n._updateThumbPosition(),n.thumbCapture&&"switchWhenReleased"===n.mechanicalAction)return;if(n.onChange)return void n.onChange({value:n.value,oldValue:t,min:n.min,max:n.max,context:n});n.$.fireEvent("change",{value:n.value,oldValue:t,min:n.min,max:n.max})}}_updateThumbPosition(){const t=this,e="horizontal"===t.orientation?t.$.track.offsetWidth:t.$.track.offsetHeight,n=t._calculateThumbSize(e);let s=(e-n)/(t.max-t.min)*(t.value-t.min);t.rightToLeft&&"horizontal"===t.orientation&&(s=(e-n)/(t.max-t.min)*(t.max-t.value-t.min)),s=Math.min(e-n,Math.max(0,s)),"vertical"===t.orientation&&t.$.thumb.style.top!==s+"px"?t.$.thumb.style.top=s+"px":"horizontal"===t.orientation&&t.$.thumb.style.left!==s+"px"&&(t.$.thumb.style.left=s+"px")}})}},he={};function ne(t){var e=he[t];if(void 0!==e)return e.exports;var n=he[t]={exports:{}};return ue[t](n,n.exports,ne),n.exports}ne.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return ne.d(e,{a:e}),e},ne.d=(t,e)=>{for(var n in e)ne.o(e,n)&&!ne.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},ne.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";ne(6321),ne(9135),ne(2612),ne(1471),Smart,Smart})()})(),(()=>{var ue={2612:()=>{Smart("smart-button",class extends Smart.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["smart.button.css"]}template(){return"<button class=\"smart-button smart-unselectable\" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role=\"presentation\"></button>"}refresh(){}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const t=this;t.$.button?t.$.button.focus():HTMLElement.prototype.focus.call(t)}blur(){const t=this;t.$.button?t.$.button.blur():HTMLElement.prototype.blur.call(t)}_upHandler(t){const e=this;if(t.stopPropagation(),e.$.setAttributeValue("active",!1),e.dataset.target){const n=document.querySelector(e.dataset.target);let a=e.dataset.toggle;const s="smart-window".toLowerCase();if(n&&n.nodeName.toLowerCase()===s&&"modal"===a&&(a="openModal"),"tab"===a||"pill"===a||"list"===a){const o=this.closest(".nav, .list-group"),d='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',f=!o||"UL"!==o.nodeName&&"OL"!==o.nodeName?o.children(".active"):o.querySelectorAll("li > .active");if(o){const m=o.querySelectorAll(d);for(let y=0;y<m.length;y++)m[y].classList.remove("primary");for(let y=0;y<f.length;y++)f[y].classList.remove("active");let u=e.parentNode;for(;u;){if("LI"===u.nodeName){u.classList.add("active");break}u=u.parentNode}e.classList.add("primary")}return n.parentNode.querySelectorAll(".active").forEach(m=>{m.classList.remove("active"),m.classList.add("smart-hidden")}),n.classList.add("active"),void n.classList.remove("smart-hidden")}a&&n&&!n[a]&&"collapse"===a&&(setTimeout(()=>{n.classList.contains("smart-hidden")?n.classList.remove("smart-hidden"):n.classList.add("smart-hidden")}),t.originalEvent.preventDefault()),a&&n&&!n[a]&&"dropdown"===a?(setTimeout(()=>{n.opened=!n.opened}),t.originalEvent.preventDefault()):a&&n&&n[a]&&(setTimeout(()=>{n[a]()},50),t.originalEvent.preventDefault())}}_focusHandler(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}_blurHandler(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}_clickHandler(t){const e=this;("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e.readonly)&&(t.preventDefault(),t.stopPropagation())}_downHandler(t){const e=this;if(!(e.disabled||(e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),e.$.setAttributeValue("active",!0),"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e.readonly))){if(e.hasAttribute("smart-blazor"))return void e.$.dispatchEvent(new Event("click"));e.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})}}_mouseEnterHandler(t){const e=this;if(!e.readonly&&(e.$button.setAttributeValue("hover",!0),e.$.setAttributeValue("hover",!0),"hover"===e.clickMode)){const n="buttons"in t?t.buttons:t.which;if(e.hasAttribute("smart-blazor"))return void e.$.dispatchEvent(new Event("click"));e.$.fireEvent("click",{buttons:n,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})}}_touchEndHandler(){const t=this;setTimeout(function(){t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;"disabled"===t?(a._setFocusable(),a.$button&&a.$button.setAttributeValue("hover",!1),a.$.setAttributeValue("hover",!1),a instanceof Smart.RepeatButton&&a._stopRepeat()):"unfocusable"===t&&a._setFocusable()}_setFocusable(){const t=this,e=t.$.button?t.$.button:t;if(t.disabled||t.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);e.tabIndex=t.tabIndex>0?t.tabIndex:0}ready(){const t=this;super.ready(),t.setAttribute("role","button"),t._setFocusable(),t.enableShadowDOM&&t.$.hiddenInput&&t.appendChild(t.$.hiddenInput)}}),Smart("smart-repeat-button",class extends Smart.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}_clickHandler(t){const e=this;("release"!==e.clickMode||e.preventDefaultClick||e.readonly||e.disabled)&&(t.preventDefault(),t.stopPropagation(),e.preventDefaultClick=!1)}_updateInBoundsFlag(t){const e=this;-1!==t.type.indexOf("leave")?(e._isPointerInBounds=!1,e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)):(e._isPointerInBounds=!0,e.$button.setAttributeValue("hover",!0),e.$.setAttributeValue("hover",!0)),1!==("buttons"in t?t.buttons:t.which)&&e._stopRepeat(t)}_startRepeat(t){const e=this;e.setAttribute("active",""),e._initialTimer||e.readonly||(e._initialTimer=setTimeout(function(){e._repeatTimer=setInterval(()=>{if(e._isPointerInBounds){if(e.hasAttribute("smart-blazor"))return e.$.dispatchEvent(new Event("click")),void(e.preventDefaultClick=!0);e.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY}),e.preventDefaultClick=!0}},e.delay)},e.initialDelay))}_stopRepeat(t){const e=this;e.readonly||t&&("pointercancel"===t.type||t.originalEvent&&"pointercancel"===t.originalEvent.type)||(e.$.setAttributeValue("active",!1),e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null))}_touchmoveHandler(t){this.preventDefaultClick&&t.cancelable&&(t.preventDefault(),t.stopPropagation())}_overriddenHandler(){}}),Smart("smart-toggle-button",class extends Smart.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready(),this._setAriaState(),this._updateGroupValue()}_setAriaState(){const e=this.checked;this.setAttribute("aria-pressed",null!==e?e:"mixed")}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){const t=this;t.setAttribute("hover",""),t.disabled||t.readonly||"hover"!==t.clickMode||(t._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue())}_documentUpHandler(t){const e=this;e._pressed&&(e._pressed=!1,e.disabled||e.readonly||"press"===e.clickMode||"pointercancel"===t.originalEvent.type||(e._changeCheckState("pointer"),e.focus(),e._updateHidenInputNameAndValue()))}_downHandler(t){const e=this;e.disabled||e.readonly||(e.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(e,t.pageX,t.pageY),e._pressed=!0,"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||(e._changeCheckState("pointer"),e.hasAttribute("smart-blazor")?e.$.dispatchEvent(new Event("click")):e.$.fireEvent("click"),e._updateHidenInputNameAndValue()),"press"===e.clickMode&&(t.preventDefault(),t.stopPropagation()))}_dragStartHandler(t){t.preventDefault()}_keyHandler(t){const e=this;if(!0!==e.disabled&&!e.readonly&&32===t.keyCode){if("keydown"===t.type)return void t.preventDefault();if("none"===e.switchMode)return;e._changeCheckState("keyboard"),e._updateHidenInputNameAndValue()}}_updateGroupValue(){const t=this;if(t.dataset.target){const e=document.querySelector(t.dataset.target);if(e){const n=document.querySelectorAll('[data-target="'+t.dataset.target+'"]'),a=[];if(t.checked){const s=t.dataset.property,o=t.dataset.value;if(s&&void 0!==e[s]){let d=o;"true"===d&&(d=!0),"false"===d&&(d=!1),e[s]=d}}for(let s=0;s<n.length;s++){const o=n[s];o.checked&&(o.name?(a.push(o.name),t.id&&o.setAttribute("data-id",t.id)):t.id&&a.push(t.id))}e.value=a.toString(),t._targetDispatchTimer&&clearTimeout(t._targetDispatchTimer),t._targetDispatchTimer=setTimeout(()=>{e.dispatchEvent(new Event("change"))},100)}}}_changeCheckState(t){const e=this;let n=null;null===e.checked?e.checked=!0:(n=e.checked,e.checked=!e.checked),e._handleTextSelection(),e.$.fireEvent("change",{value:e.checked,oldValue:n,changeType:t}),e.$.fireEvent(e.checked?"checkValue":"uncheckValue",{changeType:t}),e._updateGroupValue(),e._setAriaState()}_handleTextSelection(){const t=this;t.$.addClass("smart-unselectable"),t.timer&&clearTimeout(t.timer),t.timer=setTimeout(()=>t.$.removeClass("smart-unselectable"),500)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;if("checked"===t)return a.$.fireEvent("change",{value:n,oldValue:e,changeType:"api"}),void a._setAriaState();switch(t){case"trueTemplate":a._handleTemplate(!0);break;case"falseTemplate":a._handleTemplate(!1);break;case"indeterminateTemplate":a._handleTemplate()}}_htmlBindOnInitialization(){const t=this;t._bindContentProperty("trueContent","smart-true-content"),t._bindContentProperty("falseContent","smart-false-content"),t._bindContentProperty("indeterminateContent","smart-indeterminate-content")}_bindContentProperty(t,e){const n=this;if(!n.$[t+"Container"])return;let a=document.createElement("div");a.innerHTML=n.innerHTML;let s,o=a.getElementsByClassName(e);if(o.length>0)for(let d=0;d<o.length;d++)s=o[d];""===n[t]&&(n[t]=void 0===s?"":s.outerHTML),n.$[t+"Container"].innerHTML=n[t]}_updateContentProperties(){const t=this;function e(n){t.$[n+"Container"]&&(t[n]=t.$[n+"Container"].innerHTML)}e("trueContent"),e("falseContent"),e("indeterminateContent")}_updateHidenInputValue(){const t=this;if(!t.$.hiddenInput)return;let e;e=null===t.checked?"null":!1===t.checked?"off":t.value||"on",t.$.hiddenInput.setAttribute("value",e)}_updateHidenInputName(){const t=this;t.$.hiddenInput&&t.$.hiddenInput.setAttribute("name",!1===t.checked?"":t.name||"")}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(t,e){const n=this;let a,s,o;if(!0===t?(a=n.trueTemplate,s=n.$.trueContentContainer,o=n.trueContent):!1===t?(a=n.falseTemplate,s=n.$.falseContentContainer,o=n.falseContent):(a=n.indeterminateTemplate,s=n.$.indeterminateContentContainer,o=n.indeterminateContent),e&&(s.innerHTML=o||""),null===a||!a)return;if("function"==typeof a)return void a(s,{value:o});if(!("content"in document.createElement("template")))return void n.error(n.localize("htmlTemplateNotSuported",{elementType:n.nodeName.toLowerCase()}));if(a=document.getElementById(a),null===a||!("content"in a))return void n.error(n.localize("invalidTemplate",{elementType:n.nodeName.toLowerCase(),property:"template"}));const d=a.content,f=d.childNodes.length,m=/{{\w+}}/g;let u,y=[];for(let C=0;C<f;C++)for(u=m.exec(d.childNodes[C].innerHTML);u;)y.push({childNodeIndex:C,bindingString:u[0]}),u=m.exec(d.childNodes[C].innerHTML);const v=y.length;let b,x,w=document.importNode(a.content,!0);for(let C=0;C<v;C++){b=w.childNodes[y[C].childNodeIndex],x=y.length;for(let A=0;A<x;A++)b.innerHTML=b.innerHTML.replace(y[C].bindingString,o)}s.innerHTML="";for(let C=0;C<w.childNodes.length;C++)w.childNodes[C].outerHTML&&(s.innerHTML+=w.childNodes[C].outerHTML)}})},8243:()=>{Smart.Chart&&(Smart.Chart.prototype._moduleAnnotations=!0,Smart.Chart.prototype._renderAnnotation=function(t,e){const n=this.seriesGroups[t],a=this.renderer;if(isNaN(t))return;let s=this._get([this.getXAxisDataPointOffset(e.xValue,t),e.x]),o=this._get([this.getValueAxisDataPointOffset(e.yValue,t),e.y]),d=this._get([this.getXAxisDataPointOffset(e.xValue2,t),e.x2]),f=this._get([this.getValueAxisDataPointOffset(e.yValue2,t),e.y2]);if(n.polar||n.spider){const w=this.getPolarDataPointOffset(e.xValue,e.yValue,t);!w||isNaN(w.x)||isNaN(w.y)?(s=e.x,o=e.y):(s=w.x,o=w.y)}if(isNaN(o)||isNaN(s))return!1;if("horizontal"===n.orientation){let w=s;s=o,o=w,w=d,d=f,f=w}e.offset&&(isNaN(e.offset.x)||(s+=e.offset.x,d+=e.offset.x),isNaN(e.offset.y)||(o+=e.offset.y,f+=e.offset.y));const m=this._get([e.width,d-s]),u=this._get([e.height,f-o]);let y,v;switch(e.type){case"rect":y=a.rect(s,o,m,u);break;case"circle":y=a.rect(s,o,e.radius);break;case"line":y=a.rect(s,o,d,f);break;case"path":y=a.path(e.path)}if(y&&a.attr(y,{fill:e.fillColor,stroke:e.lineColor,opacity:this._get([e.fillOpacity,e.opacity]),"stroke-opacity":this._get([e.lineOpacity,e.opacity]),"stroke-width":e.lineWidth,"stroke-dasharray":e.dashStyle||"none"}),e.text){const w=e.text;let C=0,A=0;w.offset&&(isNaN(w.offset.x)||(C+=w.offset.x),isNaN(w.offset.y)||(A+=w.offset.y)),v=a.text(w.value,s+C,o+A,NaN,NaN,w.angle,{},!0===w.clip,w.horizontalAlignment||"center",w.verticalAlignment||"center",w.rotationPoint||"centermiddle"),a.attr(v,{fill:w.fillColor,stroke:w.lineColor,class:"smart-chart-annotation-text "+(w.class||"")})}const b=["click","mouseenter","mouseleave"],x=this;for(let w=0;w<b.length;w++){const C=b[w];y&&this.renderer.addHandler(y,C,function(){x._raiseAnnotationEvent(e,C)}),v&&this.renderer.addHandler(v,C,function(){x._raiseAnnotationEvent(e,C)})}},Smart.Chart.prototype._raiseAnnotationEvent=function(t,e){this.$.fireEvent("annotation"+e.charAt(0).toUpperCase()+e.slice(1),{annotation:t})})},7177:()=>{Smart.Chart&&(Smart.Chart.prototype._moduleApi=!0,Smart.Chart.prototype.getItemsCount=function(t,e){const n=this.seriesGroups[t];if(!this._isSerieVisible(t,e))return 0;const a=this._renderData;return!n||!a||a.length<=t?0:n.series[e]?a[t].offsets[e].length:0},Smart.Chart.prototype.getXAxisRect=function(t){const e=this._renderData;if(e&&!(e.length<=t)&&e[t].xAxis)return e[t].xAxis.rect},Smart.Chart.prototype.getXAxisLabels=function(t){const e=[];let n=this._renderData;if(!n||n.length<=t||(n=n[t].xAxis,!n))return e;const a=this.seriesGroups[t];if(a.polar||a.spider){for(let m=0;m<n.polarLabels.length;m++){const u=n.polarLabels[m];e.push({offset:{x:u.x,y:u.y},value:u.value})}return e}const s=this._getXAxis(t),o=this.getXAxisRect(t),d="top"===s.position||"right"===s.position,f="horizontal"===a.orientation;for(let m=0;m<n.data.length;m++)e.push(f?{offset:{x:o.x+(d?0:o.width),y:o.y+n.data.data[m]},value:n.data.xvalues[m]}:{offset:{x:o.x+n.data.data[m],y:o.y+(d?o.height:0)},value:n.data.xvalues[m]});return e},Smart.Chart.prototype.getValueAxisRect=function(t){const e=this._renderData;if(e&&!(e.length<=t)&&e[t].valueAxis)return e[t].valueAxis.rect},Smart.Chart.prototype.getValueAxisLabels=function(t){const e=[];let n=this._renderData;if(!n||n.length<=t||(n=n[t].valueAxis,!n))return e;const a=this._getValueAxis(t),s="top"===a.position||"right"===a.position,o=this.seriesGroups[t],d="horizontal"===o.orientation;if(o.polar||o.spider){for(let f=0;f<n.polarLabels.length;f++){const m=n.polarLabels[f];e.push({offset:{x:m.x,y:m.y},value:m.value})}return e}for(let f=0;f<n.items.length;f++)e.push(d?{offset:{x:n.itemOffsets[n.items[f]].x+n.itemWidth/2,y:n.rect.y+(s?n.rect.height:0)},value:n.items[f]}:{offset:{x:n.rect.x+n.rect.width,y:n.itemOffsets[n.items[f]].y+n.itemWidth/2},value:n.items[f]});return e},Smart.Chart.prototype.getPlotAreaRect=function(){return this._plotRect},Smart.Chart.prototype.getRect=function(){return this._rect},Smart.Chart.prototype.showToolTip=function(t,e,n,a,s){const o=this.getItemCoord(t,e,n);isNaN(o.x)||isNaN(o.y)||this._startTooltipTimer(t,e,n,o.x,o.y,a,s)},Smart.Chart.prototype.hideToolTip=function(t){isNaN(t)&&(t=0);const e=this;e._cancelTooltipTimer(),setTimeout(function(){e._hideToolTip(0)},t)})},7799:()=>{Smart("smart-chart",class extends Smart.BaseElement{static get properties(){return{animationDuration:{value:300,type:"number"},backgroundColor:{value:null,type:"string?"},backgroundImage:{value:"",type:"string"},borderLineColor:{value:null,type:"string?"},borderLineWidth:{value:1,type:"number"},caption:{value:"Caption",type:"string"},clip:{value:!0,type:"boolean"},colorScheme:{value:"scheme01",type:"string"},columnSeriesOverlap:{value:!1,type:"boolean"},crosshairsColor:{value:null,type:"string?"},crosshairsDashStyle:{value:"2,2",type:"string"},crosshairsLineWidth:{value:1,type:"number"},dataSource:{value:[],type:"object",reflectToAttribute:!1},description:{value:"Description",type:"string"},draw:{value:null,type:"function?"},drawBefore:{value:null,type:"function?"},enableAxisTextAnimation:{value:!1,type:"boolean"},enableCrosshairs:{value:!1,type:"boolean"},greyScale:{value:!1,type:"boolean"},legendLayout:{value:{flow:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},height:{value:null,type:"number?"},left:{value:null,type:"number?"},top:{value:null,type:"number?"},width:{value:null,type:"number?"}},type:"object?"},localization:{value:{decimalSeparator:{value:".",type:"string"},patterns:{value:null,type:"object?"},thousandsSeparator:{value:"",type:"string"}},type:"object"},messages:{value:{en:{invalidRadiusDataField:"smart-chart: Invalid radiusDataField value at [{{index}}]",invalidSeries:"smart-chart: Invalid property: each series group must have a 'series' property which must be a valid array.",invalidSeriesGroups:"smart-chart: Invalid property: 'seriesGroups' property is required and must be a valid array.",invalidType:'smart-chart: Invalid serie type "{{type}}".',missingAxis:"smart-chart: seriesGroup[{{index}}] is missing {{axis}} definition.",missingReference:"smart-chart: Missing reference to {{files}}.",missingType:"smart-chart: Invalid property: each series group must have a valid 'type' property."}},type:"object",extend:!0},padding:{value:{bottom:{value:5,type:"number"},left:{value:5,type:"number"},right:{value:5,type:"number"},top:{value:5,type:"number"}},type:"object"},renderEngine:{value:"",allowedValues:["","SVG","HTML5"],type:"string"},rightToLeft:{value:!1,type:"boolean"},seriesGroups:{value:[],type:"any",reflectToAttribute:!1},showBorderLine:{value:!0,type:"boolean"},showLegend:{value:!0,type:"boolean"},showToolTips:{value:!0,type:"boolean"},showToolTipsOnAllSeries:{value:!1,type:"boolean"},theme:{value:"light",allowedValues:["light","dark"],type:"string"},titlePadding:{value:{bottom:{value:10,type:"number"},left:{value:5,type:"number"},right:{value:5,type:"number"},top:{value:5,type:"number"}},type:"object"},toolTipBackground:{value:null,type:"string?"},toolTipFormatFunction:{value:null,type:"function?"},toolTipHideDelay:{value:4e3,type:"number"},toolTipLineColor:{value:null,type:"string?"},toolTipShowDelay:{value:300,type:"number"},valueAxis:{value:{alternatingBackgroundColor:{value:"",type:"string"},alternatingBackgroundColor2:{value:"",type:"string"},alternatingBackgroundOpacity:{value:1,type:"number"},axisSize:{value:null,type:"any"},bands:{value:null,type:"array?"},baselineValue:{value:0,type:"any"},customDraw:{value:!1,type:"boolean"},flip:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function?"},formatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},gridLines:{value:{color:{value:"",type:"string"},custom:{value:null,type:"array?"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},visible:{value:!0,type:"any"}},type:"object"},labels:{value:{angle:{value:0,type:"number"},autoRotate:{value:!1,type:"boolean"},class:{value:null,type:"string?"},custom:{value:null,type:"array?"},formatFunction:{value:null,type:"function?"},formatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},horizontalAlignment:{value:"center",allowedValues:["left","center","right"],type:"string"},offset:{value:{x:{value:0,type:"number"},y:{value:0,type:"number"}},type:"object"},rotationPoint:{value:"auto",allowedValues:["auto","left","center","right","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","centermiddle"],type:"string"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},verticalAlignment:{value:"center",allowedValues:["top","center","bottom"],type:"string"},visible:{value:!0,type:"any"}},type:"object"},line:{value:{color:{value:"",type:"string"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},visible:{value:!0,type:"any"}},type:"object"},logarithmicScale:{value:!1,type:"boolean"},logarithmicScaleBase:{value:10,type:"number"},maxValue:{value:NaN,type:"any"},minValue:{value:NaN,type:"any"},padding:{value:{bottom:{value:0,type:"number"},left:{value:0,type:"number"},right:{value:0,type:"number"},top:{value:0,type:"number"}},type:"object"},position:{value:"left",allowedValues:["left","right","top","bottom"],type:"string"},textRotationAngle:{value:null,type:"number?"},textRotationPoint:{value:"auto",allowedValues:["auto","left","center","right","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","centermiddle"],type:"string"},tickMarks:{value:{color:{value:"",type:"string"},custom:{value:null,type:"array?"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},size:{value:4,type:"number"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},visible:{value:!0,type:"any"}},type:"object"},title:{value:{class:{value:null,type:"string?"},horizontalAlignment:{value:"center",allowedValues:["left","center","right"],type:"string"},text:{value:"",type:"string"},verticalAlignment:{value:"center",allowedValues:["top","center","bottom"],type:"string"},visible:{value:!0,type:"boolean"}},type:"object"},unitInterval:{value:null,type:"number?"},valuesOnTicks:{value:!0,type:"boolean"},visible:{value:!0,type:"boolean"}},type:"object"},xAxis:{value:{alternatingBackgroundColor:{value:"",type:"string"},alternatingBackgroundColor2:{value:"",type:"string"},alternatingBackgroundOpacity:{value:1,type:"number"},axisSize:{value:null,type:"any"},bands:{value:null,type:"array?"},baseUnit:{value:null,allowedValues:["year","month","day","hour","minute","second","millisecond",null],type:"string?"},customDraw:{value:!1,type:"boolean"},dataField:{value:"",type:"string"},dateFormat:{value:null,type:"string?"},displayText:{value:null,type:"string?"},flip:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function?"},formatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},gridLines:{value:{color:{value:"",type:"string"},custom:{value:null,type:"array?"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},visible:{value:!0,type:"any"}},type:"object"},labels:{value:{angle:{value:0,type:"number"},autoRotate:{value:!1,type:"boolean"},class:{value:null,type:"string?"},custom:{value:null,type:"array?"},formatFunction:{value:null,type:"function?"},formatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},horizontalAlignment:{value:"center",allowedValues:["left","center","right"],type:"string"},offset:{value:{x:{value:0,type:"number"},y:{value:0,type:"number"}},type:"object"},rotationPoint:{value:"auto",allowedValues:["auto","left","center","right","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","centermiddle"],type:"string"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},verticalAlignment:{value:"center",allowedValues:["top","center","bottom"],type:"string"},visible:{value:!0,type:"any"}},type:"object"},line:{value:{color:{value:"",type:"string"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},visible:{value:!0,type:"any"}},type:"object"},logarithmicScale:{value:!1,type:"boolean"},logarithmicScaleBase:{value:10,type:"number"},maxValue:{value:NaN,type:"any"},minValue:{value:NaN,type:"any"},padding:{value:{bottom:{value:0,type:"number"},left:{value:0,type:"number"},right:{value:0,type:"number"},top:{value:0,type:"number"}},type:"object"},position:{value:"bottom",allowedValues:["bottom","top","left","right"],type:"string"},rangeSelector:{value:{backgroundColor:{value:null,type:"string?"},backgroundImage:{value:"",type:"string"},baseUnit:{value:null,allowedValues:["year","month","day","hour","minute","second","millisecond",null],type:"string?"},borderLineColor:{value:null,type:"string?"},borderLineWidth:{value:null,type:"number?"},caption:{value:"",type:"string"},colorScheme:{value:null,type:"string?"},columnSeriesOverlap:{value:!1,type:"boolean"},columnsGapPercent:{value:25,type:"number"},dataField:{value:null,type:"string?"},description:{value:"",type:"string"},greyScale:{value:null,type:"boolean?"},gridLines:{value:{color:{value:"",type:"string"},custom:{value:null,type:"array?"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},visible:{value:!0,type:"any"}},type:"object"},labels:{value:{angle:{value:0,type:"number"},autoRotate:{value:!1,type:"boolean"},class:{value:null,type:"string?"},custom:{value:null,type:"array?"},formatFunction:{value:null,type:"function?"},formatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},horizontalAlignment:{value:"center",allowedValues:["left","center","right"],type:"string"},offset:{value:{x:{value:0,type:"number"},y:{value:0,type:"number"}},type:"object"},rotationPoint:{value:"auto",allowedValues:["auto","left","center","right","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","centermiddle"],type:"string"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},verticalAlignment:{value:"center",allowedValues:["top","center","bottom"],type:"string"},visible:{value:!0,type:"any"}},type:"object"},maxValue:{value:NaN,type:"any"},minValue:{value:NaN,type:"any"},padding:{value:{bottom:{value:0,type:"number"},left:{value:0,type:"number"},right:{value:0,type:"number"},top:{value:0,type:"number"}},type:"object"},position:{value:null,allowedValues:["bottom","top","left","right"],type:"string?"},renderTo:{value:null,type:"any"},rightToLeft:{value:null,type:"boolean?"},seriesGapPercent:{value:10,type:"number"},seriesGroups:{value:null,type:"array?"},serieType:{value:"area",type:"string"},showBorderLine:{value:null,type:"boolean?"},size:{value:null,type:"number?"},skipOverlappingPoints:{value:!0,type:"boolean"},titlePadding:{value:{bottom:{value:10,type:"number"},left:{value:5,type:"number"},right:{value:5,type:"number"},top:{value:5,type:"number"}},type:"object"},unitInterval:{value:null,type:"number?"},valueAxis:{value:{alternatingBackgroundColor:{value:"",type:"string"},alternatingBackgroundColor2:{value:"",type:"string"},alternatingBackgroundOpacity:{value:1,type:"number"},axisSize:{value:null,type:"any"},bands:{value:null,type:"array?"},baselineValue:{value:0,type:"any"},customDraw:{value:!1,type:"boolean"},flip:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function?"},formatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},gridLines:{value:{color:{value:"",type:"string"},custom:{value:null,type:"array?"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},visible:{value:!0,type:"any"}},type:"object"},labels:{value:{angle:{value:0,type:"number"},autoRotate:{value:!1,type:"boolean"},class:{value:null,type:"string?"},custom:{value:null,type:"array?"},formatFunction:{value:null,type:"function?"},formatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},horizontalAlignment:{value:"center",allowedValues:["left","center","right"],type:"string"},offset:{value:{x:{value:0,type:"number"},y:{value:0,type:"number"}},type:"object"},rotationPoint:{value:"auto",allowedValues:["auto","left","center","right","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","centermiddle"],type:"string"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},verticalAlignment:{value:"center",allowedValues:["top","center","bottom"],type:"string"},visible:{value:!0,type:"any"}},type:"object"},line:{value:{color:{value:"",type:"string"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},visible:{value:!0,type:"any"}},type:"object"},logarithmicScale:{value:!1,type:"boolean"},logarithmicScaleBase:{value:10,type:"number"},maxValue:{value:NaN,type:"any"},minValue:{value:NaN,type:"any"},padding:{value:{bottom:{value:0,type:"number"},left:{value:0,type:"number"},right:{value:0,type:"number"},top:{value:0,type:"number"}},type:"object"},position:{value:"left",allowedValues:["left","right","top","bottom"],type:"string"},textRotationAngle:{value:null,type:"number?"},textRotationPoint:{value:"auto",allowedValues:["auto","left","center","right","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","centermiddle"],type:"string"},tickMarks:{value:{color:{value:"",type:"string"},custom:{value:null,type:"array?"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},size:{value:4,type:"number"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},visible:{value:!0,type:"any"}},type:"object"},title:{value:{class:{value:null,type:"string?"},horizontalAlignment:{value:"center",allowedValues:["left","center","right"],type:"string"},text:{value:"",type:"string"},verticalAlignment:{value:"center",allowedValues:["top","center","bottom"],type:"string"},visible:{value:!0,type:"boolean"}},type:"object"},unitInterval:{value:null,type:"number?"},valuesOnTicks:{value:!0,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},visible:{value:!1,type:"boolean"}},type:"object"},textRotationAngle:{value:null,type:"number?"},textRotationPoint:{value:"auto",allowedValues:["auto","left","center","right","topleft","topcenter","topright","bottomleft","bottomcenter","bottomright","centermiddle"],type:"string"},tickMarks:{value:{color:{value:"",type:"string"},custom:{value:null,type:"array?"},dashStyle:{value:"",type:"string"},lineWidth:{value:1,type:"number"},size:{value:4,type:"number"},step:{value:null,type:"number?"},unitInterval:{value:null,type:"number?"},visible:{value:!0,type:"any"}},type:"object"},title:{value:{class:{value:null,type:"string?"},horizontalAlignment:{value:"center",allowedValues:["left","center","right"],type:"string"},text:{value:"",type:"string"},verticalAlignment:{value:"center",allowedValues:["top","center","bottom"],type:"string"},visible:{value:!0,type:"boolean"}},type:"object"},toolTipFormatFunction:{value:null,type:"function?"},toolTipFormatSettings:{value:{dateFormat:{value:null,type:"string?"},decimalPlaces:{value:null,type:"number?"},decimalSeparator:{value:null,type:"string?"},negativeWithBrackets:{value:!1,type:"boolean"},prefix:{value:"",type:"string"},sufix:{value:"",type:"string"},thousandsSeparator:{value:null,type:"string?"}},type:"object"},type:{value:"auto",allowedValues:["auto","date","basic","linear"],type:"string"},unitInterval:{value:null,type:"number?"},valuesOnTicks:{value:!0,type:"boolean"},visible:{value:!0,type:"boolean"}},type:"object",reflectToAttribute:!1}}}get _legendLayout(){const t=this.legendLayout;return null!==t.height||null!==t.left||null!==t.top||null!==t.width||"vertical"===t.flow}_getFormatSettings(t,e){if(!t)return null;const n=t[e||"formatSettings"];return n&&(n.dateFormat||null!==n.decimalPlaces||n.decimalSeparator||n.negativeWithBrackets||n.prefix||n.sufix||n.thousandsSeparator)?n:null}static get listeners(){return{click:"_clickHandler",down:"_downMoveHandler",mouseleave:"_mouseleaveHandler",move:"_moveHandler",resize:"_resizeHandler","document.move":"_downMoveHandler","document.up":"_documentUpHandler"}}static get requires(){return{"Smart.Utilities.Draw":"smart.draw.js"}}static get styleUrls(){return["smart.chart.css"]}template(){return'<div role="presentation"></div>'}ready(){super.ready(),this.checkLicense()}render(){const t=this;t._observeSeriesGroups(),t._isTouchDevice=Smart.Utilities.Core.isMobile,t._setDefaults(),t._createColorsCache(),t.refresh(),t._setAriaProperties(),super.render()}attached(){const t=this;super.attached(),t.isCompleted&&!t._isRangeSelectorInstance&&Object.values(t._rangeSelectorInstances).forEach(e=>{e.parentDiv.parentDiv.appendChild(e.parentDiv)})}detached(){const t=this;super.detached(),t._isRangeSelectorInstance||(t._ttEl&&t._ttEl.box&&t._ttEl.box.remove(),delete t._ttEl,Object.values(t._rangeSelectorInstances).forEach(e=>{e.parentDiv.remove()}))}_setAriaProperties(){const t=this;if(t._isRangeSelectorInstance)return;const e=t.xAxis,n=t.valueAxis,a=t.seriesGroups;let s=t.$.content.children[1],o="",d=!0;function f(m,u){m&&(m.title&&m.title.text||m.description||m.dataField)&&(o+='; "',o+=m.title&&m.title.text?m.title.text:m.description||m.dataField,o+='" on the '+u,isNaN(m.minValue)||(o+=" from "+m.minValue),isNaN(m.maxValue)||(o+=" up to "+m.maxValue))}t.setAttribute("role","figure"),s||(s=document.createElement("div"),s.id=t.id+"DescriptionContainer",s.className="smart-hidden",t.$.content.appendChild(s)),t.setAttribute("aria-labelledby",t.id+"TitleText"),t.setAttribute("aria-describedby",t.id+"TitleDescription "+s.id),o+="This chart displays:",f(e,"x-axis"),f(n,"y-axis");for(let m=0;m<a.length;m++){const u=a[m];if(f(u.valueAxis,"y-axis"),u.series){d=d&&"horizontal"===u.orientation;for(let y=0;y<u.series.length;y++){const v=u.series[y];0===y&&(o+=0===m?" for ":"; "),o+='"'+(v.displayText||v.dataField)+'"',y!==u.series.length-1&&(o+=", ")}}}o=o.replace(":;",":"),o=o.replace(/<.+?>/g,""),d&&(o=o.replace(/x-axis/g,"@@@"),o=o.replace(/y-axis/g,"x-axis"),o=o.replace(/@@@/g,"y-axis")),t.description&&(o="; "+o),s.innerHTML=o}_observeSeriesGroups(){const t=this;function e(n){t.context!==t&&n.newValue!==n.oldValue&&t.update()}if(t._validateSeriesGroups(),Array.isArray(t.seriesGroups)){t.seriesGroups=new Smart.ObservableArray(t.seriesGroups),t.seriesGroups.canNotify=!0;for(let n=0;n<t.seriesGroups.length;n++)Array.isArray(t.seriesGroups[n].series)&&(t.seriesGroups[n].series=new Smart.ObservableArray(t.seriesGroups[n].series),t.seriesGroups[n].series.canNotify=!0,t.seriesGroups[n].series.notify(e));t.seriesGroups.notify(e)}}_downMoveHandler(t){const e=this;let n=t.originalEvent.target;e.shadowRoot&&n===e&&(n=t.originalEvent.composedPath()[0]);const a=n.closest(".smart-chart-range-selector");if(!a)return;const s=a.firstElementChild,o=s.parentChart;e!==s&&e!==o||o["_onSliderMouse"+t.type.slice(0,1).toUpperCase()+t.type.slice(1)](t)}_documentUpHandler(t){this._draggingRangeSelector&&this._onSliderMouseUp(t)}_setDefaults(){const t=this;t.axisPadding=5,t.enableEvents=!0,t.enableSampling=!0,t._itemsToggleState=[],t._isToggleRefresh=!1,t._isSelectorRefresh=!1,t._sliders=[],t._selectorRange=[],t._rangeSelectorInstances={},t._resizeState={},t._isRangeSelectorInstance=t._isRangeSelectorInstance||!1,t._renderData={},t._smartPlot=null,t._animTickInt=50,t._seriesTypes=["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],t.colorSchemes=[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]},{name:"scheme28",colors:["#3A43BA","#281E5D","#48AAAD","#0492C2","#1E456E","#59788D","#52B2C0","#82EDFD"]},{name:"scheme29",colors:["#003F5C","#BC5090","#58508D","#FF6361","#FFA600"]},{name:"scheme30",colors:["#16736F","#A2D56A","#1C515C","#62B773","#EEEF63","#1F313F","#309577"]},{name:"scheme31",colors:["#74CC66","#191A4D","#2D867A","#EEE3CD","#224D19","#0D261B","#5771C7","#B6D7E7","#206052","#6B5724","#C3AF4B","#603620","#536722","#B6E7B9","#34819D","#94ACDB"]},{name:"scheme32",colors:["#87C5FF","#5B5B60","#9BE076","#F7A384","#7479D3","#F13A80","#E4D388","#2BC6B2","#F45B14"]}]}_clickHandler(t){const e=this;if(e.disabled||e._isRangeSelectorInstance)return;let n=t.pageX||t.clientX||t.screenX,a=t.pageY||t.clientY||t.screenY;const s=e.getBoundingClientRect();e._isTouchDevice&&(n=t.pageX,a=t.pageY),n-=s.left,a-=s.top,e._mouseX=n,e._mouseY=a,!isNaN(e._lastClickTs)&&(new Date).valueOf()-e._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(e._isTouchDevice||(e._cancelTooltipTimer(),e._hideToolTip(),e._unselect()),e._pointMarker&&e._pointMarker.element){const o=e.seriesGroups[e._pointMarker.gidx],d=o.series[e._pointMarker.sidx];t.stopImmediatePropagation(),e._raiseItemEvent("click",o,d,e._pointMarker.iidx)}},100),"HTML5"===e.renderEngine&&e._canvasClickHandler(n,a))}_canvasClickHandler(t,e){const n=this,a=n.renderer._elements;let s;for(let o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&"0"!==o){const d=a[o];if(e>d.y&&e<d.y+d.height&&t>d.x&&t<d.x+d.width){s=d;break}}if(s&&s.purpose&&"legend-toggle"===s.purpose){const o=s.data;n._toggleSerie(o.groupIndex,o.seriesIndex,o.itemIndex)}}_mouseleaveHandler(){const t=this;if(t.disabled||t._isRangeSelectorInstance)return;const e=t._mouseX,n=t._mouseY,a=t._plotRect;a&&e>=a.x&&e<=a.x+a.width&&n>=a.y&&n<=a.y+a.height||(t._cancelTooltipTimer(),t._hideToolTip(0),t._unselect())}_moveHandler(t){const e=this;if(e.disabled)return;if(e._isRangeSelectorInstance){const o=e.parentChart;null===o.xAxis.rangeSelector.renderTo&&(o._unselect(),o._hideToolTip()),"touchmove"===t.originalEvent.type&&t.originalEvent.preventDefault()}else e.style.cursor="default";let n=t.pageX||t.clientX||t.screenX,a=t.pageY||t.clientY||t.screenY;const s=e.getBoundingClientRect();e._isTouchDevice&&(n=t.pageX,a=t.pageY),n-=s.left,a-=s.top,e.onmousemove(n,a)}_resizeHandler(){const t=this,e=t.animation;t._isRangeSelectorInstance||(t.animation="none",t.refresh(),t.animation=e)}propertyChangedHandler(t,e,n){const a=this;switch(t){case"animation":case"theme":a._ttEl&&a._ttEl.box.setAttribute(t,n);break;case"rightToLeft":if(!a._ttEl||!a._ttEl.box)break;n?a._ttEl.box.setAttribute("right-to-left",n):a._ttEl.box.removeAttribute("right-to-left");break;case"seriesGroups":a._observeSeriesGroups();break;case"xAxis_rangeSelector_renderTo":if(null===n){const s=e.getElementsByClassName("smart-chart-range-selector")[0];s.parentElement.removeChild(s)}}this.refresh()}_initRenderer(){const t=this;t._draw=new Smart.Utilities.Draw(t.$.content,t.renderEngine),t.renderer=t._draw.renderer,t._smartPlot||(t._smartPlot=new Smart.Utilities.Plot(t.renderer)),t.$.content.firstElementChild.setAttribute("role","presentation")}_internalRefresh(){const t=this;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return;t._stopAnimations(),t.renderer&&(t._isToggleRefresh||t._isUpdate)||(t._hideToolTip(0),t.$.content.innerHTML="",t._initRenderer());const e=t.renderer;if(!e)return;const n=e.getRect();t._render({x:1,y:1,width:n.width,height:n.height}),this.$.fireEvent("refreshBegin",{instance:this}),e instanceof Smart.Utilities.HTML5Renderer&&e.refresh(),t._isUpdate=!1,this.$.fireEvent("refreshEnd",{instance:this})}saveAsPNG(t){return this._saveAsImage("png",t)}saveAsJPEG(t){return this._saveAsImage("jpeg",t)}saveAsPDF(t,e){return this._saveAsImage("pdf",t,e)}print(){return this._saveAsImage("print")}_saveAsImage(t,e,n){const a=this;return a._draw._widgetToImage(a,t,e,a._hasRangeSelector?a._selectorSaveAsImageCallback:void 0,n)}_selectorSaveAsImageCallback(t,e){let n=t;for(let a=0;a<n.seriesGroups.length;a++){let s=n._getXAxis(a);if(!s||!s.rangeSelector||!s.rangeSelector.visible||s.rangeSelector.renderTo)continue;let o=n._rangeSelectorInstances[a];if(!o)continue;let d=o.renderer.getRect(),f=o.renderer.getContainer().getElementsByTagName("canvas")[0].getContext("2d"),m=n._sliders[a],u="horizontal"===n.seriesGroups[a].orientation,y=u?"height":"width",v=u?"width":"height",b=u?"y":"x",x=u?"x":"y",w={};w[b]=m.startOffset+m.rect[b],w[x]=m.rect[x],w[y]=m.endOffset-m.startOffset,w[v]=m.rect[v];let A=s.rangeSelector.colorRangeLine||"grey",N=[];N.push(o.renderer.rect(w.x,w.y,w.width,w.height,{fill:s.rangeSelector.colorSelectedRange||"blue",opacity:.1}));const E=n.renderer;u?(N.push(o.renderer.line(E._ptrnd(m.rect.x+m.rect.width),E._ptrnd(m.rect.y),E._ptrnd(m.rect.x+m.rect.width),E._ptrnd(w.y),{stroke:A,opacity:.5})),N.push(o.renderer.line(E._ptrnd(m.rect.x+m.rect.width),E._ptrnd(w.y+w.height),E._ptrnd(m.rect.x+m.rect.width),E._ptrnd(m.rect.y+m.rect.height),{stroke:A,opacity:.5})),N.push(o.renderer.line(E._ptrnd(m.rect.x),E._ptrnd(w.y),E._ptrnd(m.rect.x+m.rect.width),E._ptrnd(w.y),{stroke:A,opacity:.5})),N.push(o.renderer.line(E._ptrnd(m.rect.x),E._ptrnd(w.y+w.height),E._ptrnd(m.rect.x+m.rect.width),E._ptrnd(w.y+w.height),{stroke:A,opacity:.5}))):(N.push(o.renderer.line(E._ptrnd(m.rect.x),E._ptrnd(m.rect.y),E._ptrnd(w.x),E._ptrnd(m.rect.y),{stroke:A,opacity:.5})),N.push(o.renderer.line(E._ptrnd(w.x+w.width),E._ptrnd(m.rect.y),E._ptrnd(m.rect.x+m.rect.width),E._ptrnd(m.rect.y),{stroke:A,opacity:.5})),N.push(o.renderer.line(E._ptrnd(w.x),E._ptrnd(m.rect.y),E._ptrnd(w.x),E._ptrnd(m.rect.y+m.rect.height),{stroke:A,opacity:.5})),N.push(o.renderer.line(E._ptrnd(w.x+w.width),E._ptrnd(m.rect.y),E._ptrnd(w.x+w.width),E._ptrnd(m.rect.y+m.rect.height),{stroke:A,opacity:.5}))),o.renderer.refresh();let O=f.getImageData(d.x,d.y,d.width,d.height);const I=e.getContext("2d"),k=n.getBoundingClientRect(),R=o.getBoundingClientRect();I.putImageData(O,R.left-k.left,R.top-k.top,1,1,d.width,d.height);for(let H=0;H<N.length;H++)o.renderer.removeElement(N[H]);o.renderer.refresh()}return!0}refresh(){this._internalRefresh(),this._setAriaProperties()}update(){this._isUpdate=!0,this._internalRefresh()}clear(){const t=this;t.caption="",t.description="",t.refresh()}_validateSeriesGroups(){const t=this;Array.isArray(this.seriesGroups)||t.seriesGroups instanceof Smart.ObservableArray||t.error(t.localize("invalidSeriesGroups"));for(let e=0;e<this.seriesGroups.length;e++){const n=this.seriesGroups[e];n.type||t.error(t.localize("missingType")),Array.isArray(n.series)||n.series instanceof Smart.ObservableArray||t.error(t.localize("invalidSeries"))}}_render(t){var e=this,n=e.renderer;e._colorsCache.clear(),!e._isToggleRefresh&&e._isUpdate&&e._renderData&&e._renderDataClone(),e._renderData=[],n.clear(),e._unselect(),e._hideToolTip(0);var a=e.backgroundImage;e.style.backgroundImage=null==a||""===a?"":-1!==a.indexOf("(")?a:'url("'+a+'")',e._rect=t;var s=e.padding||{left:5,top:5,right:5,bottom:5},o=n.createClipRect(t),d=n.beginGroup();n.setClip(d,o);var f=n.rect(t.x,t.y,t.width-2,t.height-2);if(n.attr(f,null==a||""===a?{fill:e.backgroundColor||e._getThemeColor("background")}:{fill:"transparent"}),!1!==e.showBorderLine){var m=this.borderLineWidth;(isNaN(m)||m<0||m>10)&&(m=1),n.attr(f,{"stroke-width":m,stroke:e.borderLineColor||e._getThemeColor("line")})}"function"==typeof e.drawBefore&&e.drawBefore(n,t);var u={x:s.left,y:s.top,width:t.width-s.left-s.right,height:t.height-s.top-s.bottom};e._paddedRect=u;var y,v=e.titlePadding||{left:2,top:2,right:2,bottom:2};e.caption&&e.caption.length>0&&(y=n.measureText(e.caption,0,{class:"smart-chart-title-text"}),n.text(e.caption,u.x+v.left,u.y+v.top,u.width-(v.left+v.right),y.height,0,{class:"smart-chart-title-text"},!0,"center","center").id=e.id+"TitleText",u.y+=y.height,u.height-=y.height),e.description&&e.description.length>0&&(y=n.measureText(e.description,0,{class:"smart-chart-title-description"}),n.text(e.description,u.x+v.left,u.y+v.top,u.width-(v.left+v.right),y.height,0,{class:"smart-chart-title-description"},!0,"center","center").id=e.id+"TitleDescription",u.y+=y.height,u.height-=y.height),(e.caption||e.description)&&(u.y+=v.bottom+v.top,u.height-=v.bottom+v.top);var b={x:u.x,y:u.y,width:u.width,height:u.height};e._plotRect=b,e._buildStats(b);var x,w=e._isPieOnlySeries(),C=e.seriesGroups,A={xAxis:{},valueAxis:{}};for(let M=0;M<C.length&&!w;M++){if("pie"===C[M].type||"donut"===C[M].type)continue;var N=e._getXAxis(M);N||e.error(e.localize("missingAxis",{index:M,axis:"xAxis"}));let L=N===e._getXAxis()?-1:M;A.xAxis[L]=0}var E=e.axisPadding;isNaN(E)&&(E=5);var O={left:0,right:0,leftCount:0,rightCount:0},I=[];for(let M=0;M<C.length;M++){const L=C[M];if("pie"===L.type||"donut"===L.type||!0===L.spider||!0===L.polar){I.push({width:0,position:0,xRel:0});continue}x="horizontal"===L.orientation;let D=e._getXAxis(M),P=D===e._getXAxis()?-1:M;var k=e._getValueAxis(M),R=k===e._getValueAxis()?-1:M,H=x?D.axisSize:k.axisSize,B={x:0,y:b.y,width:b.width,height:b.height},F=x?e._getXAxis(M).position:k.position;H&&"auto"!==H||(x?(H=this._renderXAxis(M,B,!0,b).width,1==(1&A.xAxis[P])?H=0:H>0&&(A.xAxis[P]|=1)):(H=e._renderValueAxis(M,B,!0,b).width,1==(1&A.valueAxis[R])?H=0:H>0&&(A.valueAxis[R]|=1))),"left"!==F&&!0===e.rightToLeft&&(F="right"),"right"!==F&&(F="left"),O[F+"Count"]>0&&O[F]>0&&H>0&&(O[F]+=E),I.push({width:H,position:F,xRel:O[F]}),O[F]+=H,O[F+"Count"]++}var z=Math.max(1,Math.max(t.width,t.height)),$={top:0,bottom:0,topCount:0,bottomCount:0},W=[];for(let M=0;M<C.length;M++){const L=C[M];if("pie"===L.type||"donut"===L.type||!0===L.spider||!0===L.polar){W.push({height:0,position:0,yRel:0});continue}x="horizontal"===L.orientation;let D=this._getValueAxis(M),P=D===e._getValueAxis()?-1:M,V=e._getXAxis(M),U=V===e._getXAxis()?-1:M,j=x?D.axisSize:V.axisSize,G=x?D.position:V.position;j&&"auto"!==j||(x?(j=e._renderValueAxis(M,{x:0,y:0,width:z,height:0},!0,b).height,2==(2&A.valueAxis[P])?j=0:j>0&&(A.valueAxis[P]|=2)):(j=e._renderXAxis(M,{x:0,y:0,width:z,height:0},!0).height,2==(2&A.xAxis[U])?j=0:j>0&&(A.xAxis[U]|=2))),"top"!==G&&(G="bottom"),$[G+"Count"]>0&&$[G]>0&&j>0&&($[G]+=E),W.push({height:j,position:G,yRel:$[G]}),$[G]+=j,$[G+"Count"]++}e._createAnimationGroup("series");const Y=!1!==e.showLegend,K=e._legendLayout;var J=Y?e._renderLegend(K?e._rect:u,!0):{width:0,height:0};if(!K||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(J={width:0,height:0}),u.height<$.top+$.bottom+J.height||u.width<O.left+O.right)n.endGroup();else{b.height-=$.top+$.bottom+J.height,b.x+=O.left,b.width-=O.left+O.right,b.y+=$.top;var h=[];if(!w)for(let M=0;M<C.length;M++){const L=C[M];if(!0===L.polar||!0===L.spider||"pie"===L.type||"donut"===L.type)continue;x="horizontal"===L.orientation;let D=e._getXAxis(M)===e._getXAxis()?-1:M,P=e._getValueAxis(M)===e._getValueAxis()?-1:M,V={x:b.x,y:0,width:b.width,height:W[M].height};if(V.y="top"!==W[M].position?b.y+b.height+W[M].yRel:b.y-W[M].yRel-W[M].height,x){if(4==(4&A.valueAxis[P])||!e._isGroupVisible(M))continue;e._renderValueAxis(M,V,!1,b),A.valueAxis[P]|=4}else{if(h.push(V),4==(4&A.xAxis[D])||!e._isGroupVisible(M))continue;e._renderXAxis(M,V,!1,b),A.xAxis[D]|=4}}if(Y){const M=e._legendLayout,L=M?e._rect:u;let D=u.x+this.renderer._ptrnd((u.width-J.width)/2),P=b.y+b.height+$.bottom,V=u.width,U=J.height;M&&(isNaN(e.legendLayout.left)||(D=e.legendLayout.left),isNaN(e.legendLayout.top)||(P=e.legendLayout.top),isNaN(e.legendLayout.width)||(V=e.legendLayout.width),isNaN(e.legendLayout.height)||(U=e.legendLayout.height)),D+V>L.x+L.width&&(V=L.x+L.width-D),P+U>L.y+L.height&&(U=L.y+L.height-P),e._renderLegend({x:D,y:P,width:V,height:U})}if(e._hasHorizontalLines=!1,!w)for(let M=0;M<C.length;M++){const L=C[M];if(!0===L.polar||!0===L.spider||"pie"===L.type||"donut"===L.type)continue;x="horizontal"===C[M].orientation;let D={x:b.x-I[M].xRel-I[M].width,y:b.y,width:I[M].width,height:b.height};"left"!==I[M].position&&(D.x=b.x+b.width+I[M].xRel);let P=e._getXAxis(M)===e._getXAxis()?-1:M,V=e._getValueAxis(M)===e._getValueAxis()?-1:M;if(x){if(h.push(D),8==(8&A.xAxis[P])||!e._isGroupVisible(M))continue;e._renderXAxis(M,D,!1,b),A.xAxis[P]|=8}else{if(8==(8&A.valueAxis[V])||!e._isGroupVisible(M))continue;e._renderValueAxis(M,D,!1,b),A.valueAxis[V]|=8}}if(!(b.width<=0||b.height<=0)){e._plotRect={x:b.x,y:b.y,width:b.width,height:b.height};for(let M=0;M<C.length;M++)this._drawPlotAreaLines(M,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(M,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(let M=0;M<C.length;M++)this._drawPlotAreaLines(M,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(M,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var r=!1;for(let M=0;M<C.length&&!r;M++){const L=C[M];if(void 0!==L.annotations||"function"==typeof L.draw||"function"==typeof L.drawBefore){r=!0;break}}var i=n.beginGroup();if(e.clip&&!r){var l=n.createClipRect({x:b.x-2,y:b.y,width:b.width+4,height:b.height});n.setClip(i,l)}for(let M=0;M<C.length;M++){const L=C[M];var c=!1;for(var p in e._seriesTypes)if(e._seriesTypes[p]===L.type){c=!0;break}c||e.error(e.localize("invalidType",{type:L.type})),"function"==typeof L.drawBefore&&L.drawBefore(n,t,M,this),!0!==L.polar&&!0!==L.spider||-1===L.type.indexOf("pie")&&-1===L.type.indexOf("donut")&&e._renderSpiderAxis(M,b),e._renderAxisBands(M,b,!0),e._renderAxisBands(M,b,!1)}for(let M=0;M<C.length;M++){const L=C[M];if(e._isColumnType(L.type)?e._renderColumnSeries(M,b):-1!==L.type.indexOf("pie")||-1!==L.type.indexOf("donut")?e._renderPieSeries(M,b):-1!==L.type.indexOf("line")||-1!==L.type.indexOf("area")?e._renderLineSeries(M,b):-1!==L.type.indexOf("scatter")||-1!==L.type.indexOf("bubble")?e._renderScatterSeries(M,b):-1===L.type.indexOf("candlestick")&&-1===L.type.indexOf("ohlc")||e._renderCandleStickSeries(M,b,-1!==L.type.indexOf("ohlc")),L.annotations){this._moduleAnnotations||e.error(e.localize("missingReference",{files:"smart.chart.annotations.js"}));for(let D=0;D<L.annotations.length;D++)e._renderAnnotation(M,L.annotations[D],b)}"function"==typeof L.draw&&L.draw(n,t,M,this)}if(n.endGroup(),e.disabled){var g=n.rect(t.x,t.y,t.width,t.height);n.attr(g,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}"function"==typeof e.draw&&e.draw(n,t),n.endGroup(),e._startAnimation("series"),e._credits&&e._credits();var _=!1;for(let M=0;M<e.seriesGroups.length&&!_;M++){let L=e._getXAxis(M);L&&L.rangeSelector&&L.rangeSelector.visible&&(_=!0,e._hasRangeSelector=!0)}if(_){this._moduleRangeSelector||e.error(e.localize("missingReference",{files:"smart.chart.rangeselector.js"}));var S=[];e._isSelectorRefresh||(e._rangeSelectorInstances={});for(let M=0;M<e.seriesGroups.length;M++){var T=this._getXAxis(M);-1===S.indexOf(T)&&this._renderXAxisRangeSelector(M,h[M])&&S.push(T)}}}}}_credits(){}_isPieOnlySeries(){let t=this.seriesGroups;if(0===t.length)return!1;for(let e=0;e<t.length;e++)if("pie"!==t[e].type&&"donut"!==t[e].type)return!1;return!0}_renderChartLegend(t,e,n,a){var s=this,o=s.renderer,d={x:e.x,y:e.y,width:e.width,height:e.height};d.width>=6&&(d.x+=3,d.width-=6),d.height>=6&&(d.y+=3,d.height-=6);var f={width:d.width,height:0},m=0,u=0,y=20,v=0,x=0;for(let r=0;r<t.length;r++){var w=t[r].css;w||(w="smart-chart-legend-text"),y=20;var C=t[r].text,A=o.measureText(C,0,{class:w});A.height>y&&(y=A.height),A.width>x&&(x=A.width),a?(0!==r&&(u+=y),u>d.height&&(u=0,f.width=(m+=x+20+10)+(x=A.width))):(0!==m&&(m+=10),m+20+A.width>d.width&&A.width<d.width&&(m=0,v=d.width,f.height=(u+=y)+(y=20)));var N=!1;if(A.width>d.width){N=!0;var E=d.width,O=C.split(/\s+/);let i=[],l="";for(let c=0;c<O.length;c++){var I=l+(l.length>0?" ":"")+O[c];s.renderer.measureText(I,0,{class:w}).width>E&&I.length>0&&l.length>0?(i.push({text:l}),l=O[c]):l=I,c+1===O.length&&i.push({text:l})}A.width=0;var k=0;for(let c=0;c<i.length;c++){let p=s.renderer.measureText(i[c].text,0,{class:w});A.width=Math.max(A.width,p.width),k+=A.height}A.height=k}var H=m+A.width<d.width&&u+A.height<e.height;if(s._legendLayout&&(this._renderInBounds=d.x+m+A.width<s._rect.x+s._rect.width&&d.y+u+A.height<s._rect.y+s._rect.height),!n&&H){var B=t[r].seriesIndex,F=t[r].groupIndex,z=t[r].itemIndex,$=t[r].fillColor,W=t[r].lineColor,Y=s._isSerieVisible(F,B,z),K=o.beginGroup(),J=Y?t[r].opacity:.1;if(N){let l=d.width,c=C.split(/\s+/);var h=0;let p=[],g="";for(let S=0;S<c.length;S++){let T=g+(g.length>0?" ":"")+c[S],M=s.renderer.measureText(T,0,{class:w});M.width>l&&T.length>0&&g.length>0?(p.push({text:g,dy:h}),h+=M.height,g=c[S]):g=T,S+1===c.length&&p.push({text:g,dy:h})}for(let S=0;S<p.length;S++){let T=p[S].text;h=p[S].dy,s.renderer.measureText(T,0,{class:w}),s.renderer.text(T,d.x+m+15,d.y+u+h,A.width,y,0,{class:w},!1,a?"left":"center","center")}let _=o.rect(d.x+m,d.y+u+5+h/2,10,10);a&&(u+=h),s.renderer.attr(_,{fill:$,"fill-opacity":J,stroke:W,"stroke-width":1,"stroke-opacity":t[r].opacity})}else{let i,l=o.rect(d.x+m,d.y+u+5,10,10);s.renderer.attr(l,{fill:$,"fill-opacity":J,stroke:W,"stroke-width":1,"stroke-opacity":t[r].opacity,purpose:"legend-toggle",data:t[r]}),i=a?s.renderer.text(C,d.x+m+15,d.y+u,A.width,A.height+5,0,{class:w},!1,"left","center"):s.renderer.text(C,d.x+m+15,d.y+u,A.width,y,0,{class:w},!1,"center","center"),o.attr(i,{purpose:"legend-toggle",data:t[r]})}s.renderer.endGroup(),s._setLegendToggleHandler(F,B,z,K)}a||v<(m+=A.width+20)&&(v=m)}if(n)return f.height=this.renderer._ptrnd(u+y+5),f.width=this.renderer._ptrnd(v),f}isSerieVisible(t,e,n){return this._isSerieVisible(t,e,n)}_isSerieVisible(t,e,n){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);let a=this._itemsToggleState[t];for(;a.length<e+1;)a.push(!!isNaN(n)||[]);let s=a[e];if(isNaN(n))return s;for(Array.isArray(s)||(a[e]=s=[]);s.length<n+1;)s.push(!0);return s[n]}isGroupVisible(t){return this._isGroupVisible(t)}_isGroupVisible(t){let e=!1,n=this.seriesGroups[t].series;if(!n)return e;for(let a=0;a<n.length;a++)if(this._isSerieVisible(t,a)){e=!0;break}return e}_toggleSerie(t,e,n,a){let s=!this._isSerieVisible(t,e,n);void 0!==a&&(s=a);let o=this.seriesGroups[t];if(this.$.fireEvent("toggle",{state:s,seriesGroup:o,serie:o.series[e],elementIndex:n}),isNaN(n))this._itemsToggleState[t][e]=s;else{let f=this._itemsToggleState[t][e];for(Array.isArray(f)||(f=[]);f.length<n;)f.push(!0);f[n]=s}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1}showSerie(t,e,n){this._toggleSerie(t,e,n,!0)}hideSerie(t,e,n){this._toggleSerie(t,e,n,!1)}_setLegendToggleHandler(t,e,n,a){let s=this.seriesGroups[t],o=s.series[e].enableSeriesToggle;if(null==o&&(o=!1!==s.enableSeriesToggle),o){let d=this;this.renderer.addHandler(a,"click",function(){d._toggleSerie(t,e,n)})}}_renderLegend(t,e){let n=this,a=[];for(let s=0;s<n.seriesGroups.length;s++){let o=n.seriesGroups[s];if(!1!==o.showLegend)for(let d=0;d<o.series.length;d++){let f=o.series[d];if(!1===f.showLegend)continue;let m,u=n._getSerieSettings(s,d);if("pie"===o.type||"donut"===o.type){let C=n._getXAxis(s);const A=f.legendFormatSettings||o.legendFormatSettings||n._getFormatSettings(C)||n._getFormatSettings(f)||n._getFormatSettings(o);let N=f.legendFormatFunction||o.legendFormatFunction||C.formatFunction||f.formatFunction||o.formatFunction,E=n._getDataLen(s);for(let O=0;O<E;O++){m=n._getDataValue(O,f.displayText,s),m=n._formatValue(m,A,N,s,d,O);let I=n._getColors(s,d,O);a.push({groupIndex:s,seriesIndex:d,itemIndex:O,text:m,css:f.displayTextClass,fillColor:I.fillColor,lineColor:I.lineColor,opacity:u.opacity})}continue}m=n._formatValue(f.displayText||f.dataField||"",f.legendFormatSettings||o.legendFormatSettings,f.legendFormatFunction||o.legendFormatFunction,s,d,NaN);let b=n._getSeriesColors(s,d),x=this._get([f.legendFillColor,f.legendColor,b.fillColor]),w=this._get([f.legendLineColor,f.legendColor,b.lineColor]);a.push({groupIndex:s,seriesIndex:d,text:m,css:f.displayTextClass,fillColor:x,lineColor:w,opacity:u.opacity})}}return n._renderChartLegend(a,t,e,n._legendLayout&&"vertical"===n.legendLayout.flow)}_getInterval(t,e){if(!t)return e;let n=this._get([t.unitInterval,e]);return isNaN(t.step)||null===t.step||(n=t.step*e),n}_getOffsets(t,e,n,a,s,o,d,f,m){let u,y=this._getInterval(s[t],f),v=[];if((""===t||s[t].visible&&"custom"!==s[t].visible)&&(v=this._generateIntervalValues(a,y,f,d,m)),"labels"!==t){let x=d?o.left:0;if(!d&&f>1&&(x=o.left*(f+1)),1===v.length&&(x*=2),u=this._valuesToOffsets(v,e,a,n,o,!1,x),!d){let w=(o.left+o.right)*y/f;e.flip?u.unshift(u[0]+w):u.push(u[u.length-1]+w)}}else{let x=o.left;1===v.length&&(x*=2),u=this._valuesToOffsets(v,e,a,n,o,d,x)}let b=this._arraysToObjectsArray([v,u],["value","offset"]);if(e[t]&&e[t].custom){let x=this._objectsArraysToArray(e[t].custom,"value"),w=this._objectsArraysToArray(e[t].custom,"offset"),C=this._valuesToOffsets(x,e,a,n,o,d,o.left);for(let A=0;A<e[t].custom.length;A++)b.push({value:x[A],offset:isNaN(w[A])?C[A]:w[A]})}return b}_renderXAxis(t,e,n,a){let s=this,o=s._getXAxis(t),d=s.seriesGroups[t],f="horizontal"===d.orientation,m={width:0,height:0},u=s._getAxisSettings(o);if(!o||!u.visible||"spider"===d.type||!s._isGroupVisible(t)||this._isPieGroup(t))return m;let y=s._alignValuesWithTicks(t);for(;s._renderData.length<t+1;)s._renderData.push({});s.rightToLeft?(o._flip=o.flip,o.flip=!0):void 0!==o._flip&&(o.flip=o._flip);let v=f?e.height:e.width,b=s._calculateXOffsets(t,v),x=b.axisStats,w=o.rangeSelector&&o.rangeSelector.visible,C=0;w&&(this._moduleRangeSelector||s.error(s.localize("missingReference",{files:"smart.chart.rangeselector.js"})),C=this._selectorGetSize(o));let A=f&&"right"===o.position||!f&&"top"===o.position;!n&&w&&(f?(e.width-=C,"right"!==o.position&&(e.x+=C)):(e.height-=C,"top"===o.position&&(e.y+=C)));let N={rangeLength:b.rangeLength,itemWidth:b.itemWidth,intervalWidth:b.intervalWidth,data:b,settings:u,isMirror:A,rect:e};s._renderData[t].xAxis=N;let E=x.interval;if(isNaN(E))return m;f&&(u.title.angle-=90,u.labels.angle-=90);let O,I,k=this._getInterval(u.gridLines,E),R=this._getInterval(u.tickMarks,E),H=this._getInterval(u.labels,E),B=x.min,F=x.max,z=b.padding,$=!0===o.flip||s.rightToLeft,W={min:B,max:F};x.logAxis.enabled&&(W.min=x.logAxis.minPow,W.max=x.logAxis.maxPow),"date"===o.type?(u.gridLines.offsets=this._generateDTOffsets(B,F,v,z,k,E,x.dateTimeUnit,y,NaN,!1,$),u.tickMarks.offsets=this._generateDTOffsets(B,F,v,z,R,E,x.dateTimeUnit,y,NaN,!1,$),O=this._generateDTOffsets(B,F,v,z,H,E,x.dateTimeUnit,y,NaN,!0,$)):(u.gridLines.offsets=this._getOffsets("gridLines",o,v,x,u,z,y,E),u.tickMarks.offsets=this._getOffsets("tickMarks",o,v,x,u,z,y,E),O=this._getOffsets("labels",o,v,x,u,z,y,E)),s._elementRenderInfo&&s._elementRenderInfo.length>t&&(I=s._elementRenderInfo[t].xAxis);let Y,K=[];u.labels.formatFunction&&(Y=u.labels.formatFunction);const J=s._getFormatSettings(u.labels);let h;J&&(h=Object.assign({},J)),"date"===o.type&&(o.dateFormat&&!Y?h?h.dateFormat=h.dateFormat||o.dateFormat:h={dateFormat:o.dateFormat}:Y||h&&(!h||h.dateFormat)||(Y=this._getDefaultDTFormatFn(o.baseUnit||"day")));for(let p=0;p<O.length;p++){let g,_=O[p].value,S=O[p].offset;if(isNaN(S))continue;"date"!==o.type&&x.useIndeces&&o.dataField&&(g=Math.round(_),_=s._getDataValue(g,o.dataField,t),null==_&&(_=""));let T=s._formatValue(_,h,Y,t,void 0,g);null!=T&&""!==T.toString()||(isNaN(g)&&(g=p),g>=x.filterRange.min&&g<=x.filterRange.max&&(T=x.useIndeces?(x.min+g).toString():void 0===_?"":_.toString()));let M={key:_,text:T,targetX:S,x:S};I&&I.itemOffsets[_]&&(M.x=I.itemOffsets[_].x,M.y=I.itemOffsets[_].y),K.push(M)}let r=s._getAnimProps(t),i=r.enabled&&K.length<500?r.duration:0;!1===s.enableAxisTextAnimation&&(i=0);let c=s._renderAxis(f,A,u,{x:e.x,y:e.y,width:e.width,height:e.height},a,E,!1,!0,{items:K,renderData:N},n,i);return f?c.width+=C:c.height+=C,c}_animateAxisText(t,e){let n=t.items,a=t.textSettings;for(let s=0;s<n.length;s++){let o=n[s];if(!o||!o.visible)continue;let d=o.targetX,f=o.targetY;isNaN(o.x)||isNaN(o.y)||(d=o.x+(d-o.x)*e,f=o.y+(f-o.y)*e),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,d,f,o.width,o.height,a.angle,{class:a.style},!1,a.halign,a.valign,a.textRotationPoint)}}_getPolarAxisCoords(t,e){let n=this.seriesGroups[t],a=e.x+this._draw.getNum([n.offsetX,e.width/2]),s=e.y+this._draw.getNum([n.offsetY,e.height/2]),o=Math.min(e.width,e.height),d=n.radius;this._isPercent(d)&&(d=parseFloat(d)/100*o/2),isNaN(d)&&(d=o/2*.6);let f=this._alignValuesWithTicks(t),m=this._get([n.startAngle,n.minAngle,0])-90;m=isNaN(m)?0:2*Math.PI*m/360;let u=this._get([n.endAngle,n.maxAngle,360])-90;if(u=isNaN(u)?2*Math.PI:2*Math.PI*u/360,m>u){let C=m;m=u,u=C}let y=this.renderer._rnd(Math.abs(m-u)/(2*Math.PI),.001,!0),v=2*Math.PI*d*y,b=this._calcGroupOffsets(t,e).xoffsets;if(!b)return;let x,w=!(Math.abs(Math.abs(u-m)-2*Math.PI)>1e-5);if(n.spider){const C=this._getXAxisStats(t,this._getXAxis(t),v);let A=C.interval;(isNaN(A)||0===A)&&(A=1);let N=(C.max-C.min)/A+(w?1:0);if(N=Math.round(N),N>2){let E=Math.cos(Math.abs(u-m)/2/N);E=this.renderer._rnd(E,.01),0===E&&(E=1),x=d/E,x>d&&f&&(d=x)}}return d=this.renderer._ptrnd(d),{x:a,y:s,r:d,adjR:this._get([x,d]),itemWidth:b.itemWidth,rangeLength:b.rangeLength,valuesOnTicks:f,startAngle:m,endAngle:u,isClosedCircle:w,axisSize:v}}_toPolarCoord(t,e,n,a){let s=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),o=2*(n-e.x)*Math.PI*s/Math.max(1,e.width)+t.startAngle,d=(e.height+e.y-a)*t.r/Math.max(1,e.height),f=t.x+d*Math.cos(o),m=t.y+d*Math.sin(o);return{x:this.renderer._ptrnd(f),y:this.renderer._ptrnd(m)}}_renderSpiderAxis(t,e){let n=this,a=n._getXAxis(t),s=this._getAxisSettings(a);if(!a||!s.visible)return;let o=n.seriesGroups[t],d=n._getPolarAxisCoords(t,e);if(!d)return;let f=this.renderer._ptrnd(d.x),m=this.renderer._ptrnd(d.y),u=d.adjR,y=d.startAngle,v=d.endAngle;if(u<1)return;let b=this.renderer._rnd(Math.abs(y-v)/(2*Math.PI),.001,!0),x=2*Math.PI*u*b,w=d.isClosedCircle,C=this._renderData[t].xoffsets;if(!C.rangeLength)return;let A=C.axisStats.interval;for((isNaN(A)||A<1)&&(A=1);n._renderData.length<t+1;)n._renderData.push({});let N={rangeLength:C.rangeLength,itemWidth:C.itemWidth,data:C,rect:e,settings:s};n._renderData[t].xAxis=N,n._renderData[t].polarCoords=d;let E=!0;for(let S=0;S<t;S++){let T=n._renderData[S].polarCoords,M=n._getXAxis(S),L=!1;for(let D in d)if(d[D]!==T[D]){L=!0;break}L&&M===a||(E=!1)}let O,I,k=s.gridLines,R=s.tickMarks,H=s.labels,B=this._getInterval(k,A),F=this._getInterval(R,A),z=this._getInterval(H,A),$=n._alignValuesWithTicks(t),W=n.renderer,Y=C.axisStats,K=Y.min,J=Y.max,h=this._getPaddingSize(C.axisStats,a,$,x,!0,w,!1),r=!0===a.flip||n.rightToLeft;"date"===a.type?(k.offsets=this._generateDTOffsets(K,J,x,h,B,A,a.baseUnit,!0,0,!1,r),R.offsets=this._generateDTOffsets(K,J,x,h,F,A,a.baseUnit,!0,0,!1,r),O=this._generateDTOffsets(K,J,x,h,z,A,a.baseUnit,!0,0,!0,r)):(s.gridLines.offsets=this._getOffsets("gridLines",a,x,Y,s,h,!0,A),s.tickMarks.offsets=this._getOffsets("tickMarks",a,x,Y,s,h,!0,A),O=this._getOffsets("labels",a,x,Y,s,h,!0,A)),n._elementRenderInfo&&n._elementRenderInfo.length>t&&(I=n._elementRenderInfo[t].xAxis);let i=[],l=this._getDataLen(t);for(let S=0;S<O.length;S++){let T,M=O[S].offset,L=O[S].value;if("date"!==a.type&&Y.useIndeces&&a.dataField){if(T=Math.round(L),T>=l)continue;L=n._getDataValue(T,a.dataField),null==L&&(L="")}let D=n._formatValue(L,n._getFormatSettings(H.formatSettings),H.formatFunction,t,void 0,T);null!=D&&""!==D.toString()||(D=Y.useIndeces?(Y.min+S).toString():null==L?"":L.toString());let P={key:L,text:D,targetX:M,x:M};I&&I.itemOffsets[L]&&(P.x=I.itemOffsets[L].x,P.y=I.itemOffsets[L].y),i.push(P)}let c={stroke:k.color||n._getThemeColor("line"),fill:"none","stroke-width":k.width,"stroke-dasharray":k.dashStyle||""};if(!o.spider)if(1===b)W.circle(f,m,u,c);else{let S=-y/Math.PI*180,T=-v/Math.PI*180;this.renderer.pieslice(f,m,0,u,Math.min(S,T),Math.max(S,T),void 0,c)}let p=y;if(k.visible&&E){$||w||k.offsets.unshift({offset:-h.right});for(let S=0;S<k.offsets.length;S++){let T=k.offsets[S].offset;$||(T+=w?h.right/2:h.right);const M=p+2*T*Math.PI*b/Math.max(1,x);if(M-v>.01)continue;let L=this.renderer._ptrnd(f+u*Math.cos(M)),D=this.renderer._ptrnd(m+u*Math.sin(M));W.line(f,m,L,D,c)}}if(R.visible&&E){let S=5,T={stroke:R.color||n._getThemeColor("line"),fill:"none","stroke-width":R.width,"stroke-dasharray":R.dashStyle||""};$||w||R.offsets.unshift({offset:-h.right});for(let M=0;M<R.offsets.length;M++){let L=R.offsets[M].offset;$||(L+=w?h.right/2:h.right);const D=p+2*L*Math.PI*b/Math.max(1,x);if(D-v>.01)continue;let P={x:f+u*Math.cos(D),y:m+u*Math.sin(D)},V={x:f+(u+S)*Math.cos(D),y:m+(u+S)*Math.sin(D)};W.line(this.renderer._ptrnd(P.x),this.renderer._ptrnd(P.y),this.renderer._ptrnd(V.x),this.renderer._ptrnd(V.y),T)}}let g=[];if(o.spider){let S=[];S="date"===a.type?this._generateDTOffsets(K,J,x,h,A,A,a.baseUnit,!0,0,!1,r):this._getOffsets("",a,x,Y,s,h,!0,A),$||w||S.unshift({offset:-h.right});for(let T=0;T<S.length;T++){let M=S[T].offset;$||(M+=w?h.right/2:h.right);const L=p+2*M*Math.PI*b/Math.max(1,x);L-v>.01||g.push(L)}N.offsetAngles=g}let _=n._renderSpiderValueAxis(t,e,$?d.adjR:d.r,g);if(_||(_=[]),o.spider){if(!$)for(let S=0;S<_.length;S++)_[S]=_[S]*d.adjR/d.r;_.push(u),this._renderSpiderLines(f,m,_,d,g,c)}if(E&&H.visible){N.polarLabels=[];for(let S=0;S<i.length;S++){let T=p+2*i[S].x*Math.PI*b/Math.max(1,x);T=(360-T/(2*Math.PI)*360)%360,T<0&&(T=360+T);let M,L=W.measureText(i[S].text,0,{class:s.labels.style}),D=($?d.adjR:d.r)+(R.visible?7:2),P=s.labels;if(P.autoRotate){let V=this._draw._ptRotate(f-L.width/2,m-D-L.height,f,m,-T/180*Math.PI),U=this._draw._ptRotate(f+L.width/2,m-D,f,m,-T/180*Math.PI);L.width=Math.abs(V.x-U.x),L.height=Math.abs(V.y-U.y),M={x:Math.min(V.x,U.x),y:Math.min(V.y,U.y)}}else M=this._adjustTextBoxPosition(f,m,L,D,T,!1,!1,!1);N.polarLabels.push({x:M.x,y:M.y,value:i[S].text}),W.text(i[S].text,M.x,M.y,L.width,L.height,P.autoRotate?90-T:P.angle,{class:P.style},!1,P.halign,P.valign)}}}_renderSpiderLines(t,e,n,a,s,o){let d=this.renderer,f=a.isClosedCircle;for(let m=0;m<n.length;m++){let u,y,v=n[m];for(let b=0;b<s.length;b++){let x=s[b],w=this.renderer._ptrnd(t+v*Math.cos(x)),C=this.renderer._ptrnd(e+v*Math.sin(x));u&&d.line(u.x,u.y,w,C,o),u={x:w,y:C},y||(y={x:w,y:C})}y&&f&&d.line(u.x,u.y,y.x,y.y,o)}}_renderSpiderValueAxis(t,e,n,a){var s=this,o=this.seriesGroups[t],d=this._getPolarAxisCoords(t,e);if(!d)return;var f=this.renderer._ptrnd(d.x),m=this.renderer._ptrnd(d.y);n=n||d.r;var u=d.startAngle,y=d.endAngle,v=this.renderer._rnd(Math.abs(u-y)/(2*Math.PI),.001,!0);if(n<1)return;n=this.renderer._ptrnd(n);var b=this._getValueAxis(t);const x=this._getAxisSettings(b);if(b&&!1!==x.visible){var w=this._stats.seriesGroups[t].mu,C=x.labels,A=s._getFormatSettings(C);-1!==o.type.indexOf("stacked")&&-1!==o.type.indexOf("100")&&!A&&(A={sufix:"%"});var N=this._get([C.step,C.unitInterval/w]);isNaN(N)&&(N=1),N=Math.max(1,Math.round(N)),this._calcValueAxisItems(t,n,N);var E=x.gridLines,O=x.tickMarks,I=x.labels,k={stroke:E.color||s._getThemeColor("line"),fill:"none","stroke-width":1,"stroke-dasharray":E.dashStyle||""},R=this._renderData[t].valueAxis,H=R.items,B=u;if(H.length&&x.line.visible){isNaN(x.line.angle)||(B=2*Math.PI*x.line.angle/360);var F=f+Math.cos(B)*n,z=m+Math.sin(B)*n;if(-1===a.indexOf(B)){var $=Object.assign({},k);$["stroke-width"]=x.line.lineWidth,$.stroke=x.line.color||s._getThemeColor("line"),$["stroke-dasharray"]=x.line.dashStyle,this.renderer.line(f,m,F,z,$)}}H=H.reverse();var W=this.renderer;R.polarLabels=[];for(let D=0;D<H.length-1;D++){var Y=H[D];if(isNaN(Y))continue;var K=I.formatFunction?I.formatFunction(Y):this._formatNumber(Y,A),J=W.measureText(K,0,{class:I.style}),h=f+(!1!==b.showTickMarks?3:2);let P=m-R.itemWidth*D-J.height/2;var r=this._draw._ptRotate(h,P,f,m,B),i=this._draw._ptRotate(h+J.width,P+J.height,f,m,B);h=Math.min(r.x,i.x),P=Math.min(r.y,i.y),J.width=Math.abs(r.x-i.x),J.height=Math.abs(r.y-i.y),P+=x.labels.textOffset.y,R.polarLabels.push({x:h+=x.labels.textOffset.x,y:P,value:K}),W.text(K,h,P,J.width,J.height,I.autoRotate?90+180*u/Math.PI:I.angle,{class:I.style},!1,I.halign,I.valign)}var l=!1!==b.valuesOnTicks,c=this._stats.seriesGroups[t],p=c.mu,g=!0===b.logarithmicScale;g&&(p=1);var _={min:c.min,max:c.max,logAxis:{enabled:!0===g,base:b.logarithmicScaleBase,minPow:c.minPow,maxPow:c.maxPow}};(E.visible||o.spider||b.alternatingBackgroundColor||b.alternatingBackgroundColor2)&&(E.offsets=this._getOffsets("gridLines",b,n,_,x,{left:0,right:0},l,p));var S=[];if(E.visible||o.spider){let D={stroke:E.color||s._getThemeColor("line"),fill:"none","stroke-width":1,"stroke-dasharray":E.dashStyle||""};for(let P=0;P<E.offsets.length;P++){let V=this.renderer._ptrnd(E.offsets[P].offset);if(V!==n)if(o.spider)S.push(V);else if(1!==v){var T=-u/Math.PI*180,M=-y/Math.PI*180;this.renderer.pieslice(f,m,0,V,Math.min(T,M),Math.max(T,M),void 0,D)}else W.circle(f,m,V,D)}}if(b.tickMarks&&(b.tickMarks.visible||b.showTickMarks)||(O.visible=!1),O.visible){O.offsets=this._getOffsets("tickMarks",b,n,_,x,{left:0,right:0},l,p);const D=2*O.size;let P={stroke:O.color||s._getThemeColor("line"),fill:"none","stroke-width":1,"stroke-dasharray":O.dashStyle||""};for(let V=0;V<O.offsets.length;V++){var L=O.offsets[V].offset;let U={x:f+L*Math.cos(B)-D/2*Math.sin(B+Math.PI/2),y:m+L*Math.sin(B)-D/2*Math.cos(B+Math.PI/2)},j={x:f+L*Math.cos(B)+D/2*Math.sin(B+Math.PI/2),y:m+L*Math.sin(B)+D/2*Math.cos(B+Math.PI/2)};W.line(this.renderer._ptrnd(U.x),this.renderer._ptrnd(U.y),this.renderer._ptrnd(j.x),this.renderer._ptrnd(j.y),P)}}return S}}_renderAxis(t,e,n,a,s,o,d,f,m,u,y){if(n.customDraw&&!u)return{width:NaN,height:NaN};let v=n.title,b=n.labels,x=n.tickMarks,w=n.padding,C=x.visible?x.size:0,A={width:0,height:0},N={width:0,height:0};t?A.height=N.height=a.height:A.width=N.width=a.width,!u&&e&&t&&(a.x-=a.width);let E=m.renderData,O=E.itemWidth;if(v.visible&&null!=v.text&&""!==v){let K=v.angle,J=this.renderer.measureText(v.text,K,{class:v.style});N.width=J.width,N.height=J.height,u||this.renderer.text(v.text,a.x+v.offset.x+(t?e?-w.right-2+2*a.width-N.width:2+w.left:0),a.y+v.offset.y+(t?0:e?w.top+2:a.height-2-N.height-w.bottom),t?N.width:a.width,t?a.height:N.height,K,{class:v.style},!0,v.halign,v.valign,v.rotationPoint)}let I=0,k=f?-O/2:0;f&&!t&&(b.halign="center");let R=a.x,H=a.y,B=b.textOffset;B&&(isNaN(B.x)||(R+=B.x),isNaN(B.y)||(H+=B.y)),t?(R+=w.left+2+(N.width>0?N.width+2:0)+(e?a.width-N.width:0),H+=k):(R+=k,e?(H+=N.height>0?N.height+6:4,H+=C-(f?C:C/4)):H+=f?C:C/4,H+=w.top);let F=0,z=0,$=m.items;E.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(y=0);let W=!1,Y=0;for(let K=0;K<$.length&&b.visible;K++,I+=O){if(!$[K]||isNaN(O))continue;let J=$[K].text;isNaN($[K].targetX)||(I=$[K].targetX);let h=this.renderer.measureText(J,b.angle,{class:b.style});if(h.width>z&&(z=h.width),h.height>F&&(F=h.height),Y+=t?F:z,!u){if(t&&I>a.height+2||!t&&I>a.width+2)continue;const r=t?R+(e?0===N.width?C:C-2:0):R+I;let i=t?H+I:H;E.itemOffsets[$[K].key]={x:r,y:i},W||(!isNaN($[K].x)||!isNaN($[K].y)&&y)&&(W=!0),$[K].targetX=r,$[K].targetY=i,$[K].width=t?a.width-w.left-w.right-4-C-(N.width>0?N.width+2:0):O,$[K].height=t?O:a.height-w.top-w.bottom-4-C-(N.height>0?N.height+2:0),$[K].visible=!0}}if(E.avgWidth=0===$.length?0:Y/$.length,!u){let K={items:$,textSettings:b};if(!isNaN(y)&&W||(y=0),this._animateAxisText(K,0===y?1:0),0!==y){let J=this;this._enqueueAnimation("series",void 0,void 0,y,function(h,r,i){J._animateAxisText(r,i)},K)}}if(A.width+=4+C+N.width+z+(t&&N.width>0?2:0),A.height+=4+C+N.height+F+(!t&&N.height>0?2:0),t?A.width+=w.left+w.right:A.height+=w.top+w.bottom,!u&&n.line.visible){let K={stroke:n.line.color||self._getThemeColor("line"),"stroke-width":n.line.width,"stroke-dasharray":n.line.dashStyle||""};if(t){let J=a.x+a.width+(e?w.left:-w.right);J=this.renderer._ptrnd(J),this.renderer.line(J,a.y,J,a.y+a.height,K)}else{let J=this.renderer._ptrnd(a.y+(e?a.height-w.bottom:w.top));this.renderer.line(this.renderer._ptrnd(a.x),J,this.renderer._ptrnd(a.x+a.width+1),J,K)}}return A.width=this.renderer._rup(A.width),A.height=this.renderer._rup(A.height),A}_drawPlotAreaLines(t,e,n){var a=this.seriesGroups[t],s="horizontal"!==a.orientation;if(!this._renderData||this._renderData.length<=t)return;var d=this._renderData[t][e?"valueAxis":"xAxis"];if(!d)return;var f=this._renderData.axisDrawState;f||(f=this._renderData.axisDrawState={});var m,u="";e?(u="valueAxis_"+(a.valueAxis?t:"")+(s?"swap":""),m=this._getValueAxis(t)):(u="xAxis_"+(a.xAxis?t:"")+(s?"swap":""),m=this._getXAxis(t)),f=f[u]?f[u]:f[u]={},e||(s=!s);var y=d.settings;if(!y||y.customDraw)return;var v=y.gridLines,b=y.tickMarks,x=y.padding,w=d.rect,C=this._plotRect;if(!v||!b)return;var A=.5,N={};let E={stroke:v.color||self._getThemeColor("line"),"stroke-width":v.width,"stroke-dasharray":v.dashStyle||""};var O=e?w.y+w.height:w.x,I=v.offsets;let k;if(e&&!m.flip&&(I=(I=I.slice(0)).reverse()),I&&I.length>0){var R=NaN;for(let Y=0;Y<I.length;Y++)if(s?(k=this.renderer._ptrnd(w.y+I[Y].offset),k<w.y-A&&(k=this.renderer._ptrnd(w.y)),k>w.y+w.height&&(k=w.y+w.height)):(k=this.renderer._ptrnd(w.x+I[Y].offset),k>w.x+w.width+A&&(k=this.renderer._ptrnd(w.x+w.width))),!isNaN(k)&&(isNaN(R)||!(Math.abs(k-R)<2))){if(R=k,n.gridLines&&!1!==v.visible&&!0!==f.gridLines&&(s?this.renderer.line(this.renderer._ptrnd(C.x),k,this.renderer._ptrnd(C.x+C.width),k,E):this.renderer.line(k,this.renderer._ptrnd(C.y),k,this.renderer._ptrnd(C.y+C.height),E)),N[k]=!0,n.alternatingBackground&&(v.alternatingBackgroundColor||v.alternatingBackgroundColor2)&&!0!==f.alternatingBackground){var H,B=Y%2==0?v.alternatingBackgroundColor2:v.alternatingBackgroundColor;Y>0&&B&&(H=s?this.renderer.rect(this.renderer._ptrnd(C.x),O,this.renderer._ptrnd(C.width-1),k-O,E):this.renderer.rect(O,this.renderer._ptrnd(C.y),k-O,this.renderer._ptrnd(C.height),E),this.renderer.attr(H,{"stroke-width":0,fill:B,opacity:v.alternatingBackgroundOpacity||1}))}O=k}}if(E={stroke:b.color||self._getThemeColor("line"),"stroke-width":b.width,"stroke-dasharray":b.dashStyle||""},n.tickMarks&&b.visible&&!0!==f.tickMarks){var F=b.size;let Y=b.offsets,K=NaN;for(let J=0;J<Y.length;J++)if(s?(k=this.renderer._ptrnd(w.y+Y[J].offset),k<w.y-A&&(k=this.renderer._ptrnd(w.y)),k>w.y+w.height&&(k=w.y+w.height)):(k=this.renderer._ptrnd(w.x+Y[J].offset),k>w.x+w.width+A&&(k=this.renderer._ptrnd(w.x+w.width))),!isNaN(k)&&(isNaN(K)||!(Math.abs(k-K)<2))){if(N[k-1]?k--:N[k+1]&&k++,s){if(k>w.y+w.height+A)break}else if(k>w.x+w.width+A)break;K=k;var z=d.isMirror?F:-F;if(s){var $=w.x+w.width+("right"===m.position?x.left:-x.right);e||($=w.x+(d.isMirror?x.left:-x.right+w.width)),this.renderer.line($,k,$+z,k,E)}else{var W=w.y+(d.isMirror?w.height:0);W=this.renderer._ptrnd(W+=d.isMirror?-x.bottom:x.top),this.renderer.line(k,W,k,W-z,E)}}}f.tickMarks=f.tickMarks||n.tickMarks,f.gridLines=f.gridLines||n.gridLines,f.alternatingBackground=f.alternatingBackground||n.alternatingBackground}_calcValueAxisItems(t,e,n){let a=this._stats.seriesGroups[t];if(!a||!a.isValid)return!1;let s=this.seriesGroups[t],o=this._getValueAxis(t),d=!1!==o.valuesOnTicks,f=a.intervals,m=e/f,u=a.min,y=a.mu,v=!0===o.logarithmicScale,b=o.logarithmicScaleBase||10,x=-1!==s.type.indexOf("stacked")&&-1!==s.type.indexOf("100");for(v&&(y=isNaN(o.unitInterval)?1:o.unitInterval),d||(f=Math.max(f-1,1));this._renderData.length<t+1;)this._renderData.push({});this._renderData[t].valueAxis={};let w=this._renderData[t].valueAxis;w.itemWidth=w.intervalWidth=m,w.items=[];let C=w.items;for(let A=0;A<=f;A++){let N=0;N=v?x?a.max/Math.pow(b,f-A):u*Math.pow(b,A):d?u+A*y:u+(A+.5)*y,C.push(A%n==0?N:NaN)}return w.rangeLength=v&&!x?a.intervals:a.intervals*y,!0!==o.flip&&(C=C.reverse()),!0}_getDecimalPlaces(t,e,n){let a=0;isNaN(n)&&(n=10);for(let s=0;s<t.length;s++){let o=void 0===e?t[s]:t[s][e];if(isNaN(o))continue;let d=o.toString();for(let f=0;f<d.length;f++)if((d[f]<"0"||d[f]>"9")&&(a=d.length-(f+1),a>=0))return Math.min(a,n);for(a>0&&(o*=Math.pow(10,a));Math.round(o)!==o&&a<n;)a++,o*=10}return a}_renderValueAxis(t,e,n,a){let s=this.seriesGroups[t],o="horizontal"===s.orientation,d=this._getValueAxis(t);d||this.error(this.localize("missingAxis",{index:t,axis:"valueAxis"}));let f={width:0,height:0};if(!this._isGroupVisible(t)||this._isPieOnlySeries()||"spider"===s.type)return f;let m=!1!==d.valuesOnTicks,u=this._stats.seriesGroups[t],y=u.mu,v=!0===d.logarithmicScale,b=d.logarithmicScaleBase||10;if(v&&(y=isNaN(d.unitInterval)?1:d.unitInterval),0===y&&(y=1),isNaN(y))return f;let x=this._getAxisSettings(d),w=x.title,C=x.labels;this._get([d.horizontalTextAlignment,(d.labels||{}).horizontalAlignment])||0!==C.angle||(C.halign=o?"center":"right"===d.position?"left":"right");let N=this._get([C.step,C.unitInterval/y]);if(isNaN(N)&&(N=1),N=Math.max(1,Math.round(N)),!this._calcValueAxisItems(t,o?e.width:e.height,N)||!x.visible)return f;o||(w.angle=this.rightToLeft?90:-90,"centercenter"===w.rotationPoint&&("top"===w.valign?w.rotationPoint="rightcenter":"bottom"===w.valign&&(w.rotationPoint="leftcenter")));let E=this._renderData[t].valueAxis,O=this._getFormatSettings(C);-1!==s.type.indexOf("stacked")&&-1!==s.type.indexOf("100")&&!O&&(O={sufix:"%"}),C.formatFunction||O&&null!=O.decimalPlaces||(O=O||{},O.decimalPlaces=this._getDecimalPlaces([u.min,u.max,y],void 0,3));let I=x.gridLines,k=o?e.width:e.height,R=!0===d.flip;d.flip=!R;let H={min:u.min,max:u.max,logAxis:{enabled:!0===v,base:b,minPow:u.minPow,maxPow:u.maxPow}};(I.visible||d.alternatingBackgroundColor||d.alternatingBackgroundColor2)&&(I.offsets=this._getOffsets("gridLines",d,k,H,x,{left:0,right:0},m,y));let B=x.tickMarks;B.visible&&(B.offsets=this._getOffsets("tickMarks",d,k,H,x,{left:0,right:0},m,y));const F=this._getOffsets("labels",d,k,H,x,{left:0,right:0},m,y,!m);d.flip=R;let z,$=[];this._elementRenderInfo&&this._elementRenderInfo.length>t&&(z=this._elementRenderInfo[t].valueAxis);for(let h=0;h<F.length;h++){let r=F[h].value;if(isNaN(F[h].offset)){$.push(void 0);continue}let i={key:r,text:C.formatFunction?C.formatFunction(r):isNaN(r)?r:this._formatNumber(r,O)};z&&z.itemOffsets[r]&&(i.x=z.itemOffsets[r].x,i.y=z.itemOffsets[r].y),i.targetX=F[h].offset,isNaN(i.targetX)||$.push(i)}let W=o&&"top"===d.position||!o&&"right"===d.position||!o&&this.rightToLeft&&"left"!==d.position,Y={items:$,renderData:E},K=this._getAnimProps(t),J=K.enabled&&$.length<500?K.duration:0;return!1===this.enableAxisTextAnimation&&(J=0),E.settings=x,E.isMirror=W,E.rect=e,this._renderAxis(!o,W,x,e,a,y,v,!0,Y,n,J)}_objectsArraysToArray(t,e){let n=[];if(!Array.isArray(t))return n;for(let a=0;a<t.length;a++)n.push(t[a][e]);return n}_arraysToObjectsArray(t,e){let n=[];if(t.length!==e.length)return n;for(let a=0;a<t.length;a++)for(let s=0;s<t[a].length;s++)n.length<=s&&n.push({}),n[s][e[a]]=t[a][s];return n}_valuesToOffsets(t,e,n,a,s,o,d){let f=[];if(!e||!Array.isArray(t))return f;let m=n.logAxis.base,u=n.logAxis.enabled?"logarithmic":"linear",y=e.flip,v=a,b=0,x=0;s&&!isNaN(s.left)&&(b=s.left),s&&!isNaN(s.right)&&(x=s.right),v=a-b-x,a=v;for(let w=0;w<t.length;w++){let C=this._smartPlot.scale(t[w],{min:n.min.valueOf(),max:n.max.valueOf(),type:u,base:m},{min:0,max:o?a:v,flip:y},{});isNaN(C)?f.push(NaN):(isNaN(d)||(C+=d),f.push(C<=a+b+x+1?this.renderer._ptrnd(C):NaN))}return f}_generateIntervalValues(t,e,n,a,s){let o=[],d=t.min,f=t.max;if(t.logAxis&&t.logAxis.enabled&&(d=t.logAxis.minPow,f=t.logAxis.maxPow),null==d||null==f)return o;if(d===f)return t.logAxis&&t.logAxis.enabled?[Math.pow(t.logAxis.base,d)]:[d];let m=1;n<1&&(m=1e6,d*=m,f*=m,n*=m);for(let u=d;u<=f;u+=n)o.push(u/m+(s?n/2:0));if(e>n){let u=[],y=Math.round(e/n);for(let v=0;v<o.length;v++)v%y==0&&u.push(o[v]);o=u}if(t.logAxis&&t.logAxis.enabled)for(let u=0;u<o.length;u++)o[u]=Math.pow(t.logAxis.base,o[u]);return o}_generateDTOffsets(t,e,n,a,s,o,d,f,m,u,y){d||(d="day");var v=[];if(t>e)return v;if(t===e)return u?v.push({offset:f?n/2:a.left,value:t}):f&&v.push({offset:n/2,value:t}),v;var b=n-a.left-a.right,x=t,w=a.left,C=w,A=o=Math.max(o,1),N=Math.min(1,o);for(o>1&&"millisecond"!==d&&(o=1);this.renderer._ptrnd(C)<=this.renderer._ptrnd(a.left+b+(f?0:a.right));){v.push({offset:C,value:x});var E=new Date(x.valueOf());if("millisecond"===d)E.setMilliseconds(x.getMilliseconds()+o);else if("second"===d)E.setSeconds(x.getSeconds()+o);else if("minute"===d)E.setMinutes(x.getMinutes()+o);else if("hour"===d){var O=E.valueOf();E.setHours(x.getHours()+o),O===E.valueOf()&&E.setHours(x.getHours()+o+1)}else"day"===d?E.setDate(x.getDate()+o):"month"===d?E.setMonth(x.getMonth()+o):"year"===d&&E.setFullYear(x.getFullYear()+o);C=w+((x=E).valueOf()-t.valueOf())*N/(e.valueOf()-t.valueOf())*b}if(y)for(let H=0;H<v.length;H++)v[H].offset=n-v[H].offset;if(A>1&&"millisecond"!==d){var I=[];for(let H=0;H<v.length;H+=A)I.push({offset:v[H].offset,value:v[H].value});v=I}if(!f&&!u&&v.length>1){let H=[];H.push({offset:0,value:void 0});for(let B=1;B<v.length;B++)H.push({offset:v[B-1].offset+(v[B].offset-v[B-1].offset)/2,value:void 0});var k=H.length;H.push(k>1?{offset:H[k-1].offset+(H[k-1].offset-H[k-2].offset)}:{offset:n,value:void 0}),v=H}if(s>o){let H=[];var R=Math.round(s/A);for(let B=0;B<v.length;B++)B%R==0&&H.push({offset:v[B].offset,value:v[B].value});v=H}return v}_hasStackValueReversal(t,e){let n=this.seriesGroups[t];if(-1===n.type.indexOf("stacked"))return!1;let a=-1!==n.type.indexOf("waterfall"),s=this._getDataLen(t),o=0,d=!1,f=[];for(let m=0;m<n.series.length;m++)f[m]=this._isSerieVisible(t,m);for(let m=0;m<s;m++){let u;a||(d=!1);for(let y=0;y<n.series.length;y++){if(!f[y])continue;const v=this._getDataValueAsNumber(m,n.series[y].dataField,t);if(isNaN(v)||n.series[y].summary&&void 0!==this._getDataValue(m,n.series[y].summary,t))continue;let b=d?v<0:v<e;if(d=!0,void 0===u&&(u=b),b!==u)return!0;u=b,o+=v}}return this.waterfallStackSum=o,!1}_getValueAxis(t){let e=null==t?this.valueAxis:this.seriesGroups[t].valueAxis||this.valueAxis;return e||(e=this.valueAxis={}),e}_buildStats(t){var e={seriesGroups:[]};this._stats=e;for(let T=0;T<this.seriesGroups.length;T++){var n=this.seriesGroups[T];e.seriesGroups[T]={};var a=this._getXAxis(T),s=this._getValueAxis(T),o=this._getXAxisStats(T,a,"horizontal"!==n.orientation?t.width:t.height);let M=e.seriesGroups[T];M.isValid=!0;var d="horizontal"===n.orientation?t.width:t.height,f=!0===s.logarithmicScale,m=s.logarithmicScaleBase;isNaN(m)&&(m=10);var u=-1!==n.type.indexOf("stacked"),y=u&&-1!==n.type.indexOf("100"),v=-1!==n.type.indexOf("range"),b=-1!==n.type.indexOf("waterfall");b&&!this._moduleWaterfall&&self.error(self.localize("missingReference",{files:"smart.chart.waterfall.js"})),y&&(M.psums=[],M.nsums=[]);var x=NaN,w=NaN,C=NaN,A=NaN,N=s?s.baselineValue:NaN;isNaN(N)&&(N=f&&!y?1:0);var E=!1;0!==N&&u&&(E=this._hasStackValueReversal(T,N))&&(N=0),u&&b&&(E=this._hasStackValueReversal(T,N));var O=this._getDataLen(T),I=0,k=NaN,R=[];if(b)for(let L=0;L<n.series.length;L++)R.push(NaN);var H=NaN;for(let L=0;L<O&&M.isValid;L++){if(a.rangeSelector&&a.rangeSelector.visible){var B=a.dataField?this._getDataValue(L,a.dataField,T):L;if(B&&o.isDateTime&&(B=this._castAsDate(B,a.dateFormat)),o.useIndeces&&(B=L),B&&(B.valueOf()<o.min.valueOf()||B.valueOf()>o.max.valueOf()))continue}var F=s.minValue,z=s.maxValue;s.baselineValue&&(F=isNaN(F)?N:Math.min(N,F),z=isNaN(z)?N:Math.max(N,z));var $=0,W=0;for(let D=0;n.series&&D<n.series.length;D++)if(this._isSerieVisible(T,D)){var Y=NaN,K=NaN,J=NaN;if(-1!==n.type.indexOf("candle")||-1!==n.type.indexOf("ohlc")){var h=["Open","Low","Close","High"];for(var r in h){var i=this._getDataValueAsNumber(L,n.series[D]["dataField"+h[r]],T);isNaN(i)||(J=isNaN(K)?i:Math.min(J,i),K=isNaN(K)?i:Math.max(K,i))}}else if(v){var l=this._getDataValueAsNumber(L,n.series[D].dataFieldFrom,T),c=this._getDataValueAsNumber(L,n.series[D].dataFieldTo,T);K=Math.max(l,c),J=Math.min(l,c)}else{if(Y=this._getDataValueAsNumber(L,n.series[D].dataField,T),b){if(this._isSummary(T,L)&&void 0!==this._getDataValue(L,n.series[D].summary,T))continue;u?(isNaN(H)||(Y+=H),H=Y):(isNaN(R[D])?R[D]=Y:Y+=R[D],R[D]=Y)}if(isNaN(Y)||f&&Y<=0)continue;J=K=Y}(isNaN(z)||K>z)&&(isNaN(s.maxValue)||K<=s.maxValue)&&(z=K),(isNaN(F)||J<F)&&(isNaN(s.minValue)||J>=s.minValue)&&(F=J),isNaN(Y)||!u||b||(Y>N?$+=Y:Y<N&&(W+=Y))}if(y||(isNaN(s.maxValue)||($=Math.min(s.maxValue,$)),isNaN(s.minValue)||(W=Math.max(s.minValue,W))),f&&y)for(let D=0;D<n.series.length;D++){if(!this._isSerieVisible(T,D)){k=.01;continue}let P=this._getDataValueAsNumber(L,n.series[D].dataField,T);if(isNaN(P)||P<=0)k=.01;else{var p=0===$?0:P/$;(isNaN(k)||p<k)&&(k=p)}}var g=$-W;I<g&&(I=g),y&&(M.psums[L]=$,M.nsums[L]=W),(z>w||isNaN(w))&&(w=z),(F<x||isNaN(x))&&(x=F),($>C||isNaN(C))&&(C=$),(W<A||isNaN(A))&&(A=W)}y&&(C=0===C?0:Math.max(C,-A),A=0===A?0:Math.min(A,-C)),x===w&&(!isNaN(s.minValue)&&isNaN(s.maxValue)?(x=s.minValue,w=f?x*m:x+1):isNaN(s.minValue)&&!isNaN(s.maxValue)&&(w=s.maxValue,x=f?w/m:w-1)),x===w&&(0===x?(x=-1,w=1):x<0?w=0:f?1===x&&(x/=m,w*=m):x=0);var _={gmin:x,gmax:w,gsumP:C,gsumN:A,gbase:N,isLogAxis:f,logBase:m,minPercent:k,gMaxRange:I,isStacked:u,isStacked100:y,isWaterfall:b,hasStackValueReversal:E,valueAxis:s,valueAxisSize:d};_.isStacked&&(_.gsumN<0&&(_.gmin=Math.min(_.gmin,_.gbase+_.gsumN)),_.gsumP>0&&(_.gmax=Math.max(_.gmax,_.gbase+_.gsumP))),M.context=_}this._mergeCommonValueAxisStats();for(let T=0;T<e.seriesGroups.length;T++){let M=e.seriesGroups[T];if(M.isValid){var S=this._calcOutputGroupStats(M.context);for(let L in S)M[L]=S[L];delete M.context}}}_mergeCommonValueAxisStats(){let t={};for(let e=0;e<this.seriesGroups.length;e++){if(!this._isGroupVisible(e)||this.seriesGroups[e].valueAxis)continue;let n=this._stats.seriesGroups[e].context;t.gbase=n.gbase,(isNaN(t.gmin)||n.gmin<t.gmin)&&(t.gmin=n.gmin),(isNaN(t.gmax)||n.gmax>t.gmax)&&(t.gmax=n.gmax),(isNaN(t.gsumP)||n.gsumP>t.gsumP)&&(t.gsumP=n.gsumP),(isNaN(t.gsumN)||n.gsumN<t.gsumN)&&(t.gsumN=n.gsumN),(isNaN(t.logBase)||n.logBase<t.logBase)&&(t.logBase=n.logBase),(isNaN(t.minPercent)||n.minPercent<t.minPercent)&&(t.minPercent=n.minPercent),t.gsumN>0&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),t.gsumP>0&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP))}for(let e=0;e<this.seriesGroups.length;e++){if(this.seriesGroups[e].valueAxis)continue;let n=this._stats.seriesGroups[e].context;for(let a in t)n[a]=t[a]}}_calcOutputGroupStats(t){let e=t.gmin,n=t.gmax,a=t.gsumP,s=t.gsumN,o=t.gbase,d=t.isLogAxis,f=t.logBase,m=t.minPercent,u=t.gMaxRange,y=t.isStacked,v=t.isStacked100,b=t.isWaterfall,x=t.hasStackValueReversal,w=t.valueAxis,A=t.valueAxis.unitInterval;A||(A=this._calcInterval(e,n,Math.max(t.valueAxisSize/80,2))),e===n&&(e=o,n*=2);let N=NaN,E=0,O=0;if(d){if(v){N=0;let R=1;for(E=O=this._draw.log(100,f);R>m;)R/=f,E--,N++;e=Math.pow(f,E)}else y&&!b&&(n=Math.max(n,a)),O=this.renderer._rnd(this._draw.log(n,f),1,!0),n=Math.pow(f,O),E=this.renderer._rnd(this._draw.log(e,f),1,!1),e=Math.pow(f,E);A=f}e<s&&(s=e),n>a&&(a=n);let I=e,k=n;if(d||Math.abs(k-I)%A!=0&&(I=this.renderer._rnd(e,A,!1),k=this.renderer._rnd(n,A,!0)),v&&k>100&&(k=100),v&&!d&&(k=k>0?100:0,I=I<0?-100:0,A=w.unitInterval,(isNaN(A)||A<=0||A>=100)&&(A=10),100%A!=0))for(;A>=1&&100%A!=0;A--);return isNaN(k)||isNaN(I)||isNaN(A)?{}:(isNaN(N)&&(N=parseInt(((k-I)/(0===A?1:A)).toFixed())),d&&!v&&(N=O-E,u=Math.pow(f,N)),N<1?{}:{min:I,max:k,logarithmic:d,logBase:f,base:d?I:o,minPow:E,maxPow:O,sumP:a,sumN:s,mu:A,maxRange:u,intervals:N,hasStackValueReversal:x})}_getDataLen(t){let e=this.dataSource;return null!=t&&-1!==t&&this.seriesGroups[t].dataSource&&(e=this.seriesGroups[t].dataSource),e?e.length:0}_getDataValue(t,e,n){let a=this.dataSource;if(null!=n&&-1!==n&&(a=this.seriesGroups[n].dataSource||a),!(!a||t<0||t>a.length-1))return"function"==typeof e?e(t,a):e&&""!==e?a[t][e]:a[t]}_getDataValueAsNumber(t,e,n){let a=this._getDataValue(t,e,n);return this._isDate(a)?a.valueOf():("number"!=typeof a&&(a=parseFloat(a)),"number"!=typeof a&&(a=void 0),a)}_isPieGroup(t){let e=this.seriesGroups[t];return!(!e||!e.type||-1===e.type.indexOf("pie")&&-1===e.type.indexOf("donut"))}_renderPieSeries(t,e){let n=this._getDataLen(t),a=this.seriesGroups[t],s=this._calcGroupOffsets(t,e).offsets;for(let o=0;o<a.series.length;o++){let d=a.series[o];if(d.customDraw)continue;let f=this._getSerieSettings(t,o),m=this._getAnimProps(t,o),u=m.enabled&&n<5e3&&!this._isToggleRefresh&&m.duration;this._isTouchDevice&&this.renderer instanceof Smart.Utilities.HTML5Renderer&&(u=0);let y=this._get([d.minAngle,d.startAngle]);(isNaN(y)||y<0||y>360)&&(y=0);let v=this._get([d.maxAngle,d.endAngle]);(isNaN(v)||v<0||v>360)&&(v=360);let b={rect:e,minAngle:y,maxAngle:v,groupIndex:t,serieIndex:o,settings:f,items:[]};for(let w=0;w<n;w++){let C=s[o][w];if(!C.visible)continue;let A=C.fromAngle,N=C.toAngle,E=this.renderer.pieslice(C.x,C.y,C.innerRadius,C.outerRadius,A,0===u?N:A,C.centerOffset);this._setRenderInfo(t,o,w,{element:E}),b.items.push({displayValue:C.displayValue,itemIndex:w,visible:C.visible,x:C.x,y:C.y,innerRadius:C.innerRadius,outerRadius:C.outerRadius,fromAngle:A,toAngle:N,centerOffset:C.centerOffset})}this._animatePieSlices(b,0);let x=this;this._enqueueAnimation("series",void 0,void 0,u,function(w,C,A){x._animatePieSlices(C,A)},b)}}_sliceSortFunction(t,e){return t.fromAngle-e.fromAngle}_animatePieSlices(t,e){var n;this._elementRenderInfo&&this._elementRenderInfo.length>t.groupIndex&&this._elementRenderInfo[t.groupIndex].series&&this._elementRenderInfo[t.groupIndex].series.length>t.serieIndex&&(n=this._elementRenderInfo[t.groupIndex].series[t.serieIndex]);var a=this._getLabelsSettings(t.groupIndex,t.serieIndex,NaN),s=a.visible,o=[];for(let w=0;w<t.items.length;w++){const C=t.items[w];if(!C.visible)continue;let A=C.fromAngle;var d=C.fromAngle+e*(C.toAngle-C.fromAngle);if(n&&n[C.displayValue]){var f=n[C.displayValue].fromAngle,m=n[C.displayValue].toAngle;A=f+(A-f)*e,d=m+(d-m)*e}o.push({index:w,from:A,to:d})}n&&o.sort(this._sliceSortFunction);var u=NaN;for(let w=0;w<o.length;w++){const C=t.items[o[w].index];var y=this._getRenderInfo(t.groupIndex,t.serieIndex,C.itemIndex);let A=o[w].from,N=o[w].to;n&&(!isNaN(u)&&A>u&&(A=u),u=N,w===o.length-1&&N!==o[0].from&&(N=t.maxAngle+o[0].from));var v=this.renderer.pieSlicePath(C.x,C.y,C.innerRadius,C.outerRadius,A,N,C.centerOffset);this.renderer.attr(y.element,{d:v});var b=this._getColors(t.groupIndex,t.serieIndex,C.itemIndex,"radialGradient",C.outerRadius),x=t.settings;y.colors=b,y.settings=x,this.renderer.attr(y.element,{fill:b.fillColor,stroke:b.lineColor,"stroke-width":x.stroke,"fill-opacity":x.opacity,"stroke-opacity":x.opacity,"stroke-dasharray":"none"}),s&&this._showPieLabel(t.groupIndex,t.serieIndex,C.itemIndex,a,void 0,y.colors.lineColor),1===e&&this._installHandlers(y.element,"pieslice",t.groupIndex,t.serieIndex,C.itemIndex)}}_showPieLabel(t,e,n,a,s){let o=this._renderData[t].offsets[e][n];if(o.elementInfo.labelElement&&this.renderer.removeElement(o.elementInfo.labelElement),a||(a=this._getLabelsSettings(t,e,NaN)),!a.visible)return;let d=o.fromAngle,f=o.toAngle,m=Math.abs(d-f);m>360&&(d=0,f=360);let u=m/2+d;u%=360;let y,v=u*Math.PI*2/360;!0===a.autoRotate&&(y=u<90||u>270?360-u:180-u);let b=a.linesEnabled,x=this._showLabel(t,e,n,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,y),w=a.radius||o.outerRadius+Math.max(x.width,x.height);this._isPercent(w)&&(w=parseFloat(w)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),w+=o.centerOffset,isNaN(s)&&(s=0),w+=s;let C=this.seriesGroups[t],A=C.series[e],N=this._draw.getNum([A.offsetX,C.offsetX,this._plotRect.width/2]),E=this._draw.getNum([A.offsetY,C.offsetY,this._plotRect.height/2]),O=this._plotRect.x+N,I=this._plotRect.y+E,k=this._adjustTextBoxPosition(O,I,x,w,u,o.outerRadius>w,!1!==a.linesAngles,!0===a.autoRotate);const R={},H=k.x<O?0:x.width/2,B=Math.sqrt(Math.pow(k.x-O,2)+Math.pow(k.y-I,2))+H<o.outerRadius?arguments[5]:void 0;o.elementInfo.labelElement=this._showLabel(t,e,n,{x:k.x,y:k.y,width:x.width,height:x.height},"left","top",!1,!1,!1,y,R,B),w>o.outerRadius+s+5&&!1!==b&&(o.elementInfo.labelArrowPath=this._updateLebelArrowPath(o.elementInfo.labelArrowPath,O,I,w,o.outerRadius+s,v,!1!==a.linesAngles,{lineColor:o.elementInfo.colors.lineColor,stroke:o.elementInfo.settings.stroke,opacity:o.elementInfo.settings.opacity,dashStyle:o.elementInfo.settings.dashStyle},R))}_updateLebelArrowPath(t,e,n,a,s,o,d,f,m){const u=this.renderer;let y=u._ptrnd(e+(a-0)*Math.cos(o)),v=u._ptrnd(n-(a-0)*Math.sin(o)),b=u._ptrnd(e+(s+2)*Math.cos(o)),x=u._ptrnd(n-(s+2)*Math.sin(o)),w=[];w.push({x:m.x+m.width/2,y:m.y}),w.push({x:m.x+m.width/2,y:m.y+m.height}),w.push({x:m.x,y:m.y+m.height/2}),w.push({x:m.x+m.width,y:m.y+m.height/2}),d||(w.push({x:m.x,y:m.y}),w.push({x:m.x+m.width,y:m.y}),w.push({x:m.x+m.width,y:m.y+m.height}),w.push({x:m.x,y:m.y+m.height})),w=w.sort(function(A,N){return u._ptdist(A.x,A.y,e,n)-u._ptdist(N.x,N.y,e,n)}),w=w.sort(function(A,N){return Math.abs(A.x-e)+Math.abs(A.y-n)-(Math.abs(N.x-e)+Math.abs(N.y-n))});for(let A=0;A<w.length;A++)w[A].x=u._ptrnd(w[A].x),w[A].y=u._ptrnd(w[A].y);y=w[0].x,v=w[0].y;let C="M "+y+","+v+" L"+b+","+x;return d&&(C="M "+y+","+v+" L"+b+","+v+" L"+b+","+x),t?u.attr(t,{d:C}):t=u.path(C,{}),u.attr(t,{fill:"none",stroke:f.lineColor,"stroke-width":f.stroke,"stroke-opacity":f.opacity,"stroke-dasharray":"none"}),t}_adjustTextBoxPosition(t,e,n,a,s,o,d,f){let m=s*Math.PI*2/360,u=this.renderer._ptrnd(t+a*Math.cos(m)),y=this.renderer._ptrnd(e-a*Math.sin(m));if(f){let v=n.width,b=n.height,x=Math.atan(b/v)%(2*Math.PI),w=m%(2*Math.PI),C=0;w<=x?C=v/2*Math.cos(m):w>=x&&w<Math.PI-x?C=b/2*Math.sin(m):w>=Math.PI-x&&w<Math.PI+x?C=v/2*Math.cos(m):w>=Math.PI+x&&w<2*Math.PI-x?C=b/2*Math.sin(m):w>=2*Math.PI-x&&w<2*Math.PI&&(C=v/2*Math.cos(m)),a+=Math.abs(C)+3;let A=this.renderer._ptrnd(t+a*Math.cos(m)),N=this.renderer._ptrnd(e-a*Math.sin(m));return A-=n.width/2,N-=n.height/2,{x:A,y:N}}return o?(u-=n.width/2,y-=n.height/2):d?s>=90&&s<270?(y-=n.height/2,u-=n.width):y-=n.height/2:s>=0&&s<45||s>=315&&s<360?y-=n.height/2:s>=45&&s<135?(y-=n.height,u-=n.width/2):s>=135&&s<225?(y-=n.height/2,u-=n.width):s>=225&&s<315&&(u-=n.width/2),{x:u,y}}_isColumnType(t){return-1!==t.indexOf("column")||-1!==t.indexOf("waterfall")}_getColumnGroupsCount(t){let e=0;t=t||"vertical";let n=this.seriesGroups;for(let a=0;a<n.length;a++){let s=n[a].orientation||"vertical";this._isColumnType(n[a].type)&&s===t&&e++}return this.columnSeriesOverlap&&(e=1),e}_getColumnGroupIndex(t){let e=0,n=this.seriesGroups[t].orientation||"vertical";for(let a=0;a<t;a++){let s=this.seriesGroups[a],o=s.orientation||"vertical";this._isColumnType(s.type)&&o===n&&e++}return e}_renderAxisBands(t,e,n){var a=n?this._getXAxis(t):this._getValueAxis(t),s=this.seriesGroups[t],o=n?void 0:s.bands;if(!o){for(let c=0;c<t;c++)if((n?this._getXAxis(c):this._getValueAxis(c))===a)return;o=a.bands}if(Array.isArray(o)){var d=e,f="horizontal"===s.orientation;f&&(d={x:e.y,y:e.x,width:e.height,height:e.width}),this._calcGroupOffsets(t,d);for(let c=0;c<o.length;c++){var m=o[c],u=m.minValue,y=m.maxValue,v=n?this.getXAxisDataPointOffset(u,t):this.getValueAxisDataPointOffset(u,t),b=n?this.getXAxisDataPointOffset(y,t):this.getValueAxisDataPointOffset(y,t);if(!isNaN(v)&&!isNaN(b)){var x,w=Math.abs(v-b);if(s.polar||s.spider){var C=this._renderData[t],A=C.polarCoords;if(n)if(s.spider){const p=this.getPolarDataPointOffset(u,this._stats.seriesGroups[t].max,t),g=this.getPolarDataPointOffset(y,this._stats.seriesGroups[t].max,t);let _="M "+A.x+","+A.y;_+=" L "+p.x+","+p.y,_+=" L "+g.x+","+g.y,x=this.renderer.path(_)}else{var N={},E={x:Math.min(v,b),y:e.y,width:w,height:e.height};this._columnAsPieSlice(N,e,A,E),x=N.element}else{var O=this._toPolarCoord(A,e,e.x,C.baseOffset),I=this._toPolarCoord(A,e,e.x,v),k=this._toPolarCoord(A,e,e.x,b),R=this.renderer._ptdist(O.x,O.y,I.x,I.y),H=this.renderer._ptdist(O.x,O.y,k.x,k.y),B=Math.round(360*-A.startAngle/(2*Math.PI)),F=Math.round(360*-A.endAngle/(2*Math.PI));if(B>F){const p=B;B=F,F=p}if(s.spider){var z=C.xAxis.offsetAngles;let p="";var $=[H,R],W=z;for(var Y in A.isClosedCircle&&(W=z.slice(0)).push(W[0]),$){for(let g=0;g<W.length;g++){var K=0===Y?g:z.length-g-1;let _=A.x+$[Y]*Math.cos(W[K]),S=A.y+$[Y]*Math.sin(W[K]);p+=""===p?"M ":" L",p+=this.renderer._ptrnd(_)+","+this.renderer._ptrnd(S)}if(0===Y){let g=A.x+$[1]*Math.cos(W[K]),_=A.y+$[1]*Math.sin(W[K]);p+=" L"+this.renderer._ptrnd(g)+","+this.renderer._ptrnd(_)}}p+=" Z",x=this.renderer.path(p)}else x=this.renderer.pieslice(A.x,A.y,R,H,B,F)}}else{var J={x:Math.min(v,b),y:d.y,width:w,height:d.height};if(n||(J={x:d.x,y:Math.min(v,b),width:d.width,height:w}),f){let p=J.x;J.x=J.y,J.y=p,p=J.width,J.width=J.height,J.height=p}x=0===w||1===w?this.renderer.line(this.renderer._ptrnd(J.x),this.renderer._ptrnd(J.y),this.renderer._ptrnd(J.x+(f?0:J.width)),this.renderer._ptrnd(J.y+(f?J.height:0))):this.renderer.rect(J.x,J.y,J.width,J.height)}var h=m.color||this._getThemeColor("band"),r=m.lineColor||h,i=m.lineWidth;isNaN(i)&&(i=1);var l=m.opacity;(isNaN(l)||l<0||l>1)&&(l=1),this.renderer.attr(x,{fill:h,"fill-opacity":l,stroke:r,"stroke-opacity":l,"stroke-width":i,"stroke-dasharray":m.dashStyle})}}}}_getColumnGroupWidth(t,e,n){let a=this.seriesGroups[t],s=-1!==a.type.indexOf("stacked"),o=this._getColumnGroupsCount(a.orientation);(isNaN(o)||0===o)&&(o=1);let d=e.rangeLength>=1?e.itemWidth:.9*n,f=a.columnsMinWidth;isNaN(f)&&(f=1),isNaN(a.columnsMaxWidth)||(f=Math.min(a.columnsMaxWidth,f)),f>d&&e.length>0&&(d=Math.max(d,.9*n/e.length));let m=f;if(!s){let u=a.seriesGapPercent;(isNaN(u)||u<0)&&(u=10),u/=100;let y=f;y*=1+u,m+=a.series.length*y}return{requiredWidth:m,availableWidth:d,targetWidth:Math.max(d/o,m)}}_getColumnSerieWidthAndOffset(t,e){let n=this.seriesGroups[t],a="horizontal"===n.orientation,s=this._plotRect;a&&(s={x:s.y,y:s.x,width:s.height,height:s.width});let o=this._calcGroupOffsets(t,s);if(!o||0===o.xoffsets.length)return;let d=this._getColumnGroupsCount(n.orientation);"candlestick"!==n.type&&"ohlc"!==n.type||(d=1);let f=this._getColumnGroupIndex(t),m=this._getColumnGroupWidth(t,o.xoffsets,a?s.height:s.width),u=0,y=m.targetWidth;(!0===this.columnSeriesOverlap||Math.round(y)>Math.round(m.availableWidth/d))&&(d=1,f=0),u-=y*d/2,u+=y*f;let v=n.columnsGapPercent;v<=0&&(v=0),(isNaN(v)||v>=100)&&(v=25),v/=100;let b=y*v;b+m.requiredWidth>m.targetWidth&&(b=Math.max(0,m.targetWidth-m.requiredWidth)),Math.round(y)>Math.round(m.availableWidth)&&(b=0),y-=b,u+=b/2;let x=n.seriesGapPercent;(isNaN(x)||x<0)&&(x=10);let w=-1!==n.type.indexOf("stacked"),C=y;w||(C/=n.series.length);let A=this._get([n.seriesGap,y*x/100/(n.series.length-1)]);(!0===n.polar||!0===n.spider||w||n.series.length<=1)&&(A=0);let N=A*(n.series.length-1);n.series.length>1&&N>y-1*n.series.length&&(N=y-1*n.series.length,A=N/Math.max(1,n.series.length-1));let E=C-N/n.series.length,O=0,I=n.columnsMaxWidth;isNaN(I)||E>I&&(O=E-I,E=I);let k=0;return k=w?O/2:(y-E*n.series.length-N)/2+E*e+Math.max(0,e)*A,{width:E,offset:u+k}}_renderColumnSeries(t,e){let n=this.seriesGroups[t];if(!n.series||0===n.series.length)return;let a="horizontal"===n.orientation,s=e;a&&(s={x:e.y,y:e.x,width:e.height,height:e.width});let o,d=this._calcGroupOffsets(t,s);if(!d||0===d.xoffsets.length)return;!0!==n.polar&&!0!==n.spider||(o=this._getPolarAxisCoords(t,s));let f={groupIndex:t,rect:e,vertical:!a,seriesCtx:[],renderData:d,polarAxisCoords:o};f.columnGroupWidth=this._getColumnGroupWidth(t,d.xoffsets,a?s.height:s.width);let m,u=this._getGroupGradientType(t);for(let v=0;v<n.series.length;v++){let b=n.series[v];if(b.customDraw)continue;let x=this._getAnimProps(t,v);m=x.enabled&&!this._isToggleRefresh&&d.xoffsets.length<100?x.duration:0;let w=this._getColumnSerieWidthAndOffset(t,v),C=this._isSerieVisible(t,v),A=this._getSerieSettings(t,v),N=this._getColors(t,v,NaN,this._getGroupGradientType(t),4),E=[];if("function"==typeof b.colorFunction&&!o)for(let I=d.xoffsets.first;I<=d.xoffsets.last;I++)E.push(this._getColors(t,v,I,u,4));f.seriesCtx.push({seriesIndex:v,serieColors:N,itemsColors:E,settings:A,columnWidth:w.width,xAdjust:w.offset,isVisible:C})}this._animColumns(f,0===m?1:0);let y=this;this._enqueueAnimation("series",void 0,void 0,m,function(v,b,x){y._animColumns(b,x)},f)}_getPercent(t,e,n,a){return isNaN(t)&&(t=e),!isNaN(n)&&!isNaN(t)&&t<n&&(t=n),!isNaN(a)&&!isNaN(t)&&t>a&&(t=a),isNaN(t)?NaN:t}_getColumnVOffsets(t,e,n,a,s,o){var d=this.seriesGroups[e],f=this._getPercent(d.columnsTopWidthPercent,100,0,100),m=this._getPercent(d.columnsBottomWidthPercent,100,0,100);0===f&&0===m&&(m=100);var u=this._getPercent(d.columnsNeckHeightPercent,NaN,0,100)/100,y=this._getPercent(d.columnsNeckWidthPercent,100,0,100)/100,v=[],b=NaN;for(let r=0;r<n.length;r++){var x,w=n[r],C=w.seriesIndex,A=t.offsets[C][a].from,N=t.offsets[C][a].to,E=t.xoffsets.data[a],O=w.isVisible;O||(N=A);var I=this._elementRenderInfo;O&&I&&I.length>e&&I[e].series.length>C&&(!(x=I[e].series[C][t.xoffsets.xvalues[a]])||isNaN(x.from)||isNaN(x.to)||(A=x.from+(A-x.from)*o,N=x.to+(N-x.to)*o,E=x.xoffset+(E-x.xoffset)*o)),x||(N=A+(N-A)*(s?1:o)),isNaN(A)&&(A=isNaN(b)?t.baseOffset:b),b=!isNaN(N)&&s?N:A,isNaN(N)&&(N=A);var R={from:A,to:N,xOffset:E};100===f&&100===m||(R.funnel=!0,R.toWidthPercent=f,R.fromWidthPercent=m),v.push(R)}if(s&&v.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>e)){var H=0,B=0,F=-1/0,z=1/0,$=1/0,W=-1/0;for(let r=0;r<v.length;r++)n[r].isVisible&&(v[r].to>=v[r].from?(B+=v[r].to-v[r].from,$=Math.min($,v[r].from),W=Math.max(W,v[r].to)):(H+=v[r].from-v[r].to,F=Math.max(F,v[r].from),z=Math.min(z,v[r].to)));var Y=H,K=B;H*=o,B*=o;var J=0,h=0;for(let r=0;r<v.length;r++)if(v[r].to>=v[r].from){let i=v[r].to-v[r].from;i+h>B&&(i=Math.max(0,B-h),v[r].to=v[r].from+i),100===f&&100===m||(v[r].funnel=!0,v[r].fromWidthPercent=!isNaN(u)&&K*u>=h?100*y:Math.abs(v[r].from-$)/K*(f-m)+m,v[r].toWidthPercent=!isNaN(u)&&K*u>=0+(h+i)?100*y:Math.abs(v[r].to-$)/K*(f-m)+m),h+=i}else{let i=v[r].from-v[r].to;i+J>H&&(i=Math.max(0,H-J),v[r].to=v[r].from-i),100===f&&100===m||(v[r].funnel=!0,v[r].fromWidthPercent=!isNaN(u)&&Y*u>=J?100*y:Math.abs(v[r].from-F)/Y*(f-m)+m,v[r].toWidthPercent=!isNaN(u)&&Y*u>=0+(J+i)?100*y:Math.abs(v[r].to-F)/Y*(f-m)+m),J+=i}}return v}_columnAsPieSlice(t,e,n,a){let s=this._toPolarCoord(n,e,a.x,a.y),o=this._toPolarCoord(n,e,a.x,a.y+a.height),d=this.renderer._ptdist(n.x,n.y,o.x,o.y),f=this.renderer._ptdist(n.x,n.y,s.x,s.y),m=e.width,u=180*Math.abs(n.startAngle-n.endAngle)/Math.PI,y=-(a.x-e.x)*u/m,v=-(a.x+a.width-e.x)*u/m,b=n.startAngle;if(b=360*b/(2*Math.PI),y-=b,v-=b,t)if(null!=t.element){let x=this.renderer.pieSlicePath(n.x,n.y,d,f,v,y,0);x+=" Z",this.renderer.attr(t.element,{d:x})}else t.element=this.renderer.pieslice(n.x,n.y,d,f,v,y,0);return{fromAngle:v,toAngle:y,innerRadius:d,outerRadius:f}}_setRenderInfo(t,e,n,a){this._renderData[t].offsets[e][n].elementInfo=a}_getRenderInfo(t,e,n){return this._renderData[t].offsets[e][n].elementInfo||{}}_animColumns(t,e){var n=this,a=t.groupIndex,s=this.seriesGroups[a],o=t.renderData,d=-1!==s.type.indexOf("waterfall"),f=this._getXAxis(a),m=-1!==s.type.indexOf("stacked"),u=t.polarAxisCoords,y=-1;for(let q=0;q<s.series.length;q++)if(this._isSerieVisible(a,q)){y=q;break}var v=NaN,b=NaN;for(let q=0;q<t.seriesCtx.length;q++){var x=t.seriesCtx[q];(isNaN(v)||v>x.xAdjust)&&(v=x.xAdjust),(isNaN(b)||b<x.xAdjust+x.columnWidth)&&(b=x.xAdjust+x.columnWidth)}var w=Math.abs(b-v),C=this._get([s.columnsGapPercent,25])/100;(isNaN(C)<0||C>=1)&&(C=.25);var A=C*w,N=t.renderData.xoffsets,E=-1,O={},I=!0===s.skipOverlappingPoints;for(let q=N.first;q<=N.last;q++){var k=N.data[q];if(!(isNaN(k)||-1!==E&&Math.abs(k-E)<w-1+A&&I)){E=k;var R=this._getColumnVOffsets(o,a,t.seriesCtx,q,m,e),H=!1;if(d)for(let Z=0;Z<s.series.length;Z++)s.series[Z].summary&&N.xvalues[q][s.series[Z].summary]&&(H=!0);for(let Z=0;Z<t.seriesCtx.length;Z++){let Q=t.seriesCtx[Z];var B=Q.seriesIndex,F=s.series[B],z=R[Z].from,$=R[Z].to,W=R[Z].xOffset,Y=(t.vertical?t.rect.x:t.rect.y)+Q.xAdjust,K=Q.settings;let te=0!==Q.itemsColors.length?Q.itemsColors[q-o.xoffsets.first]:Q.serieColors;var J=this._isSerieVisible(a,B);if(!J)continue;let X=this.renderer._ptrnd(Y+W);var h={x:X,width:Q.columnWidth};R[Z].funnel&&(h.fromWidthPercent=R[Z].fromWidthPercent,h.toWidthPercent=R[Z].toWidthPercent);var r=!0;t.vertical?(h.y=z,h.height=$-z,h.height<0&&(h.y+=h.height,h.height=-h.height,r=!1)):(h.x=z<$?z:$,h.width=Math.abs(z-$),r=z-$<0,h.y=X,h.height=Q.columnWidth);var i=z-$;if(!isNaN(i)){i=Math.abs(i);var l=void 0,c=n._getRenderInfo(a,B,q),p=c.element,g=c.labelElement,_=null==p;if(g&&(n.renderer.removeElement(g),g=void 0),u){var S={element:p};l=this._columnAsPieSlice(S,t.rect,u,h),p=S.element,te=this._getColors(a,B,void 0,"radialGradient",l.outerRadius)}else if(R[Z].funnel){var T=this._getTrapezoidPath(Object.assign({},h),t.vertical,r);_?p=this.renderer.path(T,{}):this.renderer.attr(p,{d:T})}else _?p=this.renderer.rect(h.x,h.y,t.vertical?h.width:0,t.vertical?0:h.height):this.renderer.attr(p,!0===t.vertical?{x:h.x,y:h.y,height:i}:{x:h.x,y:h.y,width:i});if(this.renderer.attr(p,i<1&&(1!==e||u)?{display:"none"}:{display:"block"}),_&&this.renderer.attr(p,{fill:te.fillColor,"fill-opacity":K.opacity,"stroke-opacity":K.opacity,stroke:te.lineColor,"stroke-width":K.stroke,"stroke-dasharray":K.dashStyle}),g&&this.renderer.removeElement(g),!J||0===i&&e<1)n._setRenderInfo(a,B,q,c={element:p,labelElement:g});else{if(d&&!1!==this._get([F.showWaterfallLines,s.showWaterfallLines])){if(!m||m&&Z===y){var M=m?-1:Z;if(1===e&&!isNaN(o.offsets[Z][q].from)&&!isNaN(o.offsets[Z][q].to)){var L=O[M];if(null!=L){var D={x:L.x,y:this.renderer._ptrnd(L.y)},P={x:X,y:D.y},V=s.columnsTopWidthPercent/100;(isNaN(V)||V>1||V<0)&&(V=1);var U=s.columnsBottomWidthPercent/100;(isNaN(U)||U>1||U<0)&&(U=1);var j=t.vertical?h.width:h.height;if(D.x=D.x-j/2+j/2*V,H){let re=j*V/2;P.x=P.x+j/2-(f.flip?-re:re)}else{let re=j*U/2;P.x=P.x+j/2-(f.flip?-re:re)}t.vertical||(this._swapXY([D]),this._swapXY([P])),this.renderer.line(D.x,D.y,P.x,P.y,{stroke:L.color,"stroke-width":K.stroke,"stroke-opacity":K.opacity,"fill-opacity":K.opacity,"stroke-dasharray":K.dashStyle})}}}1===e&&0!==i&&(O[m?-1:Z]={y:$,x:t.vertical?h.x+h.width:h.y+h.height,color:te.lineColor})}if(u){let re=this._showLabel(a,B,q,h,void 0,void 0,!0);const ie=this._adjustTextBoxPosition(u.x,u.y,re,l.outerRadius+10,(l.fromAngle+l.toAngle)/2,!0,!1,!1);g=this._showLabel(a,B,q,{x:ie.x,y:ie.y},void 0,void 0,!1,!1,!1)}else g=this._showLabel(a,B,q,h,void 0,void 0,!1,!1,r);n._setRenderInfo(a,B,q,c={element:p,labelElement:g}),1===e&&this._installHandlers(p,"column",a,B,q)}}}}}}_getTrapezoidPath(t,e,n){let a="",s=t.fromWidthPercent/100,o=t.toWidthPercent/100;if(!e){let m=t.width;t.width=t.height,t.height=m,m=t.x,t.x=t.y,t.y=m}let d=t.x+t.width/2,f=[{x:d-t.width*(n?o:s)/2,y:t.y+t.height},{x:d-t.width*(n?s:o)/2,y:t.y},{x:d+t.width*(n?s:o)/2,y:t.y},{x:d+t.width*(n?o:s)/2,y:t.y+t.height}];e||this._swapXY(f),a+="M "+this.renderer._ptrnd(f[0].x)+","+this.renderer._ptrnd(f[0].y);for(let m=1;m<f.length;m++)a+=" L "+this.renderer._ptrnd(f[m].x)+","+this.renderer._ptrnd(f[m].y);return a+=" Z",a}_swapXY(t){for(let e=0;e<t.length;e++){let n=t[e].x;t[e].x=t[e].y,t[e].y=n}}_renderCandleStickSeries(t,e,n){let a=this,s=a.seriesGroups[t];if(!s.series||0===s.series.length)return;let o="horizontal"===s.orientation,d=e;o&&(d={x:e.y,y:e.x,width:e.height,height:e.width});let f,m=a._calcGroupOffsets(t,d);if(!m||0===m.xoffsets.length)return;(s.polar||s.spider)&&(f=a._getPolarAxisCoords(t,d));let u=a._getGroupGradientType(t),y=[];for(let v=0;v<s.series.length;v++)y[v]=a._getColumnSerieWidthAndOffset(t,v);for(let v=0;v<s.series.length;v++){if(!this._isSerieVisible(t,v))continue;let b=a._getSerieSettings(t,v),x=s.series[v];if(x.customDraw)continue;let w="function"==typeof x.colorFunction?void 0:a._getColors(t,v,NaN,u),C={rect:e,inverse:o,groupIndex:t,seriesIndex:v,symbolType:x.symbolType,symbolSize:x.symbolSize,"fill-opacity":b.opacity,"stroke-opacity":b.opacity,"stroke-width":b.stroke,"stroke-dasharray":b.dashStyle,gradientType:u,colors:w,renderData:m,polarAxisCoords:f,columnsInfo:y,isOHLC:n,items:[],self:a},A=a._getAnimProps(t,v),N=A.enabled&&!a._isToggleRefresh&&m.xoffsets.length<5e3?A.duration:0;a._animCandleStick(C,0),a._enqueueAnimation("series",void 0,void 0,N,function(E,O,I){a._animCandleStick(O,I,E)},C)}}_animCandleStick(t,e){var n=["Open","Low","Close","High"],a=t.columnsInfo[t.seriesIndex].width,s=t.self.seriesGroups[t.groupIndex],o=t.renderData.xoffsets,d=-1,f=Math.abs(o.data[o.last]-o.data[o.first]);f*=e;var m=NaN,u=NaN;for(let B=0;B<t.columnsInfo.length;B++){var y=t.columnsInfo[B];(isNaN(m)||m>y.offset)&&(m=y.offset),(isNaN(u)||u<y.offset+y.width)&&(u=y.offset+y.width)}var v=Math.abs(u-m),b=!1!==s.skipOverlappingPoints;for(let B=o.first;B<=o.last;B++){var x=o.data[B];if(!(isNaN(x)||-1!==d&&Math.abs(x-d)<v&&b)){if(Math.abs(o.data[B]-o.data[o.first])>f)break;d=x;var w=t.items[B]=t.items[B]||{};for(let F in n){var C=t.self._getDataValueAsNumber(B,s.series[t.seriesIndex]["dataField"+n[F]],t.groupIndex);if(isNaN(C))break;var A=t.renderData.offsets[t.seriesIndex][B][n[F]];if(isNaN(A))break;w[n[F]]=A}if(x+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var N=this._toPolarCoord(t.polarAxisCoords,this._plotRect,x,A);x=N.x,A=N.y}for(var E in x=this.renderer._ptrnd(x),n)w[E]=this.renderer._ptrnd(w[E]);var O=t.colors;if(O||(O=t.self._getColors(t.groupIndex,t.seriesIndex,B,t.gradientType)),t.isOHLC){var I="M"+x+","+w.Low+" L"+x+","+w.High+" M"+(x-a/2)+","+w.Open+" L"+x+","+w.Open+" M"+(x+a/2)+","+w.Close+" L"+x+","+w.Close;t.inverse&&(I="M"+w.Low+","+x+" L"+w.High+","+x+" M"+w.Open+","+(x-a/2)+" L"+w.Open+","+x+" M"+w.Close+","+x+" L"+w.Close+","+(x+a/2));let F=w.lineElement;F||(F=this.renderer.path(I,{}),this.renderer.attr(F,{fill:O.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:O.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),w.lineElement=F),1===e&&this._installHandlers(F,"column",t.groupIndex,t.seriesIndex,B)}else{var k=w.lineElement;k||(k=t.inverse?this.renderer.line(w.Low,x,w.High,x):this.renderer.line(x,w.Low,x,w.High),this.renderer.attr(k,{fill:O.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:O.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),w.lineElement=k);var R=w.stickElement;if(x-=a/2,!R){var H=O.fillColor;w.Close<=w.Open&&O.fillColorAlt&&(H=O.fillColorAlt),R=t.inverse?this.renderer.rect(Math.min(w.Open,w.Close),x,Math.abs(w.Close-w.Open),a):this.renderer.rect(x,Math.min(w.Open,w.Close),a,Math.abs(w.Close-w.Open)),this.renderer.attr(R,{fill:H,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:O.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),w.stickElement=R}1===e&&this._installHandlers(R,"column",t.groupIndex,t.seriesIndex,B)}}}}_renderScatterSeries(t,e,n){var a=this.seriesGroups[t];if(a.series&&0!==a.series.length){var s=-1!==a.type.indexOf("bubble"),o="horizontal"===a.orientation,d=e;o&&(d={x:e.y,y:e.x,width:e.height,height:e.width});var f=this._calcGroupOffsets(t,d);if(f&&0!==f.xoffsets.length){var m,u=d.width;(a.polar||a.spider)&&(u=2*(m=this._getPolarAxisCoords(t,d)).r);var y=this._getGroupGradientType(t);n||(n="to");for(let g=0;g<a.series.length;g++){var v=this._getSerieSettings(t,g),b=a.series[g];if(!b.customDraw){var x=b.dataField,w="function"==typeof b.colorFunction,C=this._getColors(t,g,NaN,y),A=NaN,N=NaN;if(s)for(let _=f.xoffsets.first;_<=f.xoffsets.last;_++){var E=this._getDataValueAsNumber(_,b.radiusDataField||b.sizeDataField,t);"number"!=typeof E&&this.error(this.localize("invalidRadiusDataField",{index:_})),isNaN(E)||((isNaN(A)||E<A)&&(A=E),(isNaN(N)||E>N)&&(N=E))}var O=b.minRadius||b.minSymbolSize;isNaN(O)&&(O=u/50);var I=b.maxRadius||b.maxSymbolSize;isNaN(I)&&(I=u/25),O>I&&(I=O);var k=b.radius;k=isNaN(k)&&!isNaN(b.symbolSize)?"circle"===b.symbolType?b.symbolSize/2:b.symbolSize:5;var R=this._getAnimProps(t,g),H=R.enabled&&!this._isToggleRefresh&&f.xoffsets.length<5e3?R.duration:0,B={groupIndex:t,seriesIndex:g,symbolType:b.symbolType,symbolSize:b.symbolSize,"fill-opacity":v.opacity,"stroke-opacity":v.opacity,"stroke-width":v.stroke,"stroke-width-symbol":v.strokeSymbol,"stroke-dasharray":v.dashStyle,items:[],polarAxisCoords:m},F=void 0;for(let _=f.xoffsets.first;_<=f.xoffsets.last;_++)if("number"==typeof this._getDataValueAsNumber(_,x,t)){var z=f.xoffsets.data[_],$=f.xoffsets.xvalues[_],W=f.offsets[g][_][n];if(!(W<d.y||W>d.y+d.height||isNaN(z)||isNaN(W))){if(o){var Y=z;z=W,W=Y+e.y}else z+=e.x;if(!(!w&&F&&this.enableSampling&&this.renderer._ptdist(F.x,F.y,z,W)<1)){F={x:z,y:W};var K=k;if(s){var J=this._getDataValueAsNumber(_,b.radiusDataField||b.sizeDataField,t);if("number"!=typeof J)continue;K=O+(I-O)*(J-A)/Math.max(1,N-A),isNaN(K)&&(K=O)}f.offsets[g][_].radius=K;var h=NaN,r=NaN,i=0,l=this._elementRenderInfo;if(null!=$&&l&&l.length>t&&l[t].series.length>g){var c=l[t].series[g][$];if(c&&!isNaN(c.to)){if(h=c.to,r=c.xoffset,i=k,o){let S=r;r=h,h=S+e.y}else r+=e.x;s&&(i=O+(I-O)*(c.valueRadius-A)/Math.max(1,N-A),isNaN(i)&&(i=O))}}w&&(C=this._getColors(t,g,_,y)),B.items.push({from:i,to:K,itemIndex:_,fill:C.fillColor,stroke:C.lineColor,x:z,y:W,xFrom:r,yFrom:h})}}}this._animR(B,0);var p=this;this._enqueueAnimation("series",void 0,void 0,H,function(_,S,T){p._animR(S,T,_)},B)}}}}}_animR(t,e){let n=t.items,a=t.symbolType||"circle",s=t.symbolSize;for(let o=0;o<n.length;o++){let d=n[o],f=d.x,m=d.y,u=Math.round((d.to-d.from)*e+d.from);if(isNaN(d.yFrom)||(m=d.yFrom+(m-d.yFrom)*e),isNaN(d.xFrom)||(f=d.xFrom+(f-d.xFrom)*e),t.polarAxisCoords){let x=this._toPolarCoord(t.polarAxisCoords,this._plotRect,f,m);f=x.x,m=x.y}f=this.renderer._ptrnd(f),m=this.renderer._ptrnd(m),u=this.renderer._ptrnd(u);let y=this._getRenderInfo(t.groupIndex,t.seriesIndex,n[o].itemIndex),v=y.element,b=y.labelElement;"circle"===a?(v||(v=this.renderer.circle(f,m,u),this.renderer.attr(v,{fill:d.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:d.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this.renderer.attr(v,{r:u,cy:m,cx:f})):(v&&this.renderer.removeElement(v),v=this._drawSymbol(a,f,m,d.fill,t["fill-opacity"],d.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],s||u)),b&&this.renderer.removeElement(b),b=this._showLabel(t.groupIndex,t.seriesIndex,d.itemIndex,{x:f-u,y:m-u,width:2*u,height:2*u}),e>=1&&this._installHandlers(v,"circle",t.groupIndex,t.seriesIndex,d.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,n[o].itemIndex,{element:v,labelElement:b})}}_showMultiSeriesToolTip(t){let e=this,n="<div style='text-align:left'>",a="";for(let u=0;u<e.seriesGroups.length;u++){if(e._isPieGroup(u))continue;let y=e._getXAxis(u),v=e._getValueAxis(u),b=e.seriesGroups[u],x=this._getAxisSettings(y),w=this._getFormatSettings(x,"toolTipFormatSettings"),C=x.toolTipFormatFunction,A=e._getDataValue(t,y.dataField,u);null!=y.dataField&&""!==y.dataField||(A=t),"date"===y.type&&(A=e._castAsDate(A,(w?w.dateFormat:void 0)||y.dateFormat)),C||w||"date"!==y.type||(C=this._getDefaultDTFormatFn(y.baseUnit||"day"));let N=y.displayText||y.dataField||"";""!==N&&(N+=": ");let E=N+e._formatValue(A,w,C,u,void 0,t);a!==E&&(""!==a&&(n+="<br />"),n+=E+"<br /><br />",a=E);for(let O=0;O<b.series.length;O++){let I=b.series[O];if(!1===b.showToolTips||!1===I.showToolTips||!e._isSerieVisible(u,O))continue;let k=e._get([e._getFormatSettings(I,"toolTipFormatSettings"),e._getFormatSettings(b,"toolTipFormatSettings"),e._getFormatSettings(v,"toolTipFormatSettings"),e._getFormatSettings(e,"toolTipFormatSettings")]),R=e._get([I.toolTipFormatFunction,b.toolTipFormatFunction,v.toolTipFormatFunction,e.toolTipFormatFunction]),H=e._getFormattedValue(u,O,t,k,R);n+='<span style="color:'+e._getColors(u,O,t).lineColor+';">'+H+"</span><br />\n"}}let s=this._get([e.toolTipClass,"smart-chart-tooltip-text"]),o=this._get([e.toolTipBackground,e._getThemeColor("background")]),d=this._get([e.toolTipLineColor,e._getThemeColor("line")]),f=this._get([e.toolTipOpacity,1]);n+="</div>";let m=this.getItemCoord(e._ttEl.gidx,e._ttEl.sidx,e._ttEl.iidx);m.x+=window.pageXOffset,m.y+=window.pageYOffset,e._createTooltip(m,e.seriesGroups[e._ttEl.gidx],n,{css:s,fill:o,stroke:d,fillOpacity:f,symbolSize:3})}_showToolTip(t,e,n,a,s){let o=this,d=o._getXAxis(n),f=o._getValueAxis(n);if(o._ttEl&&n===o._ttEl.gidx&&a===o._ttEl.sidx&&s===o._ttEl.iidx)return;let m=o.seriesGroups[n],u=m.series[a],y=o.enableCrosshairs;o._pointMarker?(t=parseInt(o._pointMarker.x+5),e=parseInt(o._pointMarker.y-5)):y=!1;let v=y&&!1===o.showToolTips;if(t=this.renderer._ptrnd(t),e=this.renderer._ptrnd(e),!1===m.showToolTips||!1===u.showToolTips)return;o._ttEl||(o._ttEl={}),o._ttEl.sidx=a,o._ttEl.gidx=n,o._ttEl.iidx=s;let b=0;for(let E=0;E<o.seriesGroups.length;E++)for(let O=0;O<o.seriesGroups[E].series.length;O++)b++;if(y){let E=this.renderer._ptrnd(o._pointMarker.x),O=this.renderer._ptrnd(o._pointMarker.y),I=o.crosshairsColor||o._getThemeColor("line");if(m.polar||m.spider){let k=this._getPolarAxisCoords(n,this._plotRect);if(this.renderer._ptdist(E,O,k.x,k.y)>k.r)return;let R=Math.atan2(O-k.y,E-k.x),H=Math.cos(R)*k.r+k.x,B=Math.sin(R)*k.r+k.y;o._ttEl.vLine?o.renderer.attr(o._ttEl.vLine,{x1:k.x,y1:k.y,x2:H,y2:B}):o._ttEl.vLine=o.renderer.line(k.x,k.y,H,B,{stroke:I,"stroke-width":o.crosshairsLineWidth||1,"stroke-dasharray":o.crosshairsDashStyle||""})}else o._ttEl.vLine&&o._ttEl.hLine?(o.renderer.attr(o._ttEl.vLine,{x1:E,x2:E}),o.renderer.attr(o._ttEl.hLine,{y1:O,y2:O})):(o._ttEl.vLine=o.renderer.line(E,o._plotRect.y,E,o._plotRect.y+o._plotRect.height,{stroke:I,"stroke-width":o.crosshairsLineWidth||1,"stroke-dasharray":o.crosshairsDashStyle||""}),o._ttEl.hLine=o.renderer.line(o._plotRect.x,O,o._plotRect.x+o._plotRect.width,O,{stroke:I,"stroke-width":o.crosshairsLineWidth||1,"stroke-dasharray":o.crosshairsDashStyle||""}))}if(o.showToolTipsOnAllSeries&&!o._isPieGroup(n)&&b>1)return void o._showMultiSeriesToolTip(s);let x=o._get([o._getFormatSettings(u,"toolTipFormatSettings"),o._getFormatSettings(m,"toolTipFormatSettings"),o._getFormatSettings(f,"toolTipFormatSettings"),o._getFormatSettings(o,"toolTipFormatSettings")]),w=o._get([u.toolTipFormatFunction,m.toolTipFormatFunction,f.toolTipFormatFunction,o.toolTipFormatFunction]),C=o._getColors(n,a,s),A=o._getDataValue(s,d.dataField,n);null!=d.dataField&&""!==d.dataField||(A=s),"date"===d.type&&(A=o._castAsDate(A,(x?x.dateFormat:void 0)||d.dateFormat));let N="";if("function"==typeof w){let E={},O=0;for(let I in u)0===I.indexOf("dataField")&&(E[I.substring(9,I.length).toLowerCase()]=o._getDataValue(s,u[I],n),O++);0===O?E=o._getDataValue(s,void 0,n):1===O&&(E=E[""]),N=w(E,s,u,m,A,d)}else{N=o._getFormattedValue(n,a,s,x,w);let E=this._getAxisSettings(d),O=o._getFormatSettings(E,"toolTipFormatSettings"),I=E.toolTipFormatFunction;I||O||"date"!==d.type||(I=this._getDefaultDTFormatFn(d.baseUnit||"day"));let k=o._formatValue(A,O,I,n,a,s);if(o._isPieGroup(n))A=o._getDataValue(s,u.displayText||u.dataField,n),k=o._formatValue(A,O,I,n,a,s),N=k+": "+N;else{let R=d.displayText||d.dataField||"";N=R.length>0?R+": "+k+"<br>"+N:k+"<br>"+N}}if(!v&&!1!==o.showToolTips){let E=this._get([u.toolTipClass,m.toolTipClass,o.toolTipClass,"smart-chart-tooltip-text"]),O=this._get([u.toolTipBackground,m.toolTipBackground,o.toolTipBackground,o._getThemeColor("background")]),I=this._get([u.toolTipLineColor,m.toolTipLineColor,o.toolTipLineColor,C.lineColor,o._getThemeColor("line")]),k=this._get([u.toolTipOpacity,m.toolTipOpacity,o.toolTipOpacity,1]),R=this.getItemCoord(n,a,s);R.y=Math.min(Math.max(R.y,this._plotRect.y),this._plotRect.y+this._plotRect.y+this._plotRect.height);let H=0;o._pointMarker&&o._pointMarker.element&&(H=u.symbolSizeSelected,isNaN(H)&&(H=u.symbolSize),(isNaN(H)||H>50||H<0)&&(H=m.symbolSize),(isNaN(H)||H>50||H<0)&&(H=8)),o._createTooltip(R,m,N,{css:E,fill:O,stroke:I,fillOpacity:k,symbolSize:H})}}_fitTooltip(t,e,n,a,s){let o={},d=2+s/2;if(e.x-n.width-7-d>t.x&&e.y+e.height/2-n.height/2>t.y&&e.y+e.height/2+n.height/2<t.y+t.height&&(o.left={arrowLocation:"right",x:e.x-n.width-7-d,y:e.y+e.height/2-n.height/2,width:n.width+7,height:n.height}),e.x+e.width+n.width+7+d<t.x+t.width&&e.y+e.height/2-n.height/2>t.y&&e.y+e.height/2+n.height/2<t.y+t.height&&(o.right={arrowLocation:"left",x:e.x+e.width+d,y:e.y+e.height/2-n.height/2,width:n.width+7,height:n.height}),e.y-n.height-d-7>t.y&&e.x+e.width/2-n.width/2>t.x&&e.x+e.width/2+n.width/2<t.x+t.width&&(o.top={arrowLocation:"bottom",x:e.x+e.width/2-n.width/2,y:e.y-n.height-d-7,width:n.width,height:n.height+7}),e.y+e.height+n.height+7+d<t.y+t.height&&e.x+e.width/2-n.width/2>t.x&&e.x+e.width/2+n.width/2<t.x+t.width&&(o.bottom={arrowLocation:"top",x:e.x+e.width/2-n.width/2,y:e.y+e.height+d,width:n.width,height:n.height+7}),e.width>e.height||(-1!==a.type.indexOf("stackedcolumn")||-1!==a.type.indexOf("stackedwaterfall"))&&"horizontal"!==a.orientation){if(o.left)return o.left;if(o.right)return o.right}else{if(o.top)return o.top;if(o.bottom)return o.bottom}for(let f in o)if(o[f])return o[f];return{arrowLocation:""}}_createTooltip(t,e,n,a){const s=this,o=e.type;let d=s._ttEl.box;if(!d){d=s._ttEl.box=document.createElement("div"),d.id=s.id+"Tooltip",d.className="smart-chart-tooltip",d.setAttribute("animation",s.animation),d.setAttribute("theme",s.theme),d.setAttribute("role","tooltip");const H=document.createElement("div"),B=document.createElement("div"),F=document.createElement("div");if(H.className="smart-chart-tooltip-arrow-outer",H.setAttribute("role","presentation"),B.className="smart-chart-tooltip-arrow-inner",B.setAttribute("role","presentation"),F.className="smart-chart-tooltip-content",F.setAttribute("role","presentation"),d.appendChild(F),d.appendChild(H),d.appendChild(B),s.getRootNode().host?s.getShadowRootOrBody().appendChild(d):document.body.appendChild(d),s.hasAttribute("aria-owns")){const z=s.getAttribute("aria-owns");s.setAttribute("aria-owns",z+" "+d.id)}else s.setAttribute("aria-owns",d.id)}if(!n||0===n.length)return void d.classList.add("smart-visibility-hidden");s.rightToLeft?d.setAttribute("right-to-left",""):d.removeAttribute("right-to-left"),d.classList.add("smart-visibility-hidden");const f=d.firstElementChild,m=d.children[1],u=d.children[2];u.style.opacity=m.style.opacity=a.fillOpacity,f.style.backgroundColor=a.fill,f.style.borderColor=a.stroke,f.style.opacity=a.fillOpacity;const y='<span class="'+a.css+'" role="presentation">'+n+"</span>";f.innerHTML=y;const v=s._measureHtml(y),b=s._plotRect;if(v.width>b.width||v.height>b.height)return;let x={width:v.width,height:v.height},w="",C=s._isColumnType(o),A=Math.max(t.x,b.x),N=Math.max(t.y,b.y);if(-1!==o.indexOf("pie")||-1!==o.indexOf("donut")){let H=(t.fromAngle+t.toAngle)/2;H*=Math.PI/180;let B=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;A=t.x=t.center.x+Math.cos(H)*B,N=t.y=t.center.y-Math.sin(H)*B,t.width=t.height=1}else C&&(e.polar||e.spider)&&(t.width=t.height=1);let E=this._fitTooltip(this._plotRect,t,x,e,a.symbolSize);""!==E.arrowLocation&&(w=E.arrowLocation,A=E.x,N=E.y,x.width=E.width,x.height=E.height),"top"===w||"bottom"===w?(x.height+=7,A-=3.5,"bottom"===w&&(N-=7)):"left"!==w&&"right"!==w||(x.width+=7,N-=3.5,"right"===w&&(A-=7)),A+x.width>b.x+b.width&&(w="",A=b.x+b.width-x.width),N+x.height>b.y+b.height&&(w="",N=b.y+b.height-x.height);let O={x:0,y:0},I={x:0,y:0};f.style.width=v.width+"px",f.style.height=v.height+"px",m.style["margin-top"]=m.style["margin-left"]=0,u.style["margin-top"]=u.style["margin-left"]=0,f.style["margin-top"]=f.style["margin-left"]=0;let k="7px solid transparent";switch(w){case"left":O={x:0,y:(v.height-7)/2},I={x:7,y:0},f.style["margin-left"]="7px",m.style["margin-left"]="0px",m.style["margin-top"]=O.y+"px",m.style["border-left"]="",m.style["border-right"]="7px solid "+a.stroke,m.style["border-top"]=k,m.style["border-bottom"]=k,u.style["margin-left"]="1px",u.style["margin-top"]=O.y+"px",u.style["border-left"]="",u.style["border-right"]="7px solid "+a.fill,u.style["border-top"]=k,u.style["border-bottom"]=k;break;case"right":O={x:x.width-7,y:(v.height-7)/2},I={x:0,y:0},m.style["margin-left"]=O.x+"px",m.style["margin-top"]=O.y+"px",m.style["border-left"]="7px solid "+a.stroke,m.style["border-right"]="",m.style["border-top"]=k,m.style["border-bottom"]=k,u.style["margin-left"]=O.x-1+"px",u.style["margin-top"]=O.y+"px",u.style["border-left"]="7px solid "+a.fill,u.style["border-right"]="",u.style["border-top"]=k,u.style["border-bottom"]=k;break;case"top":O={x:x.width/2-3.5,y:0},I={x:0,y:7},f.style["margin-top"]=I.y+"px",m.style["margin-left"]=O.x+"px",m.style["border-top"]="",m.style["border-bottom"]="7px solid "+a.stroke,m.style["border-left"]=k,m.style["border-right"]=k,u.style["margin-left"]=O.x+"px",u.style["margin-top"]="1px",u.style["border-top"]="",u.style["border-bottom"]="7px solid "+a.fill,u.style["border-left"]=k,u.style["border-right"]=k;break;case"bottom":O={x:x.width/2-3.5,y:x.height-7},I={x:0,y:0},m.style["margin-left"]=O.x+"px",m.style["margin-top"]=O.y+"px",m.style["border-top"]="7px solid "+a.stroke,m.style["border-bottom"]="",m.style["border-left"]=k,m.style["border-right"]=k,u.style["margin-left"]=O.x+"px",u.style["margin-top"]=O.y-1+"px",u.style["border-top"]="7px solid "+a.fill,u.style["border-bottom"]="",u.style["border-left"]=k,u.style["border-right"]=k}""===w?(m.classList.add("smart-hidden"),u.classList.add("smart-hidden")):(m.classList.remove("smart-hidden"),u.classList.remove("smart-hidden")),d.style.width=x.width+"px",d.style.height=x.height+"px";const R=s.getBoundingClientRect();d.style.left=A+R.left+window.pageXOffset+"px",d.style.top=N+R.top+window.pageYOffset+"px",d.classList.remove("smart-visibility-hidden")}_measureHtml(t){const e=this;let n=e._measureDiv;n||(e._measureDiv=n=document.createElement("div"),n.className="smart-chart-tooltip",n.style.position="absolute",n.style.visibility="hidden",n.style.left=0,n.style.top=0,(e.shadowRoot||e).appendChild(n)),n.innerHTML=t;const a={width:n.offsetWidth+2,height:n.offsetHeight+2};return Smart.Utilities.Core.Browser.Firefox&&(a.height+=3),a}_hideToolTip(){this._ttEl&&(this._ttEl.box&&this._ttEl.box.classList.add("smart-visibility-hidden"),this._hideCrosshairs(),this._ttEl.gidx=void 0)}_hideCrosshairs(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))}_get(t){return this._draw.getByPriority(t)}_getAxisSettings(t){if(!t)return{};let e=this,n=t.gridLines||{},a={visible:e._get([n.visible,!0]),color:e._get([n.color,e._getThemeColor("line")]),unitInterval:n.unitInterval,step:n.step,dashStyle:n.dashStyle,width:e._get([n.lineWidth,1]),offsets:[],alternatingBackgroundColor:t.alternatingBackgroundColor,alternatingBackgroundColor2:t.alternatingBackgroundColor2,alternatingBackgroundOpacity:t.alternatingBackgroundOpacity},s=t.tickMarks||{},o={visible:e._get([s.visible,t.showTickMarks,!0]),color:e._get([s.color,t.tickMarksColor,e._getThemeColor("line")]),unitInterval:e._get([s.unitInterval,s.interval,t.tickMarksInterval]),step:e._get([s.step,t.tickMarksStep]),dashStyle:e._get([s.dashStyle,t.tickMarksDashStyle]),width:e._get([s.lineWidth,1]),size:e._get([s.size,4]),offsets:[]},d=t.title||{},f={visible:e._get([d.visible,!0]),text:e._get([t.description,d.text]),style:e._get([t.descriptionClass,d.class,"smart-chart-axis-description"]),halign:e._get([t.horizontalDescriptionAlignment,d.horizontalAlignment,"center"]),valign:e._get([t.verticalDescriptionAlignment,d.verticalAlignment,"center"]),angle:0,rotationPoint:e._get([d.rotationPoint,"centercenter"]),offset:e._get([d.offset,{x:0,y:0}])},m=t.line||{},u={visible:e._get([m.visible,!0]),color:e._get([m.color,a.color,e._getThemeColor("line")]),dashStyle:e._get([m.dashStyle,a.dashStyle,""]),width:e._get([m.lineWidth,1]),angle:e._get([m.angle,NaN])},y=t.padding||{};y={left:y.left||0,right:y.right||0,top:y.top||0,bottom:y.bottom||0};let v=this._getAxisLabelsSettings(t);return{visible:this._get([t.visible,!0]),customDraw:this._get([t.customDraw,!1]),gridLines:a,tickMarks:o,line:u,title:f,labels:v,padding:y,toolTipFormatFunction:this._get([t.toolTipFormatFunction,t.formatFunction,v.formatFunction]),toolTipFormatSettings:this._get([e._getFormatSettings(t,"toolTipFormatSettings"),e._getFormatSettings(t),e._getFormatSettings(v)])}}_getAxisLabelsSettings(t){let e=this,n=t.labels||{};return{visible:e._get([t.showLabels,n.visible,!0]),unitInterval:e._get([n.unitInterval,n.interval,t.labelsInterval]),step:e._get([n.step,t.labelsStep]),angle:e._get([t.textRotationAngle,n.angle,0]),style:e._get([t.class,n.class,"smart-chart-axis-text"]),halign:e._get([t.horizontalTextAlignment,n.horizontalAlignment,"center"]),valign:e._get([t.verticalTextAlignment,n.verticalAlignment,"center"]),textRotationPoint:e._get([t.textRotationPoint,n.rotationPoint,"auto"]),textOffset:e._get([t.textOffset,n.offset,{x:0,y:0}]),autoRotate:e._get([t.labelsAutoRotate,n.autoRotate,!1]),formatSettings:e._get([e._getFormatSettings(t),e._getFormatSettings(n),void 0]),formatFunction:e._get([t.formatFunction,n.formatFunction,void 0])}}_getLabelsSettings(t,e,n,a){let s=this.seriesGroups[t],o=s.series[e],d=isNaN(n)?void 0:this._getDataValue(n,o.dataField,t),f=a||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],m={};for(let y=0;y<f.length;y++){let v,b=f[y],x="labels"+b,w="label"+b,C=b.substring(0,1).toLowerCase()+b.substring(1);s.labels&&"object"==typeof s.labels&&(v=s.labels[C]),o.labels&&"object"==typeof o.labels&&null!=o.labels[C]&&(v=o.labels[C]),v=this._get([o[x],o[w],v,s[x],s[w]]),m[C]="function"==typeof v?v(d,n,o,s):v}m.class=m.class||"smart-chart-label-text",m.visible=this._get([m.visible,o.showLabels,s.showLabels,null!=o.labels||void 0,null!=s.labels||void 0]);let u=m.padding||1;return m.padding={left:this._get([u.left,isNaN(u)?1:u]),right:this._get([u.right,isNaN(u)?1:u]),top:this._get([u.top,isNaN(u)?1:u]),bottom:this._get([u.bottom,isNaN(u)?1:u])},m}_showLabel(t,e,n,a,s,o,d,f,m,u,y){let v={width:0,height:0};if(isNaN(n))return;let b=this._getLabelsSettings(t,e,n);if(!b.visible||a.width<0||a.height<0)return d?v:void 0;let x=b.angle;isNaN(u)||(x=u);let w=b.offset||{},C={x:w.x,y:w.y};isNaN(C.x)&&(C.x=0),isNaN(C.y)&&(C.y=0),s=s||b.horizontalAlignment||"center",o=o||b.verticalAlignment||"center";let A=this._getFormattedValue(t,e,n,void 0,void 0,!0),N=a.width,E=a.height;if(!0===f&&"center"!==s&&(s="right"===s?"left":"right"),!0===m&&"center"!==o&&"middle"!==o&&(o="top"===o?"bottom":"top",C.y*=-1),v=this.renderer.measureText(A,x,{class:b.class}),d)return v;let O=0,I=0;N>0&&(""===s||"center"===s?O+=(N-v.width)/2:"right"===s&&(O+=N-v.width)),E>0&&(""===o||"center"===o?I+=(E-v.height)/2:"bottom"===o&&(I+=E-v.height)),O+=a.x+C.x,I+=a.y+C.y;let k=this._plotRect;O<=k.x&&(O=k.x+2),I<=k.y&&(I=k.y+2);let R,H=Math.max(v.width,1),B=Math.max(v.height,1);I+B>=k.y+k.height&&(I=k.y+k.height-B-2),O+H>=k.x+k.width&&(O=k.x+k.width-H-2);let F=b.backgroundColor,z=b.borderColor,$=b.padding;(F||z)&&(R=this.renderer.beginGroup(),this.renderer.rect(O-$.left,I-$.top,v.width+$.left+$.right,v.height+$.bottom+$.bottom,{fill:F||"transparent","fill-opacity":b.backgroundOpacity||1,stroke:z||"transparent","stroke-opacity":b.borderOpacity,"stroke-width":1}));let W=this.renderer.text(A,O,I,v.width,v.height,x,{class:b.class,opacity:b.opacity||1},!1,"center","center",void 0,arguments[11]);return y&&(y.x=O-$.left,y.y=I-$.top,y.width=v.width+$.left+$.right,y.height=v.height+$.bottom+$.bottom),R&&this.renderer.endGroup(),R||W}_getAnimProps(t,e){let n=this.seriesGroups[t],a=isNaN(e)?void 0:n.series[e],s=this.hasAnimation;n.animation&&(s="none"!==n.animation),a&&a.animation&&(s="none"!==a.animation);let o=this.animationDuration;isNaN(o)&&(o=1e3);let d=n.animationDuration;if(isNaN(d)||(o=d),a){let f=a.animationDuration;isNaN(f)||(o=f)}return o>5e3&&(o=1e3),{enabled:s,duration:o}}_isColorTransition(t,e,n,a){if(a-1<n.xoffsets.first)return!1;let s=this._getColors(t,e,a,this._getGroupGradientType(t)),o=this._getColors(t,e,a-1,this._getGroupGradientType(t));return s.fillColor!==o.fillColor}_renderLineSeries(t,e){var n=this.seriesGroups[t];if(n.series&&0!==n.series.length){var a=-1!==n.type.indexOf("area"),s=-1!==n.type.indexOf("stacked"),o=s&&-1!==n.type.indexOf("100"),d=-1!==n.type.indexOf("spline"),f=-1!==n.type.indexOf("step"),m=-1!==n.type.indexOf("range"),u=!0===n.polar||!0===n.spider;if(u&&(f=!1),!f||!d){var y="horizontal"===n.orientation,v=!0===this._getXAxis(t).flip,b=e;y&&(b={x:e.y,y:e.x,width:e.height,height:e.width});var x=this._calcGroupOffsets(t,b);if(x&&0!==x.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(let G=n.series.length-1;G>=0;G--){var w=this._getSerieSettings(t,G),C={groupIndex:t,rect:b,serieIndex:G,swapXY:y,isArea:a,isSpline:d,isRange:m,isPolar:u,settings:w,segments:[],pointsLength:0};if(this._isSerieVisible(t,G)){var A=n.series[G];if(!A.customDraw){var N,E="function"==typeof A.colorFunction,O=x.xoffsets.first,I=O,k=this._getColors(t,G,NaN,this._getGroupGradientType(t));do{var R=[],H=[],B=[],F=0,z=0,$=NaN,W=NaN,Y=NaN;if(!(x.xoffsets.length<1)){var K=this._getAnimProps(t,G),J=K.enabled&&!this._isToggleRefresh&&x.xoffsets.length<1e4&&K.duration,h=O;N=!1;var r=void 0;for(let q=O;q<=x.xoffsets.last;q++){O=q;var i=x.xoffsets.data[q],l=x.xoffsets.xvalues[q];if(!(isNaN(i)||(F=i=Math.max(i,1),z=x.offsets[G][q].to,!E&&r&&this.enableSampling&&this.renderer._ptdist(r.x,r.y,F,z)<1))){r={x:F,y:z};var c=x.offsets[G][q].from;if(isNaN(z)||isNaN(c)){if("connect"===A.emptyPointsDisplay)continue;if("zero"!==A.emptyPointsDisplay){N=!0;break}isNaN(z)&&(z=x.baseOffset),isNaN(c)&&(c=x.baseOffset)}if(E&&this._isColorTransition(t,G,x,O)&&R.length>1){O--;break}var p=this._elementRenderInfo;if(p&&p.length>t&&p[t].series.length>G){var g=p[t].series[G][l];let Z=this.renderer._ptrnd(g?g.to:void 0),Q=this.renderer._ptrnd(b.x+(g?g.xoffset:void 0));B.push(y?{y:Q,x:Z,index:q}:{x:Q,y:Z,index:q})}I=q,w.stroke<2&&(z-b.y<=1&&(z=b.y+1),c-b.y<=1&&(c=b.y+1),b.y+b.height-z<=1&&(z=b.y+b.height-1),b.y+b.height-c<=1&&(c=b.y+b.height-1)),!a&&o&&(z<=b.y&&(z=b.y+1),z>=b.y+b.height&&(z=b.y+b.height-1),c<=b.y&&(c=b.y+1),c>=b.y+b.height&&(c=b.y+b.height-1)),F=(i=Math.max(i,1))+b.x,!0===n.skipOverlappingPoints&&!isNaN($)&&Math.abs($-F)<=1||(!f||isNaN($)||isNaN(W)||W!==z&&R.push(y?{y:F,x:this.renderer._ptrnd(W)}:{x:F,y:this.renderer._ptrnd(W)}),R.push(y?{y:F,x:this.renderer._ptrnd(z),index:q}:{x:F,y:this.renderer._ptrnd(z),index:q}),H.push(y?{y:F,x:this.renderer._ptrnd(c),index:q}:{x:F,y:this.renderer._ptrnd(c),index:q}),$=F,W=z,isNaN(Y)&&(Y=z))}}if(0!==R.length){var _=R[R.length-1].index;E&&(k=this._getColors(t,G,_,this._getGroupGradientType(t)));var S=b.x+x.xoffsets.data[h],T=b.x+x.xoffsets.data[I];if(a&&!0===n.alignEndPointsWithIntervals&&(S>b.x&&(S=b.x),T<b.x+b.width&&(T=b.x+b.width),v)){var M=S;S=T,T=M}T=this.renderer._ptrnd(T),S=this.renderer._ptrnd(S);var L=x.baseOffset;Y=this.renderer._ptrnd(Y);var D=this.renderer._ptrnd(z)||L;m&&(R=R.concat(H.reverse())),C.pointsLength+=R.length,C.segments.push({lastItemIndex:_,colorSettings:k,pointsArray:R,pointsStart:B,left:S,right:T,pyStart:Y,pyEnd:D,yBase:L,labelElements:[],symbolElements:[]})}else O++}}while(O<x.xoffsets.first+x.xoffsets.length-1||N);this._linesRenderInfo[t][G]=C}}else this._linesRenderInfo[t][G]=C}var V=this._linesRenderInfo[t],U=[];for(let G in V)U.push(V[G]);U=U.sort(function(G,q){return G.serieIndex-q.serieIndex}),a&&s&&U.reverse();for(let G=0;G<U.length;G++){let q=U[G];this._animateLine(q,0===J?1:0);var j=this;this._enqueueAnimation("series",void 0,void 0,J,function(Z,Q,te){j._animateLine(Q,te)},q)}}}}}_animateLine(t,e){let n=t.settings,a=t.groupIndex,s=t.serieIndex,o=this.seriesGroups[a],d=o.series[s],f=this._getSymbol(a,s),m=this._getLabelsSettings(a,s,NaN,["Visible"]).visible,u=!0;t.isPolar&&(isNaN(o.endAngle)||360===Math.round(Math.abs((isNaN(o.startAngle)?0:o.startAngle)-o.endAngle))||(u=!1)),!1===d.endPointsConnect&&(u=!1);let y=0;for(let v=0;v<t.segments.length;v++){let b=t.segments[v],x=this._calculateLine(a,t.pointsLength,y,b.pointsArray,b.pointsStart,b.yBase,e,t.isArea,t.swapXY);if(y+=b.pointsArray.length,""===x)continue;let w=x.split(" "),C=x;C=""!==C?this._buildLineCmd(x,t.isRange,b.left,b.right,b.pyStart,b.pyEnd,b.yBase,t.isArea,t.isPolar,u,t.isSpline,t.swapXY):"M 0 0";let A=b.colorSettings;if(b.pathElement?this.renderer.attr(b.pathElement,{d:C}):(b.pathElement=this.renderer.path(C,{"stroke-width":n.stroke,stroke:A.lineColor,"stroke-opacity":n.opacity,"fill-opacity":n.opacity,"stroke-dasharray":n.dashStyle,fill:t.isArea?A.fillColor:"none"}),this._installHandlers(b.pathElement,"path",a,s,b.lastItemIndex)),b.labelElements){for(let N=0;N<b.labelElements.length;N++)this.renderer.removeElement(b.labelElements[N]);b.labelElements=[]}if(b.symbolElements){for(let N=0;N<b.symbolElements.length;N++)this.renderer.removeElement(b.symbolElements[N]);b.symbolElements=[]}if(b.pointsArray.length===w.length&&("none"!==f||m)){let N=d.symbolSize,E=this._plotRect;for(let O=0;O<w.length;O++){let I=w[O].split(",");if(I={x:parseFloat(I[0]),y:parseFloat(I[1])},!(I.x<E.x||I.x>E.x+E.width||I.y<E.y||I.y>E.y+E.height)){if("none"!==f){let k=this._getColors(a,s,b.pointsArray[O].index,this._getGroupGradientType(a)),R=this._drawSymbol(f,I.x,I.y,k.fillColorSymbol,n.opacity,k.lineColorSymbol,n.opacity,n.strokeSymbol,void 0,N);b.symbolElements.push(R)}if(m&&(I=this._adjustLineLabelPosition(a,s,b.pointsArray[O].index,I),I)){let k=this._showLabel(a,s,b.pointsArray[O].index,{x:I.x,y:I.y,width:0,height:0});b.labelElements.push(k)}}}}if(1===e&&"none"!==f)for(let N=0;N<b.symbolElements.length;N++)isNaN(b.pointsArray[N].index)||this._installHandlers(b.symbolElements[N],"symbol",a,s,b.pointsArray[N].index)}}_adjustLineLabelPosition(t,e,n,a){let s=this._showLabel(t,e,n,{width:0,height:0},"","",!0);if(!s)return;let o={x:a.x-s.width/2,y:0};return o.y=a.y-1.5*s.height,o}_calculateLine(t,e,n,a,s,o,d,f,m){let u,y=this.seriesGroups[t];!0!==y.polar&&!0!==y.spider||(u=this._getPolarAxisCoords(t,this._plotRect));let v="",b=a.length;f||0!==s.length||(b=e*d-n);for(let x=0;x<b+1&&x<a.length;x++){x>0&&(v+=" ");let w=a[x].y,C=a[x].x,A=f?o:w,N=C;if(s&&s.length>x&&(A=s[x].y,N=s[x].x,(isNaN(A)||isNaN(N))&&(A=w,N=C)),b<=a.length&&x>0&&x===b&&(N=a[x-1].x,A=a[x-1].y),m?(C=this.renderer._ptrnd((C-A)*(f?d:1)+A),w=this.renderer._ptrnd(w)):(C=this.renderer._ptrnd((C-N)*d+N),w=this.renderer._ptrnd((w-A)*d+A)),u){let E=this._toPolarCoord(u,this._plotRect,C,w);C=E.x,w=E.y}v+=C+","+w}return v}_buildLineCmd(t,e,n,a,s,o,d,f,m,u,y,v){let b=t,x=v?d+","+n:n+","+d;!f||m||e||(b=x+" "+t+" "+(v?d+","+a:a+","+d)),y&&(b=this._getBezierPoints(b));let w=b.split(" ");if(0===w.length)return"";if(1===w.length){let A=w[0].split(",");return"M "+w[0]+" L"+(parseFloat(A[0])+1)+","+(parseFloat(A[1])+1)}let C=w[0].replace("M","");return f&&!m?b=e?"M "+C+" L "+C+(y?"":" L "+C+" ")+b:"M "+x+" L "+C+" "+b:y||(b="M "+C+" L "+C+" "+b),(m&&u||e)&&(b+=" Z"),b}_getSerieSettings(t,e){let n=this.seriesGroups[t],a=-1!==n.type.indexOf("area"),s=-1!==n.type.indexOf("line"),o=n.series[e],d=o.dashStyle||n.dashStyle||"",f=o.opacity||n.opacity;(isNaN(f)||f<0||f>1)&&(f=1);let m=o.lineWidth;isNaN(m)&&"auto"!==m&&(m=n.lineWidth),("auto"===m||isNaN(m)||m<0||m>15)&&(m=a?2:s?3:1);let u=o.lineWidthSymbol;return isNaN(u)&&(u=1),{stroke:m,strokeSymbol:u,opacity:f,dashStyle:d}}_getColors(t,e,n,a,s){let o=this.seriesGroups[t],f=this._get([o.series[e].useGradientColors,o.useGradientColors,!1]),m=this._getSeriesColors(t,e,n),u=[[0,1.4],[100,1]],y=[[0,1],[25,1.1],[50,1.4],[100,1]],v=[[0,1.3],[90,1.2],[100,1]],b=NaN;if(isNaN(s)||(b=2===s?u:y),f){let x={};for(let w in m)x[w]=m[w];if(m=x,"verticalLinearGradient"===a||"horizontalLinearGradient"===a){let w="verticalLinearGradient"===a?b||u:b||y,C=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(let A in C){let N=m[C[A]];N&&(m[C[A]]=this.renderer._toLinearGradient(N,"verticalLinearGradient"===a,w))}}else if("radialGradient"===a){let w,C=u;("pie"===o.type||"donut"===o.type||o.polar)&&null!=n&&this._renderData[t]&&this._renderData[t].offsets[e]&&(w=this._renderData[t].offsets[e][n],C=v),m.fillColor=this.renderer._toRadialGradient(m.fillColor,C,w),m.fillColorSelected=this.renderer._toRadialGradient(m.fillColorSelected,C,w)}}return m}_installHandlers(t,e,n,a,s){if(!this.enableEvents)return!1;var o=this,d=this.seriesGroups[n],f=this.seriesGroups[n].series[a],m=-1!==d.type.indexOf("line")||-1!==d.type.indexOf("area");m||!1===d.enableSelection||!1===f.enableSelection||this.renderer.addHandler(t,"mousemove",function(){var u=o._selected;u&&u.isLineType&&"click"===u.linesUnselectMode&&(u.group!==n||u.series!==a)||o._ttEl&&o._ttEl.gidx===n&&o._ttEl.sidx===a&&o._ttEl.iidx===s||o._startTooltipTimer(n,a,s)}),!1!==d.enableSelection&&!1!==f.enableSelection&&this.renderer.addHandler(t,"mouseover",function(){var u=o._selected;u&&u.isLineType&&"click"===u.linesUnselectMode&&(u.group!==n||u.series!==a)||o._select(t,e,n,a,s,s)}),this.renderer.addHandler(t,"click",function(u){clearTimeout(o._hostClickTimer),o._lastClickTs=(new Date).valueOf(),m&&"symbol"!==e&&"pointMarker"!==e||(o._isColumnType(d.type)&&o._unselect(),isNaN(s)||(u.stopImmediatePropagation(),o._raiseItemEvent("click",d,f,s)))})}_getHorizontalOffset(t,e,n,a){let s=this._plotRect;if(0===this._getDataLen(t))return{index:void 0,value:n};let o=this._calcGroupOffsets(t,this._plotRect);if(0===o.xoffsets.length)return{index:void 0,value:void 0};let d,f,m,u,y,v=n,b=a,x=this.seriesGroups[t];(x.polar||x.spider)&&(d=this._getPolarAxisCoords(t,s));for(let w=o.xoffsets.first;w<=o.xoffsets.last;w++){let C=o.xoffsets.data[w],A=o.offsets[e][w].to,N=0;if(d){let E=this._toPolarCoord(d,s,C+s.x,A);C=E.x,A=E.y,N=this.renderer._ptdist(v,b,C,A)}else if("horizontal"===x.orientation){C+=s.y;let E=A;A=C,C=E,N=this.renderer._ptdist(v,b,C,A)}else C+=s.x,N=Math.abs(v-C);(isNaN(f)||f>N)&&(f=N,m=w,u=C,y=A)}return{index:m,value:o.xoffsets.data[m],polarAxisCoords:d,x:u,y}}onmousemove(t,e){if(this._mouseX===t&&this._mouseY===e||(this._mouseX=t,this._mouseY=e,!this._selected))return;let n=this._selected.group,a=this._selected.series,s=this.seriesGroups[n],o=s.series[a],d=this._plotRect;if(this.renderer&&(d=this.renderer.getRect(),d.x+=5,d.y+=5,d.width-=10,d.height-=10),t<d.x+window.scrollX||t>d.x+d.width+window.scrollX||e<d.y+window.scrollY||e>d.y+d.height+window.scrollY)return this._hideToolTip(),void this._unselect();let f="horizontal"===s.orientation;if(d=this._plotRect,-1!==s.type.indexOf("line")||-1!==s.type.indexOf("area")){let m=this._getHorizontalOffset(n,this._selected.series,t,e),u=m.index;if(null==u)return;if(this._selected.item!==u){let E=this._linesRenderInfo[n][a].segments,O=0;for(;u>E[O].lastItemIndex;)if(O++,O>=E.length)return;let I=E[O].pathElement,k=E[O].lastItemIndex;this._unselect(!1),this._select(I,"path",n,a,u,k)}let y=this._getSymbol(this._selected.group,this._selected.series);"none"===y&&(y="circle");let v=this._calcGroupOffsets(n,d),b=v.offsets[this._selected.series][u].to,x=b;-1!==s.type.indexOf("range")&&(x=v.offsets[this._selected.series][u].from);let w=f?t:e;if(e=!isNaN(x)&&Math.abs(w-x)<Math.abs(w-b)?x:b,isNaN(e))return;if(t=m.value,f){let E=t;t=e,e=E+d.y}else t+=d.x;if(m.polarAxisCoords&&(t=m.x,e=m.y),e=this.renderer._ptrnd(e),t=this.renderer._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(e))return;let C=this._getSeriesColors(n,a,u),A=this._getSerieSettings(n,a),N=o.symbolSizeSelected;isNaN(N)&&(N=o.symbolSize),(isNaN(N)||N>50||N<0)&&(N=s.symbolSize),(isNaN(N)||N>50||N<0)&&(N=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:y,x:t,y:e,gidx:n,sidx:a,iidx:u},this._pointMarker.element=this._drawSymbol(y,t,e,C.fillColorSymbolSelected,A.opacity,C.lineColorSymbolSelected,A.opacity,A.strokeSymbol,A.dashStyle,N),this._installHandlers(this._pointMarker.element,"pointMarker",n,a,u)),this._startTooltipTimer(n,this._selected.series,u)}}_drawSymbol(t,e,n,a,s,o,d,f,m,u){let y,v,b=u||6,x=b/2;switch(t){case"none":return;case"circle":y=this.renderer.circle(e,n,b/2);break;case"square":b-=1,x=b/2,y=this.renderer.rect(e-x,n-x,b,b);break;case"diamond":v="M "+(e-x)+","+n+" L"+e+","+(n-x)+" L"+(e+x)+","+n+" L"+e+","+(n+x)+" Z",y=this.renderer.path(v);break;case"triangle_up":case"triangle":v="M "+(e-x)+","+(n+x)+" L "+(e+x)+","+(n+x)+" L "+e+","+(n-x)+" Z",y=this.renderer.path(v);break;case"triangle_down":v="M "+(e-x)+","+(n-x)+" L "+e+","+(n+x)+" L "+(e+x)+","+(n-x)+" Z",y=this.renderer.path(v);break;case"triangle_left":v="M "+(e-x)+","+n+" L "+(e+x)+","+(n+x)+" L "+(e+x)+","+(n-x)+" Z",y=this.renderer.path(v);break;case"triangle_right":v="M "+(e-x)+","+(n-x)+" L "+(e-x)+","+(n+x)+" L "+(e+x)+","+n+" Z",y=this.renderer.path(v);break;default:y=this.renderer.circle(e,n,b)}return this.renderer.attr(y,{fill:a,"fill-opacity":s,stroke:o,"stroke-width":f,"stroke-opacity":d,"stroke-dasharray":m||""}),"circle"!==t&&(this.renderer.attr(y,{r:b/2}),"square"!==t&&this.renderer.attr(y,{x:e,y:n})),y}_getSymbol(t,e){let n,a=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[t],o=s.series[e];return null!=o.symbolType&&(n=o.symbolType),null==n&&(n=s.symbolType),"default"===n?a[e%a.length]:null!=n?n:"none"}_startTooltipTimer(t,e,n,a,s,o,d){this._cancelTooltipTimer();let f=this,m=this.toolTipShowDelay;(isNaN(m)||m>1e4||m<0)&&(m=500),(this._ttEl||!0===this.enableCrosshairs&&!1===this.showToolTips)&&(m=0),isNaN(o)||(m=o),clearTimeout(this._tttimerHide),isNaN(a)&&(a=f._mouseX),isNaN(s)&&(s=f._mouseY-3),0===m&&f._showToolTip(a,s,t,e,n),this._tttimer=setTimeout(function(){0!==m&&f._showToolTip(a,s,t,e,n);let u=f.toolTipHideDelay;isNaN(d)||(u=d),isNaN(u)&&(u=4e3),f._tttimerHide=setTimeout(function(){f._hideToolTip(),f._unselect()},u)},m)}_cancelTooltipTimer(){clearTimeout(this._tttimer)}_getGroupGradientType(t){let e=this.seriesGroups[t];return-1!==e.type.indexOf("area")?"horizontal"===e.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(e.type)||-1!==e.type.indexOf("candle")?e.polar?"radialGradient":"horizontal"===e.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!==e.type.indexOf("scatter")||-1!==e.type.indexOf("bubble")||this._isPieGroup(t)?"radialGradient":void 0}_select(t,e,n,a,s,o){if(this._selected){if(this._selected.item===s&&this._selected.series===a&&this._selected.group===n)return;this._unselect()}let d=this.seriesGroups[n],f=d.series[a];if(!1===d.enableSelection||!1===f.enableSelection)return;let m=-1!==d.type.indexOf("line")&&-1===d.type.indexOf("area");this._selected={element:t,type:e,group:n,series:a,item:s,iidxBase:o,isLineType:m,linesUnselectMode:f.linesUnselectMode||d.linesUnselectMode};let u=this._getColors(n,a,o||s,this._getGroupGradientType(n)),y=u.fillColorSelected;m&&(y="none");let v=this._getSerieSettings(n,a),b="symbol"===e?u.lineColorSymbolSelected:u.lineColorSelected;y="symbol"===e?u.fillColorSymbolSelected:y;let x="symbol"===e?1:v.stroke;"symbol"!==e&&this.renderer.getAttr(t,"fill")===u.fillColorAlt&&(y=u.fillColorAltSelected),this.renderer.attr(t,{stroke:b,fill:y,"stroke-width":x}),-1===d.type.indexOf("pie")&&-1===d.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",d,f,s),this._isTouchDevice&&this._startTooltipTimer(n,a,s)}_applyPieSelect(){var t=this;t._createAnimationGroup("animPieSlice");var e=this._selected;if(e){var n=this.getItemCoord(e.group,e.series,e.item);if(n){var a={element:this._getRenderInfo(e.group,e.series,e.item),coord:n};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(s,o,d){var f=o.coord,m=f.selectedRadiusChange*d,u=t.renderer.pieSlicePath(f.center.x,f.center.y,0===f.innerRadius?0:f.innerRadius+m,f.outerRadius+m,f.fromAngle,f.toAngle,f.centerOffset);t.renderer.attr(o.element.element,{d:u}),t._showPieLabel(e.group,e.series,e.item,void 0,m,o.element.colors.lineColor)},a),t._startAnimation("animPieSlice")}}}_applyPieUnselect(){this._stopAnimations();let t=this._selected;if(!t)return;let e=this.getItemCoord(t.group,t.series,t.item);if(!e||!e.center)return;let n=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset);this.renderer.attr(t.element,{d:n}),this._showPieLabel(t.group,t.series,t.item,void 0,0,this._getRenderInfo(t.group,t.series,t.item).colors.lineColor)}_unselect(){let t=this;if(t._selected){let e=t._selected.group,n=t._selected.series,a=t._selected.item,s=t._selected.iidxBase,o=t._selected.type,d=t.seriesGroups[e],f=d.series[n],m=-1!==d.type.indexOf("line")&&-1===d.type.indexOf("area"),u=t._getColors(e,n,s||a,t._getGroupGradientType(e)),y=u.fillColor;m&&(y="none");let v=t._getSerieSettings(e,n),b="symbol"===o?u.lineColorSymbol:u.lineColor;y="symbol"===o?u.fillColorSymbol:y,"symbol"!==o&&this.renderer.getAttr(t._selected.element,"fill")===u.fillColorAltSelected&&(y=u.fillColorAlt),t.renderer.attr(t._selected.element,{stroke:b,fill:y,"stroke-width":"symbol"===o?1:v.stroke}),-1===d.type.indexOf("pie")&&-1===d.type.indexOf("donut")||this._applyPieUnselect(),t._selected=void 0,isNaN(a)||t._raiseItemEvent("mouseout",d,f,a)}t._pointMarker&&(t._pointMarker.element&&(t.renderer.removeElement(t._pointMarker.element),t._pointMarker.element=void 0),t._pointMarker=void 0,t._hideCrosshairs())}_raiseItemEvent(t,e,n,a){let s=n[t]||e[t],o=0;for(;o<this.seriesGroups.length&&this.seriesGroups[o]!==e;o++);if(o===this.seriesGroups.length)return;let d={event:t,seriesGroup:e,serie:n,elementIndex:a,elementValue:this._getDataValue(a,n.dataField,o)};s&&"function"==typeof s&&s(d),this.$.fireEvent(t,d)}_calcInterval(t,e,n){let a=Math.abs(e-t)/n,s=.1,o=[1,2,3,4,5,10,15,20,25,50,100];a<1&&(o=[.5,.25,.125,.1],s=10);let d=0;do{d=0,a>=1?s*=10:s/=10;for(let f=1;f<o.length&&Math.abs(o[d]*s-a)>Math.abs(o[f]*s-a);f++)d=f}while(d===o.length-1);return o[d]*s}_renderDataClone(){if(!this._renderData||this._isToggleRefresh)return;let t=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(let e=0;e<this._renderData.length;e++){for(;t.length<=e;)t.push({});let n=t[e],a=this._renderData[e];if(!a.offsets)continue;if(a.valueAxis){n.valueAxis={itemOffsets:{}};for(let d in a.valueAxis.itemOffsets)n.valueAxis.itemOffsets[d]=a.valueAxis.itemOffsets[d]}if(a.xAxis){n.xAxis={itemOffsets:{}};for(let d in a.xAxis.itemOffsets)n.xAxis.itemOffsets[d]=a.xAxis.itemOffsets[d]}n.series=[];let s=n.series,o=this._isPieGroup(e);for(let d=0;d<a.offsets.length;d++){s.push({});for(let f=0;f<a.offsets[d].length;f++)if(o){let m=a.offsets[d][f];s[d][m.displayValue]={value:m.value,x:m.x,y:m.y,fromAngle:m.fromAngle,toAngle:m.toAngle}}else a.xoffsets?s[d][a.xoffsets.xvalues[f]]={value:a.offsets[d][f].value,valueRadius:a.offsets[d][f].valueRadius,xoffset:a.xoffsets.data[f],from:a.offsets[d][f].from,to:a.offsets[d][f].to}:(a.xoffsets=this._calculateXOffsets(e,self._plotRect.width),a.xoffsets&&(s[d][a.xoffsets.xvalues[f]]={value:a.offsets[d][f].value,valueRadius:a.offsets[d][f].valueRadius,xoffset:a.xoffsets.data[f],from:a.offsets[d][f].from,to:a.offsets[d][f].to}))}}}getPolarDataPointOffset(t,e,n){let a=this._renderData[n];if(!a)return{x:NaN,y:NaN};let s=this.getValueAxisDataPointOffset(e,n),o=this.getXAxisDataPointOffset(t,n),d=this._toPolarCoord(a.polarCoords,a.xAxis.rect,o,s);return{x:d.x,y:d.y}}_getDataPointOffsetDiff(t,e,n,a,s,o,d){let f=this._getDataPointOffset(t,n,a,s,o,d),m=this._getDataPointOffset(e,n,a,s,o,d);return Math.abs(f-m)}_getXAxisRenderData(t){if(t>=this._renderData.length)return;let n=this._renderData[t].xAxis;if(n){if(null==this.seriesGroups[t].xAxis)for(let a=0;a<=t;a++)if(null==this.seriesGroups[a].xAxis){n=this._renderData[a].xAxis;break}return n}}getXAxisDataPointOffset(t,e){let n=this.seriesGroups[e];if(isNaN(t))return NaN;const a=this._getXAxisRenderData(e);if(!a)return NaN;let s=a.data.axisStats,o=s.min.valueOf(),d=s.max.valueOf(),f=d-o;if(0===f&&(f=1),t.valueOf()>d||t.valueOf()<o)return NaN;let m=this._getXAxis(e),u="horizontal"===n.orientation?"height":"width",y="horizontal"===n.orientation?"y":"x",v=(t.valueOf()-o)/f,b=a.rect[u]-a.data.padding.left-a.data.padding.right;return(n.polar||n.spider)&&this._renderData[e].polarCoords.isClosedCircle&&(b=a.data.axisSize),this._plotRect[y]+a.data.padding.left+b*(m.flip?1-v:v)}getValueAxisDataPointOffset(t,e){let n=this._getValueAxis(e);if(!n)return NaN;let a=this._renderData[e];return a?this._getDataPointOffset(t,a.gbase,a.logBase,a.scale,a.baseOffset,!0===n.flip):NaN}_getDataPointOffset(t,e,n,a,s,o){let d;return isNaN(t)&&(t=e),d=isNaN(n)?(t-e)*a:(this._draw.log(t,n)-this._draw.log(e,n))*a,d=o?s+d:s-d,d}_calcGroupOffsets(t,e){let n=this.seriesGroups[t];for(;this._renderData.length<t+1;)this._renderData.push({});if(null!==this._renderData[t]&&void 0!==this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,e);let a=this._getValueAxis(t);if(!a||!n.series||0===n.series.length)return this._renderData[t];let s=!0===a.flip,o=!0===a.logarithmicScale,d=a.logarithmicScaleBase||10,f=[],m=-1!==n.type.indexOf("stacked"),u=m&&-1!==n.type.indexOf("100"),y=-1!==n.type.indexOf("range"),v=this._isColumnType(n.type),b=-1!==n.type.indexOf("waterfall"),x=this._getDataLen(t),w=n.baselineValue||a.baselineValue||0;u&&(w=0);let C=this._stats.seriesGroups[t];if(!C||!C.isValid)return;let A=C.hasStackValueReversal;if(A&&(w=0),b&&m){if(A)return;w=C.base}w>C.max&&(w=C.max),w<C.min&&(w=C.min);let N=u||o?C.maxRange:C.max-C.min,E=C.min,O=C.max,I=e.height/(o?C.intervals:N),k=0;u?E*O<0?(N/=2,k=-(N+w)*I):k=-w*I:k=-(w-E)*I,s?k=e.y-k:k+=e.y+e.height;let R,H=[],B=[],F=[];o&&(R=this._draw.log(O,d)-this._draw.log(w,d),m&&(R=C.intervals,w=u?0:E),s||(k=e.y+R/C.intervals*e.height)),k=this.renderer._ptrnd(k);let z=E*O<0?e.height/2:e.height,$=[],W=[],Y=m&&(v||o),K=[];f=new Array(n.series.length);for(let h=0;h<n.series.length;h++)f[h]=new Array(x);for(let h=0;h<x;h++){!b&&m&&(W=[]);for(let r=0;r<n.series.length;r++){!m&&o&&($=[]);let i=n.series[r],l=i.dataField,c=i.dataFieldFrom,p=i.dataFieldTo,g=i.radiusDataField||i.sizeDataField;f[r][h]={};let _=this._isSerieVisible(t,r);if(-1!==n.type.indexOf("candle")||-1!==n.type.indexOf("ohlc")){let q=["Open","Close","High","Low"];for(let Z in q){let Q="dataField"+q[Z];i[Q]&&(f[r][h][q[Z]]=this._getDataPointOffset(this._getDataValueAsNumber(h,i[Q],t),w,o?d:NaN,I,k,s))}continue}if(m)for(;W.length<=h;)W.push(0);let S=NaN;y&&(S=this._getDataValueAsNumber(h,c,t),isNaN(S)&&(S=w));let T=NaN;T=this._getDataValueAsNumber(h,y?p:l,t);let M,L=this._getDataValueAsNumber(h,g,t);if(m&&(W[h]+=_?T:0),_||(T=NaN),isNaN(T)||o&&T<=0){f[r][h]={from:void 0,to:void 0};continue}m&&(Y?M=T>=w?H:B:T=W[h]);let D=I*(T-w);if(y&&(D=I*(T-S)),m&&Y&&(K[h]?D=I*T:(K[h]=!0,D=I*(T-w))),o){for(;$.length<=h;)$.push({p:{value:0,height:0},n:{value:0,height:0}});let q=y||y?S:w,Z=T>q?$[h].p:$[h].n;Z.value+=T,u?(T=Z.value/(C.psums[h]+C.nsums[h])*100,D=(this._draw.log(T,d)-C.minPow)*I):(D=this._draw.log(Z.value,d)-this._draw.log(q,d),D*=I),D-=Z.height,Z.height+=D}let P=k;if(y){let q=0;q=o?(this._draw.log(S,d)-this._draw.log(w,d))*I:(S-w)*I,P+=s?q:-q}if(m){if(u&&!o){let q=C.psums[h]-C.nsums[h];T>w?(D=C.psums[h]/q*z,0!==C.psums[h]&&(D*=T/C.psums[h])):(D=C.nsums[h]/q*z,0!==C.nsums[h]&&(D*=T/C.nsums[h]))}Y&&(isNaN(M[h])&&(M[h]=P),P=M[h])}isNaN(F[h])&&(F[h]=0);let V=F[h];D=Math.abs(D);let U=D;if(D>=1){const q=this.renderer._ptrnd(D)-1;D=Math.abs(D-q)>.5?Math.round(D):q}if(V+=D-U,m||(V=0),Math.abs(V)>.5&&(V>0?(D-=1,V-=1):(D+=1,V+=1)),F[h]=V,r===n.series.length-1&&u){let q=0;for(let Z=0;Z<r;Z++)q+=Math.abs(f[Z][h].to-f[Z][h].from);if(q+=D,q<z)if(D>.5)D=this.renderer._ptrnd(D+z-q);else{let Z=r-1;for(;Z>=0;){if(Math.abs(f[Z][h].to-f[Z][h].from)>1){f[Z][h].from>f[Z][h].to&&(f[Z][h].from+=z-q);break}Z--}}}s&&(D*=-1);let j=T<w;y&&(j=S>T);let G=isNaN(S)?T:{from:S,to:T};j?(Y&&(M[h]+=D),f[r][h]={from:P,to:P+D,value:G,valueRadius:L}):(Y&&(M[h]-=D),f[r][h]={from:P,to:P-D,value:G,valueRadius:L})}}let J=this._renderData[t];return J.baseOffset=k,J.gbase=w,J.logBase=o?d:NaN,J.scale=I,J.offsets=b?this._applyWaterfall(f,x,t,k,w,o?d:NaN,I,s,m):f,J.xoffsets=this._calculateXOffsets(t,e.width),this._renderData[t]}_isPercent(t){return"string"==typeof t&&t.length>0&&t.indexOf("%")===t.length-1}_calcPieSeriesGroupOffsets(t,e){var n=this,a=this._getDataLen(t),s=this.seriesGroups[t],o=this._renderData[t]={},d=o.offsets=[];for(let h=0;h<s.series.length;h++){var f=s.series[h],m=this._get([f.minAngle,f.startAngle]);(isNaN(m)||m<0||m>360)&&(m=0);var u=this._get([f.maxAngle,f.endAngle]);(isNaN(u)||u<0||u>360)&&(u=360);var y=u-m,v=f.initialAngle||0;v<m&&(v=m),v>u&&(v=u);var b=f.centerOffset||0,x=this._draw.getNum([f.offsetX,s.offsetX,e.width/2]),w=this._draw.getNum([f.offsetY,s.offsetY,e.height/2]),C=Math.min(e.width,e.height)/2,A=v,N=f.radius;n._isPercent(N)&&(N=parseFloat(N)/100*C),isNaN(N)&&(N=.4*C);var E=f.innerRadius;n._isPercent(E)&&(E=parseFloat(E)/100*C),(isNaN(E)||E>=N)&&(E=0);var O=f.selectedRadiusChange;n._isPercent(O)&&(O=parseFloat(O)/100*(N-E)),isNaN(O)&&(O=.1*(N-E)),d.push([]);var I=0,k=0;for(let r=0;r<a;r++){var R=this._getDataValueAsNumber(r,f.dataField,t);isNaN(R)||(this._isSerieVisible(t,h,r)||!0===f.hiddenPointsDisplay)&&(R>0?I+=R:k+=R)}var H=I-k;0===H&&(H=1);for(let r=0;r<a;r++){let i=this._getDataValueAsNumber(r,f.dataField,t);if(isNaN(i))d[h].push({});else{var F=this._getDataValue(r,f.displayText||f.displayField,t);null==F&&(F=r);var z=0,$=this._isSerieVisible(t,h,r);($||!0===f.hiddenPointsDisplay)&&(z=Math.abs(i)/H*y);var W=e.x+x,Y=e.y+w,K=b;"function"==typeof b&&(K=b({seriesIndex:h,seriesGroupIndex:t,itemIndex:r})),isNaN(K)&&(K=0),d[h].push({key:t+"_"+h+"_"+r,value:i,displayValue:F,x:W,y:Y,fromAngle:A,toAngle:A+z,centerOffset:K,innerRadius:E,outerRadius:N,selectedRadiusChange:O,visible:$}),A+=z}}}return o}_isPointSeriesOnly(){for(let t=0;t<this.seriesGroups.length;t++){let e=this.seriesGroups[t];if(-1===e.type.indexOf("line")&&-1===e.type.indexOf("area")&&-1===e.type.indexOf("scatter")&&-1===e.type.indexOf("bubble"))return!1}return!0}_hasColumnSeries(){let t=["column","ohlc","candlestick","waterfall"];for(let e=0;e<this.seriesGroups.length;e++){let n=this.seriesGroups[e];for(let a in t)if(-1!==n.type.indexOf(t[a]))return!0}return!1}_alignValuesWithTicks(t){let e=this._isPointSeriesOnly(),n=this.seriesGroups[t],a=this._getXAxis(t),s=null==a.valuesOnTicks?e:!1!==a.valuesOnTicks;return a.logarithmicScale&&(s=!0),null==t||null==n.valuesOnTicks?s:n.valuesOnTicks}_getYearsDiff(t,e){return e.getFullYear()-t.getFullYear()}_getMonthsDiff(t,e){return 12*(e.getFullYear()-t.getFullYear())+e.getMonth()-t.getMonth()}_getDateDiff(t,e,n,a){let s=0;switch("year"!==n&&"month"!==n&&(s=e.valueOf()-t.valueOf()),n){case"year":s=this._getYearsDiff(t,e);break;case"month":s=this._getMonthsDiff(t,e);break;case"day":s/=864e5;break;case"hour":s/=36e5;break;case"minute":s/=6e4;break;case"second":s/=1e3}return"year"!==n&&"month"!==n&&!1!==a&&(s=this.renderer._rnd(s,1,!0)),s}_getBestDTUnit(t,e,n,a,s){let o="day",d=e.valueOf()-t.valueOf();o=d<1e3?"second":d<36e5?"minute":d<864e5?"hour":d<2592e6?"day":d<31104e6?"month":"year";let f=[{key:"year",cnt:d/31536e6},{key:"month",cnt:d/2592e6},{key:"day",cnt:d/864e5},{key:"hour",cnt:d/36e5},{key:"minute",cnt:d/6e4},{key:"second",cnt:d/1e3},{key:"millisecond",cnt:d}],m=-1;for(let v=0;v<f.length;v++)if(f[v].key===o){m=v;break}let u=-1,y=-1;for(;m<f.length&&!(f[m].cnt/100>a);m++){let v=this._estAxisInterval(t,e,n,a,f[m].key,s),b=this._getDTIntCnt(t,e,v,f[m].key);(-1===u||u<b)&&(u=b,y=m)}return o=f[y].key,o}_getXAxisStats(t,e,n){let a=this._getDataLen(t),s="date"===e.type||"time"===e.type;if(s&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);let F=this._testXAxisDateFormat();F&&this._autoDateFormats.push(F)}let o=s?this._castAsDate(e.minValue,e.dateFormat):this._castAsNumber(e.minValue),d=s?this._castAsDate(e.maxValue,e.dateFormat):this._castAsNumber(e.maxValue);if(this._selectorRange&&this._selectorRange[t]){let F=this._selectorRange[t].min;isNaN(F)||(o=s?this._castAsDate(F,e.dateFormat):this._castAsNumber(F));let z=this._selectorRange[t].max;isNaN(z)||(d=s?this._castAsDate(z,e.dateFormat):this._castAsNumber(z))}let f,m,u=o,y=d,v=null==e.type||"auto"===e.type,b=v||"basic"===e.type,x=0,w=0;for(let F=0;F<a&&e.dataField;F++){let z=this._getDataValue(F,e.dataField,t);z=s?this._castAsDate(z,e.dateFormat):this._castAsNumber(z),isNaN(z)||(s?x++:w++,(isNaN(f)||z<f)&&(f=z),(isNaN(m)||z>=m)&&(m=z))}v&&(!s&&w===a||s&&x===a)&&(b=!1),b&&(f=0,m=Math.max(0,a-1)),isNaN(u)&&(u=f),isNaN(y)&&(y=m),s?(this._isDate(u)||(u=this._isDate(y)?y:new Date),this._isDate(y)||(y=this._isDate(u)?u:new Date)):(isNaN(u)&&(u=0),isNaN(y)&&(y=b?Math.max(0,a-1):u)),null==f&&(f=u),null==m&&(m=y);let C,A,N=e.rangeSelector&&e.rangeSelector.visible;if(N){let F=N.minValue||u;F&&s&&(F=this._castAsDate(F,N.dateFormat||e.dateFormat));let z=N.maxValue||y;z&&s&&(z=this._castAsDate(z,N.dateFormat||e.rangeSelector)),u<F&&(u=F),y<F&&(y=z),u>z&&(u=F),y>z&&(y=z)}s&&(C=e.baseUnit,C||(C=this._getBestDTUnit(u,y,t,n)),A="hour"===C||"minute"===C||"second"===C||"millisecond"===C);let E=!0===e.logarithmicScale,O=e.logarithmicScaleBase;(isNaN(O)||O<=1)&&(O=10);let I=e.unitInterval;E?I=1:(isNaN(I)||I<=0)&&(I=this._estAxisInterval(u,y,t,n,C));let k,R,H={min:u,max:y},B=this.seriesGroups[t];return E?(u||(u=1,y&&u>y&&(u=y)),y||(y=u),H={min:u,max:y},k=this.renderer._rnd(this._draw.log(u,O),1,!1),R=this.renderer._rnd(this._draw.log(y,O),1,!0),y=Math.pow(O,R),u=Math.pow(O,k)):s||!B.polar&&!B.spider||(u=this.renderer._rnd(u,I,!1),y=this.renderer._rnd(y,I,!0)),{min:u,max:y,logAxis:{enabled:E,base:O,minPow:k,maxPow:R},dsRange:{min:f,max:m},filterRange:H,useIndeces:b,isDateTime:s,isTimeUnit:A,dateTimeUnit:C,interval:I}}_getDefaultDTFormatFn(t){let e,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return e="year"===t||"month"===t||"day"===t?function(a){return a.getDate()+"-"+n[a.getMonth()]+"-"+a.getFullYear()}:function(a){return a.getDate()+"-"+n[a.getMonth()]+"-"+a.getFullYear()+"<br>"+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()},e}_getDTIntCnt(t,e,n,a){let s=0,o=new Date(t),d=new Date(e);if(d=d.valueOf(),n<=0)return 1;for(;o.valueOf()<d;)"millisecond"===a?o=new Date(o.valueOf()+n):"second"===a?o=new Date(o.valueOf()+1e3*n):"minute"===a?o=new Date(o.valueOf()+6e4*n):"hour"===a?o=new Date(o.valueOf()+6e4*n*24):"day"===a?o.setDate(o.getDate()+n):"month"===a?o.setMonth(o.getMonth()+n):"year"===a&&o.setFullYear(o.getFullYear()+n),s++;return s}_estAxisInterval(t,e,n,a,s,o){if(isNaN(t)||isNaN(e))return NaN;let d=[1,2,5,10,15,20,50,100,200,500],f=0,m=a/(!isNaN(o)&&o>0?o:50);if(this._renderData&&this._renderData.length>n&&this._renderData[n].xAxis&&!isNaN(this._renderData[n].xAxis.avgWidth)){let b=Math.max(1,this._renderData[n].xAxis.avgWidth);0!==b&&isNaN(o)&&(m=.9*a/b)}if(m<=1)return Math.abs(e-t);let u,y=0;for(;u=f>=d.length?Math.pow(10,3+f-d.length):d[f],y=this._isDate(t)&&this._isDate(e)?this._getDTIntCnt(t,e,u,s):(e-t)/u,!(y<=m);)f++;let v=this.seriesGroups[n];return(v.spider||v.polar)&&2*u>e-t&&(u=e-t),u}_getPaddingSize(t,e,n,a,s,o,d){var f=t.min,m=t.max;t.logAxis.enabled&&(f=t.logAxis.minPow,m=t.logAxis.maxPow);var u=t.interval,y=t.dateTimeUnit;if(s){var v=a/Math.max(1,m-f+u)*u;return o?{left:0,right:v}:n?{left:0,right:0}:{left:v/2,right:v/2}}if(n&&!d)return{left:0,right:0};if(this._isDate(f)&&this._isDate(m)){let w=this._getDTIntCnt(f,m,Math.min(u,m-f),y),C=a/Math.max(2,w);return{left:C/2,right:C/2}}let b=Math.max(1,m-f);if(1===b){const w=a/4;return{left:w,right:w}}let x=a/(b+1);return{left:x/2,right:x/2}}_calculateXOffsets(t,e){var n=this.seriesGroups[t],a=this._getXAxis(t),s=[],o=[],d=this._getDataLen(t),f=this._getXAxisStats(t,a,e),m=f.min,u=f.max,y=f.isDateTime,v=f.isTimeUnit,b=this._hasColumnSeries(),x=n.polar||n.spider,w=this._get([n.startAngle,n.minAngle,0]),C=this._get([n.endAngle,n.maxAngle,360]),A=x&&!(Math.abs(Math.abs(C-w)-360)>1e-4),N=this._alignValuesWithTicks(t),E=this._getPaddingSize(f,a,N,e,x,A,b),O=u-m,I=f.filterRange;0===O&&(O=1);var k=e-E.left-E.right;x&&N&&!A&&(E.left=E.right=0);var R=-1,H=-1;for(let Y=0;Y<d;Y++){var B=void 0===a.dataField?Y:this._getDataValue(Y,a.dataField,t);if(f.useIndeces){if(Y<I.min||Y>I.max){s.push(NaN),o.push(void 0);continue}if(z=E.left+(Y-m)/O*k,!0===f.logAxis.enabled){var F=f.logAxis.base;z=this._smartPlot.scale(B,{min:m.valueOf(),max:u.valueOf(),type:"logarithmic",base:F},{min:0,max:k,flip:!1})}s.push(this.renderer._ptrnd(z)),o.push(B),-1===R&&(R=Y),(-1===H||H<Y)&&(H=Y)}else if(B=y?this._castAsDate(B,a.dateFormat):this._castAsNumber(B),isNaN(B)||B<I.min||B>I.max)s.push(NaN),o.push(void 0);else{var z=0;if(!0===f.logAxis.enabled){let K=f.logAxis.base;z=this._smartPlot.scale(B,{min:m.valueOf(),max:u.valueOf(),type:"logarithmic",base:K},{min:0,max:k,flip:!1})}else z=!y||y&&v?(B-m)*k/O:(B.valueOf()-m.valueOf())/(u.valueOf()-m.valueOf())*k;z=this.renderer._ptrnd(E.left+z),s.push(z),o.push(B),-1===R&&(R=Y),(-1===H||H<Y)&&(H=Y)}}if(!0===a.flip)for(let Y=0;Y<s.length;Y++)isNaN(s[Y])||(s[Y]=e-s[Y]);(v||y)&&(O=this._getDateDiff(m,u,a.baseUnit),O=this.renderer._rnd(O,1,!1));var $=Math.max(1,O),W=k/$;return R===H&&1===$&&(s[R]=E.left+k/2),{axisStats:f,data:s,xvalues:o,first:R,last:H,length:-1===H?0:H-R+1,itemWidth:W,intervalWidth:W*f.interval,rangeLength:O,useIndeces:f.useIndeces,padding:E,axisSize:k}}_getXAxis(t){return null==t||this.seriesGroups.length<=t?this.xAxis:this.seriesGroups[t].xAxis||this.xAxis}_isGreyScale(t,e){let n=this.seriesGroups[t],a=n.series[e];return!0===a.greyScale||!1!==a.greyScale&&(!0===n.greyScale||!1!==n.greyScale&&!0===this.greyScale)}_getSeriesColors(t,e,n){let a=this._getSeriesColorsInternal(t,e,n);if(this._isGreyScale(t,e))for(let s in a)a[s]=this._draw.toGreyScale(a[s]);return a}_getColorFromScheme(t,e,n){let a="#000000",s=this.seriesGroups[t],o=s.series[e];if(this._isPieGroup(t)){let d=this._getDataLen(t);a=this._getItemColorFromScheme(o.colorScheme||s.colorScheme||this.colorScheme,e*d+n,t,e)}else{let d=0;for(let m=0;m<=t;m++)for(let u=0;u<this.seriesGroups[m].series.length&&(m!==t||parseInt(u)!==e);u++)d++;let f=this.colorScheme;if(s.colorScheme&&(f=s.colorScheme),null!=f&&""!==f||(f=this.colorSchemes[0].name),!f)return a;for(let m=0;m<this.colorSchemes.length;m++){let u=this.colorSchemes[m];if(u.name===f){for(;d>u.colors.length;)d-=u.colors.length,++m>=this.colorSchemes.length&&(m=0),u=this.colorSchemes[m];a=u.colors[d%u.colors.length]}}}return a}_createColorsCache(){this._colorsCache={get:function(t){if(this._store[t])return this._store[t]},set:function(t,e){this._size<1e4&&(this._store[t]=e,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}}_getSeriesColorsInternal(t,e,n){let a=this.seriesGroups[t],s=a.series[e],o=t+"_"+e+"_"+(isNaN(n)?"NaN":n);if(this._colorsCache.get(o))return this._colorsCache.get(o);let d,f={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if("function"==typeof s.colorFunction){let u=isNaN(n)?NaN:this._getDataValue(n,s.dataField,t);if(-1===a.type.indexOf("range")||isNaN(n)||(u={from:this._getDataValue(n,s.dataFieldFrom,t),to:this._getDataValue(n,s.dataFieldTo,t)}),d=s.colorFunction(u,n,s,a),"object"==typeof d)for(let y in d)f[y]=d[y];else f.fillColor=d}else{for(let u in f)s[u]&&(f[u]=s[u]);s.fillColor||s.color?s.fillColor=s.fillColor||s.color:f.fillColor=this._getColorFromScheme(t,e,n)}let m={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(let u in f)"object"==typeof d&&d[u]||s[u]&&(f[u]=s[u]);for(let u in f)"object"==typeof d&&d[u]||s[u]||(f[u]=this.renderer.adjustColor(f[m[u].baseColor],m[u].adjust));return this._colorsCache.set(o,f),f}_getItemColorFromScheme(t,e,n,a){let s;for(void 0!==t&&""!==t||(t=this.colorSchemes[0].name),s=0;s<this.colorSchemes.length&&t!==this.colorSchemes[s].name;s++);let o=0;for(;o<=e;){s===this.colorSchemes.length&&(s=0);let d=this.colorSchemes[s].colors.length;if(!(o+d<=e)){let f=this.colorSchemes[s].colors[e-o];return this._isGreyScale(n,a)&&0===f.indexOf("#")&&(f=this._draw.toGreyScale(f)),f}o+=d,s++}}getColorScheme(t){for(let e=0;e<this.colorSchemes.length;e++)if(this.colorSchemes[e].name===t)return this.colorSchemes[e].colors}addColorScheme(t,e){for(let n=0;n<this.colorSchemes.length;n++)if(this.colorSchemes[n].name===t)return void(this.colorSchemes[n].colors=e);this.colorSchemes.push({name:t,colors:e})}removeColorScheme(t){for(let e=0;e<this.colorSchemes.length;e++)if(this.colorSchemes[e].name===t){this.colorSchemes.splice(e,1);break}}_formatValue(t,e,n,a,s,o){if(null==t||this._isObject(t)&&!this._isDate(t)&&!n)return"";if(n){if("function"!=typeof n)return t.toString();try{return n(t,o,s,a)}catch(d){return d.message}}return this._isNumber(t)?this._formatNumber(t,e):this._isDate(t)?this._formatDate(t,e):e?(e.prefix||"")+t.toString()+(e.sufix||""):t.toString()}_getFormattedValue(t,e,n,a,s,o){let d=this.seriesGroups[t],f=d.series[e],m="",u=a,y=s;f.labels&&(u=u||this._getFormatSettings(f.labels),y=y||f.labels.formatFunction),u||y||(u=this._getFormatSettings(f),y=f.formatFunction,u||y||(u=this._getFormatSettings(d),y=d.formatFunction));let v={},b=0;for(let x in f)0===x.indexOf("dataField")&&(v[x.substring(9).toLowerCase()]=this._getDataValue(n,f[x],t),b++);if(0===b&&(v=this._getDataValue(n,void 0,t)),-1!==d.type.indexOf("waterfall")&&this._isSummary(t,n)&&(v=this._renderData[t].offsets[e][n].value,b=0),y&&"function"==typeof y)try{return y(1===b?v[""]:v,n,f,d)}catch(x){return x.message}if(1===b&&this._isPieGroup(t))return this._formatValue(v[""],u,y,t,e,n);if(b>0){let x=0;for(let w in v){x>0&&""!==m&&(m+="<br>");let C="dataField"+(w.length>0?w.substring(0,1).toUpperCase()+w.substring(1):""),A=f["displayText"+(w.length>0?w.substring(0,1).toUpperCase()+w.substring(1):"")]||f[C],N=v[w];void 0!==N&&(N=this._formatValue(N,u,y,t,e,n),m+=!0===o?N:A+": "+N,x++)}}else null!=v&&(m=this._formatValue(v,u,y,t,e,n));return m||""}_isNumberAsString(t){if("string"!=typeof t)return!1;t=t.trim();for(let e=0;e<t.length;e++){let n=t.charAt(e);if(!(n>="0"&&n<="9"||","===n||"."===n||"-"===n&&0===e||"("===n&&0===e||")"===n&&e===t.length-1))return!1}return!0}_castAsDate(t,e){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){let n=new Date(t);if(this._isDate(n))return-1===t.indexOf(":")&&n.setHours(0,0,0,0),n;try{if(e&&(n=Smart.Utilities.DateTime.parseDateString(t,void 0,e).toDate(),this._isDate(n)))return n;if(this._autoDateFormats)for(let s=0;s<this._autoDateFormats.length;s++)if(n=Smart.Utilities.DateTime.parseDateString(t,void 0,this._autoDateFormats[s]).toDate(),this._isDate(n))return n;let a=this._detectDateFormat(t);if(a&&(n=Smart.Utilities.DateTime.parseDateString(t,void 0,a).toDate(),this._isDate(n)))return this._autoDateFormats.push(a),n}catch(a){}}}_castAsNumber(t){if(t instanceof Date&&!isNaN(t))return t.valueOf();if("string"==typeof t)if(this._isNumber(t))t=parseFloat(t);else if(!/[a-zA-Z]/.test(t)){let e=new Date(t);null!=e&&(t=e.valueOf())}return isNaN(t)?void 0:t}_isNumber(t){return"string"==typeof t&&this._isNumberAsString(t)&&(t=parseFloat(t)),"number"==typeof t&&isFinite(t)}_isDate(t){return t instanceof Date&&!isNaN(t.getDate())}_isBoolean(t){return"boolean"==typeof t}_isObject(t){return t&&("object"==typeof t||"function"==typeof t)||!1}_formatDate(t,e){let n=t.toString();return e&&(e.dateFormat&&(n=new Smart.Utilities.DateTime(t).toString(e.dateFormat)),n=(e.prefix||"")+n+(e.sufix||"")),n}_formatNumber(t,e){if(!this._isNumber(t))return t;let n=this.localization.decimalSeparator,a=this.localization.thousandsSeparator;(e=e||{}).decimalSeparator&&(n=e.decimalSeparator),e.thousandsSeparator&&(a=e.thousandsSeparator);let s=e.prefix||"",o=e.sufix||"",d=e.decimalPlaces;isNaN(d)&&(d=this._getDecimalPlaces([t],void 0,3));let f=e.negativeWithBrackets||!1,m=t<0;m&&f&&(t*=-1);let u,y=t.toString(),v=Math.pow(10,d);if(y=(Math.round(t*v)/v).toString(),isNaN(y)&&(y=""),u=y.lastIndexOf("."),d>0)for(u<0?(y+=n,u=y.length-1):"."!==n&&(y=y.replace(".",n));y.length-1-u<d;)y+="0";u=y.lastIndexOf(n),u=u>-1?u:y.length;let b=y.substring(u),x=0;for(let w=u;w>0;w--,x++)x%3==0&&w!==u&&(!m||w>1||m&&f)&&(b=a+b),b=y.charAt(w-1)+b;return y=b,m&&f&&(y="("+y+")"),s+y+o}_calculateControlPoints(t,e){let n=t[e],a=t[e+1],s=t[e+2],o=t[e+3],d=t[e+4],f=t[e+5],m=Math.sqrt(Math.pow(s-n,2)+Math.pow(o-a,2)),u=m+Math.sqrt(Math.pow(d-s,2)+Math.pow(f-o,2));0===u&&(u=1);let y=.4*m/u,v=.4-y;return[s+y*(n-d),o+y*(a-f),s-v*(n-d),o-v*(a-f)]}_getBezierPoints(t){let e="",n=[],a=[],s=t.split(" ");for(let d=0;d<s.length;d++){let f=s[d].split(",");n.push(parseFloat(f[0])),n.push(parseFloat(f[1])),!isNaN(n[n.length-1])&&isNaN(n[n.length-2])}let o=n.length;if(o<=1)return"";if(2===o)return e="M"+this.renderer._ptrnd(n[0])+","+this.renderer._ptrnd(n[1])+" L"+this.renderer._ptrnd(n[0]+1)+","+this.renderer._ptrnd(n[1]+1)+" ",e;for(let d=0;d<o-4;d+=2)a=a.concat(this._calculateControlPoints(n,d));for(let d=2;d<o-5;d+=2)e+=" C"+this.renderer._ptrnd(a[2*d-2])+","+this.renderer._ptrnd(a[2*d-1])+" "+this.renderer._ptrnd(a[2*d])+","+this.renderer._ptrnd(a[2*d+1])+" "+this.renderer._ptrnd(n[d+2])+","+this.renderer._ptrnd(n[d+3])+" ";return e=o<=4||Math.abs(n[0]-n[2])<3||Math.abs(n[1]-n[3])<3?"M"+this.renderer._ptrnd(n[0])+","+this.renderer._ptrnd(n[1])+" L"+this.renderer._ptrnd(n[2])+","+this.renderer._ptrnd(n[3])+" "+e:"M"+this.renderer._ptrnd(n[0])+","+this.renderer._ptrnd(n[1])+" Q"+this.renderer._ptrnd(a[0])+","+this.renderer._ptrnd(a[1])+" "+this.renderer._ptrnd(n[2])+","+this.renderer._ptrnd(n[3])+" "+e,o>=4&&(Math.abs(n[o-2]-n[o-4])<3||Math.abs(n[o-1]-n[o-3])<3)?e+=" L"+this.renderer._ptrnd(n[o-2])+","+this.renderer._ptrnd(n[o-1])+" ":o>=5&&(e+=" Q"+this.renderer._ptrnd(a[2*o-10])+","+this.renderer._ptrnd(a[2*o-9])+" "+this.renderer._ptrnd(n[o-2])+","+this.renderer._ptrnd(n[o-1])+" "),e}_createAnimationGroup(t){this._animGroups||(this._animGroups={}),this._animGroups[t]={animations:[],startTick:NaN}}_startAnimation(t){let e=(new Date).getTime();this._animGroups[t].startTick=e,this._runAnimation(),this._enableAnimTimer()}_enqueueAnimation(t,e,n,a,s,o,d){a<0&&(a=0),void 0===d&&(d="easeInOutSine"),this._animGroups[t].animations.push({key:e,properties:n,duration:a,fn:s,context:o,easing:d})}_stopAnimations(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0}_enableAnimTimer(){if(!this._animtimer){let t=this;this._animtimer=setTimeout(function(){t._runAnimation()},this._animTickInt)}}_runAnimation(){if(this._animGroups){let t=(new Date).getTime(),e={};for(let n in this._animGroups){let a=this._animGroups[n].animations,s=this._animGroups[n].startTick,o=0;for(let d=0;d<a.length;d++){let f=a[d],m=t-s;f.duration>o&&(o=f.duration);let u=f.duration>0?m/f.duration:1,y=u;if(f.easing&&0!==f.duration&&!1!==f.duration&&(y=Smart.Utilities.Animation.Easings[f.easing](m,0,1,f.duration)),u>1&&(u=1,y=1),f.fn){f.fn(f.key,f.context,y);continue}let v={};for(let b=0;b<f.properties.length;b++){let x=f.properties[b],w=0;w=1===u?x.to:y*(x.to-x.from)+x.from,v[x.key]=w}this.renderer.attr(f.key,v)}s+o>t&&(e[n]={startTick:s,animations:a})}this._animGroups=e,this.renderer instanceof Smart.Utilities.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null,Object.values(this._animGroups).length>0&&this._enableAnimTimer()}_fixCoords(t,e){if("horizontal"!==this.seriesGroups[e].orientation)return t;var n=t.x;return t.x=t.y,t.y=n+this._plotRect.y-this._plotRect.x,n=t.width,t.width=t.height,t.height=n,t}getItemCoord(t,e,n){var a=this;if(a._isPieGroup(t)&&(!a._isSerieVisible(t,e,n)||!a._renderData||a._renderData.length<=t))return{x:NaN,y:NaN};if(!a._isSerieVisible(t,e)||!a._renderData||a._renderData.length<=t)return{x:NaN,y:NaN};var s=a.seriesGroups[t],o=s.series[e],d=a._getItemCoord(t,e,n);if(a._isPieGroup(t)){if(isNaN(d.x)||isNaN(d.y)||isNaN(d.fromAngle)||isNaN(d.toAngle))return{x:NaN,y:NaN};var f=this._plotRect,m=d.fromAngle*(Math.PI/180),u=d.toAngle*(Math.PI/180);const N=f.x+d.center.x+Math.cos(m)*d.outerRadius,E=f.x+d.center.x+Math.cos(u)*d.outerRadius,O=f.y+d.center.y-Math.sin(m)*d.outerRadius,I=f.y+d.center.y-Math.sin(u)*d.outerRadius;var y=Math.min(N,E),v=Math.abs(E-N);return{x:y,y:Math.min(O,I),width:v,height:Math.abs(I-O),center:d.center,centerOffset:d.centerOffset,innerRadius:d.innerRadius,outerRadius:d.outerRadius,selectedRadiusChange:d.selectedRadiusChange,fromAngle:d.fromAngle,toAngle:d.toAngle}}if(-1!==s.type.indexOf("column")||-1!==s.type.indexOf("waterfall")){var b=this._getColumnSerieWidthAndOffset(t,e);d.height=Math.abs(d.y.to-d.y.from),d.y=Math.min(d.y.to,d.y.from),d.x+=b.offset,d.width=b.width}else if(-1!==s.type.indexOf("ohlc")||-1!==s.type.indexOf("candlestick")){let N=this._getColumnSerieWidthAndOffset(t,e),E=d.y;var x=Math.min(E.Open,E.Close,E.Low,E.High),w=Math.max(E.Open,E.Close,E.Low,E.High);d.height=Math.abs(w-x),d.y=x,d.x+=N.offset,d.width=N.width}else if(-1!==s.type.indexOf("line")||-1!==s.type.indexOf("area"))d.width=d.height=0,d.y=d.y.to;else if(-1!==s.type.indexOf("bubble")||-1!==s.type.indexOf("scatter")){d.center={x:d.x,y:d.y.to};var C=d.y.radius;"circle"!==o.symbolType&&null!=o.symbolType&&(C/=2),d.y=d.y.to,d.radius=C,d.width=2*C,d.height=2*C}if(d=this._fixCoords(d,t),s.polar||s.spider){var A=this._toPolarCoord(this._renderData[t].polarCoords,this._plotRect,d.x,d.y);d.x=A.x,d.y=A.y,d.center&&(d.center=this._toPolarCoord(this._renderData[t].polarCoords,this._plotRect,d.center.x,d.center.y))}return-1===s.type.indexOf("bubble")&&-1===s.type.indexOf("scatter")||(d.x-=C,d.y-=C),d}_getItemCoord(t,e,n){let a,s,o=this.seriesGroups[t];if(!o||!this._renderData)return{x:NaN,y:NaN};if(!o.series[e])return{x:NaN,y:NaN};let d=this._plotRect;if(this._isPieGroup(t)){let m=this._renderData[t].offsets[e][n];if(!m)return{x:NaN,y:NaN};let u=(m.fromAngle+m.toAngle)/2*(Math.PI/180);return a=d.x+m.x+Math.cos(u)*m.outerRadius,s=d.y+m.y-Math.sin(u)*m.outerRadius,{x:a,y:s,center:{x:m.x,y:m.y},centerOffset:m.centerOffset,innerRadius:m.innerRadius,outerRadius:m.outerRadius,selectedRadiusChange:m.selectedRadiusChange,fromAngle:m.fromAngle,toAngle:m.toAngle}}if(a=d.x+this._renderData[t].xoffsets.data[n],s=this._renderData[t].offsets[e][n],isNaN(a)||!s)return{x:NaN,y:NaN};let f={};for(let m in s)f[m]=s[m];return{x:a,y:f}}getXAxisValue(t,e){var n=this.seriesGroups[e];if(n){var a=this._getXAxis(e),s=this._plotRect,o=0,d=NaN,f=this._renderData[0].xoffsets.axisStats,m=0,u=0;if(n.polar||n.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var y=this._getPolarAxisCoords(e,s);if(this.renderer._ptdist(t.x,t.y,y.x,y.y)>y.r)return NaN;var v=Math.atan2(y.y-t.y,t.x-y.x);(v=Math.PI/2-v)<0&&(v=2*Math.PI+v),d=v*y.r;var b=y.startAngle+Math.PI/2,x=y.endAngle+Math.PI/2;m=b*y.r,u=x*y.r;var w=this._getPaddingSize(f,a,a.valuesOnTicks,o=(x-b)*y.r,!0,y.isClosedCircle,this._hasColumnSeries());y.isClosedCircle?(o-=w.left+w.right,u-=w.left+w.right):a.valuesOnTicks||(m+=w.left,u-=w.right)}else{if("horizontal"!==n.orientation){if(t<s.x||t>s.x+s.width)return NaN;d=t-s.x,o=s.width}else{if(t<s.y||t>s.y+s.height)return NaN;d=t-s.y,o=s.height}if(this._renderData[e]&&this._renderData[e].xoffsets){let C=this._renderData[e].xoffsets.padding;o-=C.left+C.right,d-=C.left}u=o}return this._smartPlot.scale(d,{min:m,max:u},{min:f.min.valueOf(),max:f.max.valueOf(),type:f.logAxis.enabled?"logarithmic":"linear",base:f.logAxis.base,flip:a.flip})}}getValueAxisValue(t,e){let n=this.seriesGroups[e];if(!n)return;let a=this._getValueAxis(e),s=this._plotRect,o=0,d=NaN;if(n.polar||n.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;let m=this._getPolarAxisCoords(e,s);d=this.renderer._ptdist(t.x,t.y,m.x,m.y),o=m.r,d=o-d}else if("horizontal"===n.orientation){if(t<s.x||t>s.x+s.width)return NaN;d=t-s.x,o=s.width}else{if(t<s.y||t>s.y+s.height)return NaN;d=t-s.y,o=s.height}let f=this._stats.seriesGroups[e];return this._smartPlot.scale(d,{min:0,max:o},{min:f.min.valueOf(),max:f.max.valueOf(),type:f.logarithmic?"logarithmic":"linear",base:f.logBase,flip:!a.flip})}_detectDateFormat(t,e){let n={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};e&&(n=Object.assign({},n,e));let a=[];Array.isArray(t)?a=t:a.push(t);for(let o in n)n[o]={format:n[o],count:0};for(let o=0;o<a.length;o++){const d=a[o];if(null!=d)for(let f in n)try{(d instanceof Date||Smart.Utilities.DateTime.parseDateString(d,void 0,n[f].format))&&n[f].count++}catch(m){}}let s={key:void 0,count:0};for(let o in n)n[o].count>s.count&&(s.key=o,s.count=n[o].count);return s.key?n[s.key].format:""}_testXAxisDateFormat(t){let e=this,n=e._getXAxis(t),a=e._getDataLen(t),s={};if(e.localization.patterns)for(let d in e.localization.patterns)s["local_"+d]=e.localization.patterns[d];let o=[];for(let d=0;d<a&&d<10;d++){const f=e._getDataValue(d,n.dataField,t);null!=f&&o.push(f)}return e._detectDateFormat(o,s)}_getThemeColor(t){if("light"===this.theme)switch(t){case"background":return"#FFFFFF";case"line":return"#BCBCBC";case"band":return"#AAAAAA"}switch(t){case"background":return"#2E2E2E";case"line":return"#707070";case"band":return"#565656"}}})},2157:()=>{Smart.Chart&&(Smart.Chart.prototype._moduleRangeSelector=!0,Smart.Chart.prototype._renderXAxisRangeSelector=function(t,e){const n=this,a=n.seriesGroups[t],s=n._getXAxis(t),o=s?s.rangeSelector:void 0;if(!n._isSelectorRefresh){const y=(o&&o.renderTo?o.renderTo:n).getElementsByClassName("smart-chart-range-selector")[0];y&&y.parentElement.removeChild(y)}if(!s||!1===s.visible||"spider"===a.type||!n._isGroupVisible(t)||!o)return!1;let d="horizontal"===a.orientation;o.renderTo&&(d=!1),n.rightToLeft&&(s.flip=!0);let f=d?n.offsetHeight:n.offsetWidth;f-=4;const m=this._getXAxisStats(t,s,f);let u=s.position;if(o.renderTo&&o.position&&(u=o.position),!this._isSelectorRefresh){const y=o.renderTo,v=document.createElement("div");if(v.className="smart-chart-range-selector smart-unselectable",v.style.position="absolute",v.style.backgroundColor="transparent",v.style.onselectstart=function(){return!1},y)y.appendChild(v),v.style.width=y.offsetWidth+"px",v.style.height=y.offsetHeight+"px",e.width=y.offsetWidth,e.height=y.offsetHeight;else{this.renderer.getContainer().appendChild(v);const b=this._selectorGetSize(s);d?(v.style.left=1+e.x+("right"!==u?-b:e.width)+"px",v.style.top="0",v.style.height=f+"px",v.style.width=b+"px",e.height=b):(v.style.left="2px",v.style.top=e.y+("top"!==u?e.height:-b)+"px",v.style.height=b+"px",v.style.width=f-1+"px")}v.parentDiv=v.parentElement,this._refreshSelector(t,s,m,v,e,d)}return this._isSelectorRefresh=!1,!0},Smart.Chart.prototype._refreshSelector=function(t,e,n,a,s,o){const d=this,f={},m=e.rangeSelector;for(let k in m)f[k]=m[k];delete f.padding;let u=f.minValue,y=f.maxValue;isNaN(u)&&(u=Math.min(n.min.valueOf(),n.dsRange.min.valueOf())),isNaN(y)&&(y=Math.max(n.max.valueOf(),n.dsRange.max.valueOf())),this._isDate(n.min)&&(u=new Date(u)),this._isDate(n.max)&&(y=new Date(y));let v=e.position;m.renderTo&&m.position&&(v=m.position),f.dataField=e.dataField,delete f.rangeSelector,f.type=e.type,f.baseUnit=null!==m.baseUnit?m.baseUnit:e.baseUnit,f.minValue=u,f.maxValue=y,f.flip=e.flip,f.position=v;let b=2,x=2,w=2,C=2;m.renderTo||(b=o?0:s.x,x=o?0:this._rect.width-s.x-s.width,w=o?s.y:5,C=o?this._paddedRect.height-this._plotRect.height:5);let A=m.padding;A=null!=A||m.renderTo?{left:A&&A.left?A.left:b,top:A&&A.top?A.top:w,right:A&&A.right?A.right:x,bottom:A&&A.bottom?A.bottom:C}:{left:b,top:w,right:x,bottom:C};let N=m.dataField;for(let k=0;null==N&&k<this.seriesGroups.length;k++)for(let R=0;null==N&&R<this.seriesGroups[k].series.length;R++)N=this.seriesGroups[k].series[R].dataField;const E={parentChart:this,padding:A,_isRangeSelectorInstance:!0,theme:this.theme,caption:m.caption,description:m.description,titlePadding:m.titlePadding,colorScheme:m.colorScheme||this.colorScheme,backgroundColor:m.backgroundColor||this.backgroundColor||d._getThemeColor("background"),backgroundImage:m.backgroundImage,showBorderLine:null!==m.showBorderLine?m.showBorderLine:!!m.renderTo,borderLineWidth:m.borderLineWidth||this.borderLineWidth,borderLineColor:m.borderLineColor||this.borderLineColor||d._getThemeColor("line"),rightToLeft:null!==m.rightToLeft?m.rightToLeft:this.rightToLeft,greyScale:null!==m.greyScale?m.greyScale:this.greyScale,renderEngine:this.renderEngine,showLegend:!1,animation:"none",enableEvents:!1,showToolTips:!1,dataSource:this.dataSource,xAxis:f,seriesGroups:[{orientation:o?"horizontal":"vertical",valueAxis:{visible:!1},type:m.serieType,skipOverlappingPoints:m.skipOverlappingPoints,columnSeriesOverlap:m.columnSeriesOverlap,columnsGapPercent:m.columnsGapPercent,seriesGapPercent:m.seriesGapPercent,series:[{dataField:N,opacity:.8,lineWidth:1}]}]};m.seriesGroups&&(E.seriesGroups=m.seriesGroups),m.valueAxis.visible&&(E.valueAxis=m.valueAxis),E.showBorderLine||(E.borderLineWidth=1,E.borderLineColor=d._get([this.backgroundColor,this.background,d._getThemeColor("background")]),E.showBorderLine=!0),d._supressBindingRefresh=!0,a.innerHTML="";const O=document.createElement("smart-chart");O.rightToLeft=d.rightToLeft,O.parentDiv=a;for(let k in E)O[k]=E[k];a.appendChild(O),d._rangeSelectorInstances[t]=O,d._supressBindingRefresh=!1;const I=function(){if(!O._plotRect)return;const k=O._paddedRect;if(k.height=O._plotRect.height,o||"top"!==v){if(o){const R=O._renderData[0].xAxis.rect.width;k.width-=R,"right"!==v&&(k.x+=R)}}else k.y+=O._renderData[0].xAxis.rect.height;if(d._createSliderElements(t,a,k,m,{min:f.minValue,max:f.maxValue}),d._rangeSelectorEventData={groupIndex:t,renderTo:a,swapXY:o},d.hasAttribute("aria-owns")){const R=d.getAttribute("aria-owns");d.setAttribute("aria-owns",R+" "+O.id)}else d.setAttribute("aria-owns",O.id)};O.isRendered?I():O.whenRendered(()=>{I()})},Smart.Chart.prototype._createSliderElements=function(t,e,n,a,s){const o=this,d=e.getElementsByClassName("slider")[0];d&&d.parentElement.removeChild(d);const f=a.selectedRangeColor||"blue",m=o._get([a.selectedRangeOpacity,.1]),u=o._get([a.unselectedRangeOpacity,.5]),y=a.unselectedRangeColor||"white",v=a.rangeLineColor||"grey",b=document.createElement("div");for(b.className="slider",b.style.position="absolute",b.style.background=f,b.style.opacity=m,b.style.left=n.x+"px",b.style.top=n.y+"px",b.style.width=n.width+"px",b.style.height=n.height+"px",e.appendChild(b);this._sliders.length<t+1;)this._sliders.push({});function x(H,B){const F=document.createElement("div");return F.className="slider",F.style.position="absolute",F.style.background=H,F.style.opacity=B,F}function w(){const H=document.createElement("div");return H.className="slider",H.style.position="absolute",H.style.background="#FFFFFF",H.style.borderStyle="solid",H.style.borderWidth="1px",H.style.borderRadius="3px",H.style.borderColor=v,H.setAttribute("role","slider"),H.setAttribute("aria-controls",o.id),H}const C=b.getBoundingClientRect(),A=e.getBoundingClientRect();this._sliders[t]={element:b,host:e.firstElementChild,_sliderInitialAbsoluteRect:{x:C.left,y:C.top,width:n.width,height:n.height},_hostInitialAbsolutePos:{x:A.left,y:A.top},getRect:function(){const H=e.getBoundingClientRect();return{x:H.left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:H.top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:n,left:x(y,u),right:x(y,u),leftTop:x(v,u),rightTop:x(v,u),leftBorder:x(v,u),leftBar:w(),rightBorder:x(v,u),rightBar:w()};const N=this._sliders[t];e.appendChild(N.left),e.appendChild(N.right),e.appendChild(N.leftTop),e.appendChild(N.rightTop),e.appendChild(N.leftBorder),e.appendChild(N.rightBorder),e.appendChild(N.leftBar),e.appendChild(N.rightBar);const E=this._renderData[t].xAxis.data.axisStats,O=E.min.valueOf(),I=E.max.valueOf();"number"==typeof E.min?(N.leftBar.setAttribute("aria-valuemin",s.min),N.leftBar.setAttribute("aria-valuemax",s.max),N.leftBar.setAttribute("aria-valuenow",O),N.rightBar.setAttribute("aria-valuemin",s.min),N.rightBar.setAttribute("aria-valuemax",s.max),N.rightBar.setAttribute("aria-valuenow",I)):(N.leftBar.setAttribute("aria-valuemin",s.min.getTime()),N.leftBar.setAttribute("aria-valuemax",s.max.getTime()),N.leftBar.setAttribute("aria-valuenow",E.min.getTime()),N.leftBar.setAttribute("aria-valuetext",E.min.toLocaleString()),N.rightBar.setAttribute("aria-valuemin",s.min.getTime()),N.rightBar.setAttribute("aria-valuemax",s.max.getTime()),N.rightBar.setAttribute("aria-valuenow",E.max.getTime()),N.rightBar.setAttribute("aria-valuetext",E.max.toLocaleString()));let k=this._valueToOffset(t,O),R=this._valueToOffset(t,I);if(k>R){const H=R;R=k,k=H}"horizontal"!==this.seriesGroups[t].orientation?(b.style.left=Math.round(n.x+k)+"px",b.style.top=n.y+"px",b.style.width=Math.round(R-k)+"px",b.style.height=n.height+"px"):(b.style.left=n.x+"px",b.style.top=Math.round(n.y+k)+"px",b.style.width=n.width+"px",b.style.height=Math.round(R-k)+"px"),this._setSliderPositions(t,k,R)},Smart.Chart.prototype._setSliderPositions=function(t,e,n){const a=this.seriesGroups[t],s=this._getXAxis(t),o=s.rangeSelector;let d="horizontal"===a.orientation;s.rangeSelector.renderTo&&(d=!1);let f=s.position;o.renderTo&&o.position&&(f=o.position);const m=this._sliders[t],u=d?"top":"left",y=d?"left":"top",v=d?"height":"width",b=d?"width":"height",x=d?"y":"x",w=d?"x":"y",C=m.rect;m.startOffset=e,m.endOffset=n,m.left.style[u]=C[x]+"px",m.left.style[y]=C[w]+"px",m.left.style[v]=e+"px",m.left.style[b]=C[b]+"px",m.right.style[u]=C[x]+n+"px",m.right.style[y]=C[w]+"px",m.right.style[v]=C[v]-n+1+"px",m.right.style[b]=C[b]+"px",m.leftTop.style[u]=C[x]+"px",m.leftTop.style[y]=C[w]+(d&&"right"===f||!d&&"top"!==f?0:C[b])+"px",m.leftTop.style[v]=e+"px",m.leftTop.style[b]="1px",m.rightTop.style[u]=C[x]+n+"px",m.rightTop.style[y]=C[w]+(d&&"right"===f||!d&&"top"!==f?0:C[b])+"px",m.rightTop.style[v]=C[v]-n+1+"px",m.rightTop.style[b]="1px",m.leftBorder.style[u]=C[x]+e+"px",m.leftBorder.style[y]=C[w]+"px",m.leftBorder.style[v]="1px",m.leftBorder.style[b]=C[b]+"px";let A=C[b]/4;A>20&&(A=20),A<3&&(A=3),m.leftBar.style[u]=C[x]+e-3+"px",m.leftBar.style[y]=C[w]+C[b]/2-A/2+"px",m.leftBar.style[v]="5px",m.leftBar.style[b]=A+"px",m.rightBorder.style[u]=C[x]+n+"px",m.rightBorder.style[y]=C[w]+"px",m.rightBorder.style[v]="1px",m.rightBorder.style[b]=C[b]+"px",m.rightBar.style[u]=C[x]+n-3+"px",m.rightBar.style[y]=C[w]+C[b]/2-A/2+"px",m.rightBar.style[v]="5px",m.rightBar.style[b]=A+"px"},Smart.Chart.prototype._resizeState={},Smart.Chart.prototype._onSliderMouseDown=function(t){t.stopImmediatePropagation(),t.stopPropagation();const e=this;e._sliders[e._rangeSelectorEventData.groupIndex]&&(null!=e._resizeState.state||e._testAndSetReadyResize(t),"ready"===e._resizeState.state&&(e._draggingRangeSelector=!0,e._resizeState.state="resizing"))},Smart.Chart.prototype._valueToOffset=function(t,e){const n=this.seriesGroups[t],a=this._sliders[t],s=a.host._renderData[0].xAxis.data.axisStats,o=s.min.valueOf();let d=s.max.valueOf()-o;0===d&&(d=1);const f=this._getXAxis(t),m="horizontal"===n.orientation?"height":"width",u=(e.valueOf()-o)/d;return a.getRect()[m]*(f.flip?1-u:u)},Smart.Chart.prototype._offsetToValue=function(t,e){const n=this._sliders[t],a=this.seriesGroups[t],s=this._getXAxis(t),o="horizontal"===a.orientation?"height":"width";let d=n.getRect()[o];0===d&&(d=1);const f=n.host._renderData[0].xAxis.data.axisStats,m=f.min.valueOf(),u=f.max.valueOf();let y=e/d*(u-m)+m;return!0===s.flip&&(y=u-e/d*(u-m)),this._isDate(f.min)||this._isDate(f.max)?y=new Date(y):((null==s.dataField||f.useIndeces)&&(y=Math.round(y)),y<f.min&&(y=f.min),y>f.max&&(y=f.max)),y},Smart.Chart.prototype._onSliderMouseUp=function(t){const e=this,n=e._rangeSelectorEventData.groupIndex,a=e._rangeSelectorEventData.swapXY,s=e._sliders[n];if(delete e._draggingRangeSelector,!s||"resizing"!==e._resizeState.state)return;t.stopImmediatePropagation(),t.stopPropagation(),e._resizeState={},e.style.cursor="default";const o=a?"top":"left",d=a?"y":"x",f=s.element.getBoundingClientRect()[o],m=f+(a?s.element.offsetHeight:s.element.offsetWidth),u=s.getRect();let y=e._offsetToValue(n,f-u[d]),v=e._offsetToValue(n,m-u[d]);!s.host._renderData[0].xAxis.data.axisStats.isTimeUnit&&v.valueOf()-y.valueOf()>864e5&&(y.setHours(0,0,0,0),v.setDate(v.getDate()+1),v.setHours(0,0,0,0));const b=e._getXAxis(n);if(b.flip){const w=y;y=v,v=w}for(let w=0;w<e.seriesGroups.length;w++)e._getXAxis(w)===b&&(e._selectorRange[w]={min:y,max:v});e._isSelectorRefresh=!0;const x=e.animation;e.$.fireEvent("rangeSelectionChanging",{instance:e,minValue:y,maxValue:v}),e.animation="none",e.update(),e.animation=x,e.$.fireEvent("rangeSelectionChanged",{instance:e,minValue:y,maxValue:v}),"number"==typeof y?(s.leftBar.setAttribute("aria-valuenow",y),s.rightBar.setAttribute("aria-valuenow",v)):(s.leftBar.setAttribute("aria-valuenow",y.getTime()),s.leftBar.setAttribute("aria-valuetext",y.toLocaleString()),s.rightBar.setAttribute("aria-valuenow",v.getTime()),s.rightBar.setAttribute("aria-valuetext",v.toLocaleString()))},Smart.Chart.prototype._onSliderMouseMove=function(t){const e=this,n=e._rangeSelectorEventData.groupIndex,a=e._sliders[n],s=e._rangeSelectorEventData.swapXY;if(!a)return;const o=a.getRect(),d=a.element,f={left:t.clientX,top:t.clientY},m=d.getBoundingClientRect(),u=s?"top":"left",y=parseFloat(getComputedStyle(d)[u]),v=s?"height":"width",b=s?"y":"x";if("resizing"===e._resizeState.state){if(t.stopImmediatePropagation(),t.stopPropagation(),"left"===e._resizeState.side){let C=Math.round(f[u]-m[u]),A=o[b];if(m[u]+C>=A&&m[u]+C<=A+o[v]){let N=parseInt(y),E=Math.max(2,(s?d.offsetHeight:d.offsetWidth)-C);d.style[v]=E+"px",d.style[u]=N+C+"px"}}else if("right"===e._resizeState.side){let C=s?d.offsetHeight:d.offsetWidth,A=Math.round(f[u]-m[u]-C),N=o[b];if(m[u]+C+A>=N&&m[u]+A+C<=N+o[v]){let E=Math.max(2,C+A);d.style[v]=E+"px"}}else if("move"===e._resizeState.side){let C=s?d.offsetHeight:d.offsetWidth,A=parseInt(y),N=Math.round(f[u]-e._resizeState.startPos);m[u]+N>=o[b]&&m[u]+N+C<=o[b]+o[v]&&(e._resizeState.startPos=f[u],d.style[u]=A+N+"px")}const x=parseInt(y)-a.rect[b];e._setSliderPositions(n,x,x+(s?d.offsetHeight:d.offsetWidth))}else e._testAndSetReadyResize(t)},Smart.Chart.prototype._testAndSetReadyResize=function(t){const e=this,n=e._rangeSelectorEventData,a=n.renderTo,o=e._sliders[n.groupIndex],d=n.swapXY,f=o.getRect(),m=o.element,u={left:t.clientX,top:t.clientY},y=m.getBoundingClientRect(),v=d?"left":"top",b=d?"top":"left",w=e._isTouchDevice?30:5;u[v]>=y[v]&&u[v]<=y[v]+f[d?"width":"height"]?Math.abs(u[b]-y[b])<=w?(a.style.cursor=d?"row-resize":"col-resize",e._resizeState={state:"ready",side:"left"}):Math.abs(u[b]-y[b]-(d?m.offsetHeight:m.offsetWidth))<=w?(a.style.cursor=d?"row-resize":"col-resize",e._resizeState={state:"ready",side:"right"}):u[b]+w>y[b]&&u[b]-w<y[b]+(d?m.offsetHeight:m.offsetWidth)?(a.style.cursor="pointer",e._resizeState={state:"ready",side:"move",startPos:u[b]}):(a.style.cursor="default",e._resizeState={}):(a.style.cursor="default",e._resizeState={})},Smart.Chart.prototype._selectorGetSize=function(t){return t.rangeSelector.renderTo?0:t.rangeSelector.size||this._paddedRect.height/3})},6541:()=>{Smart.Chart&&(Smart.Chart.prototype._moduleWaterfall=!0,Smart.Chart.prototype._isSummary=function(t,e){const n=this.seriesGroups[t];for(let a=0;a<n.series.length;a++)if(void 0!==n.series[a].summary&&void 0!==this._getDataValue(e,n.series[a].summary,t))return!0;return!1},Smart.Chart.prototype._applyWaterfall=function(t,e,n,a,s,o,d,f,m){const u=this.seriesGroups[n];if(0===t.length)return t;let y=a;const v={},b=[];let x;const w=[];for(let A=0;A<u.series.length;A++)w.push(this._isSerieVisible(n,A));const C={};for(let A=0;A<e;A++){let N=a,E=0;const O=this._isSummary(n,A);for(let I=0;I<t.length;I++){if(!w[I])continue;let k=0;if(O){k=N===a?s:0,t[I][A].value=v[I],t[I][A].summary=!0,x=t[I][A].value<k,f&&(x=!x);let F=0;F=isNaN(o)?this._getDataPointOffsetDiff(t[I][A].value,k,k,NaN,d,a,f):this._getDataPointOffsetDiff(t[I][A].value+E,0===E?s:E,k||s,o,d,a,f),t[I][A].to=N+(x?F:-F),t[I][A].from=N,m&&(E+=t[I][A].value,N=t[I][A].to);continue}const R=m?-1:I;if(isNaN(t[I][A].value))continue;void 0===C[R]&&(k=s,C[R]=!0),x=t[I][A].value<k,f&&(x=!x);let H=NaN;H=m?y:0===A?a:t[I][b[I]].to;let B=0;B=isNaN(o)?this._getDataPointOffsetDiff(t[I][A].value,k,k,NaN,d,a,f):this._getDataPointOffsetDiff(t[I][A].value+(isNaN(v[R])?0:v[R]),isNaN(v[R])?s:v[R],k||s,o,d,H,f),t[I][A].to=y=H+(x?B:-B),t[I][A].from=H,isNaN(v[R])?v[R]=t[I][A].value:v[R]+=t[I][A].value,-1===R&&(isNaN(v[I])?v[I]=t[I][A].value:v[I]+=t[I][A].value),m||(b[I]=A)}}return t})},6057:()=>{(()=>{Smart.DataAdapter=window.smartDataAdapter=class{constructor(e){e||(e={});const n=Object.assign(this,e);n.key=(65536*(1+Math.random())|0).toString(16).substring(1),n.$document=Smart.Utilities.Extend(document),n.boundSource=!1===n.observable||n.virtualDataSource?[]:new Smart.ObservableArray,n.dataItemById=[],void 0===n.allowAdd&&(n.allowAdd=!0),void 0===n.allowRemove&&(n.allowRemove=!0),void 0===n.allowUpdate&&(n.allowUpdate=!0),void 0===n.mapChar&&(n.mapChar="."),n.observable=void 0===e.observable&&!n.virtualDataSource,void 0===n.sanitizeHTML&&(n.sanitizeHTML="blackList"),n._expandedRowIds=[],e.dataSource||(n.dataSource=[]),e.dataFields||(n.dataFields=[]),e.dataSourceType||(n.dataSourceType="array"),e.id||(n.id=null),e.autoFetch||(n.autoFetch=!0),e.dataFields&&(n.dataFields=e.dataFields),Object.defineProperty(n,"groupBy",{configurable:!1,enumerable:!0,get:()=>n._groupBy?n._groupBy:[],set(a){const s=()=>{n.boundHierarchy=null,n.refreshHierarchy(),n.onGroup&&n.onGroup()};n._groupBy=new Smart.ObservableArray(a),n._groupBy.notify(function(){s()}),n.isInitialized&&s()}}),n.groupBy=e.groupBy?e.groupBy.toArray?e.groupBy.toArray():e.groupBy:[],e&&!1!==e.autoBind&&n.dataBind(),n.isInitialized=!0}beginUpdate(){this.isUpdating=!0}endUpdate(){const e=this;e.isUpdating=!1,e.refreshIndexes(),e.refreshHierarchy()}get expandHierarchy(){return void 0===this._expandHierarchy&&(this._expandHierarchy=!1),this._expandHierarchy}set expandHierarchy(e){const n=this;n._expandHierarchy=e,n.isInitialized&&n.refreshHierarchy()}_getDataField(e){switch(e.name){case"leaf":case"parent":case"expanded":case"checked":case"selected":case"level":case"icon":case"data":case"group":case"children":case"items":e.map=e.map?e.map.replace(e.name,"$"+e.name):e.name,e.name="$"+e.name}}get dataFields(){return this._dataFields}set dataFields(e){const n=this;return n._dataFields=n._getDataFieldObjects(e),n._dataFields}_getDataFieldObjects(e){const n=this;let a=[];if("number"==typeof e){const s="A".charCodeAt(0);let o="",d=0;for(let f=0;f<e;f++){const m=String.fromCharCode(s+d);d++,a.push({name:o+m,dataType:"string"}),d>=26&&(d=0,o+="A")}}else if(Array.isArray(e)&&e.length>0)for(let s=0;s<e.length;s++){const o=e[s];if("string"==typeof o){const d=o.split(":"),f=d[0].trim(),m=d.length>1?d[1].trim():"string";a.push({name:f,dataType:m})}else a.push(o);n._getDataField(a[a.length-1])}return a}get dataSource(){const e=this;return e._dataSource||(e._dataSource=[]),e._dataSource}set dataSource(e){const n=this;n._dataSource=e,n.isInitialized&&(n.boundSource=!1===n.observable||n.virtualDataSource?[]:new Smart.ObservableArray,n.dataItemById=[],n.bindingCompleted=!1,n.dataBind(),n.refreshIndexes())}get canNotify(){const e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify}set canNotify(e){this._canNotify=e}_notify(e){const n=this;n.canNotify&&n.notifyFn&&n.notifyFn(e)}notify(e){e&&(this.notifyFn=e)}toArray(){const e=this;return!1===e.observable?e.boundSource:e.boundSource.toArray()}dataBind(){const e=this;e.bindingCompleted=!1,e.clear();const n=()=>{e.observable&&(e.boundSource.notify||(e.boundSource=new Smart.ObservableArray),e.boundSource.notify(function(a){if("update"===a.action&&a.path&&a.path.indexOf(".")>=0&&-1===a.path.indexOf("children")&&-1===a.path.indexOf("loaded")&&-1===a.path.indexOf("level")&&-1===a.path.indexOf("leaf")&&-1===a.path.indexOf("expanded")){let s=!1;for(let o=0;o<e.dataFields.length;o++)a.path.indexOf(e.dataFields[o].name)>=0&&(s=!0);e._notify&&s&&e._notify({action:"update",data:a.target,index:a.index})}})),e._onBindingComplete()};"string"==typeof e.dataSource&&(e.dataSource.indexOf(".json")>=0||"json"===e.dataSourceType)?(e.url=e.dataSource,e.dataSourceType="json",new t(e,a=>{e.dataSource=a})):"string"==typeof e.dataSource&&e.dataSource.indexOf(".xml")>=0?(e.url=e.dataSource,e.dataSourceType="xml",new t(e,a=>{e.dataSource=a})):"string"==typeof e.dataSource&&e.dataSource.indexOf(".xlsx")>=0?(e.url=e.dataSource,e.dataSourceType="xlsx",new t(e,a=>{if(!a[0])return a=[],e._bindToArray(),void n();const s=Object.keys(a[0]),o={},d=[];if(!1!==e.exportHeader){let f=0;for(let m in s)o[s[m]]=e.dataFields[f++].name;for(let m=1;m<a.length;m++){const u=a[m],y={};for(let v in s){const b=s[v];y[o[b]]=u[b]}d.push(y)}e.dataSource=d}e._bindToArray(),n()})):"string"==typeof e.dataSource&&e.dataSource.indexOf(".csv")>=0?(e.url=e.dataSource,e.dataSourceType="csv",new t(e,a=>{e.dataSource=a})):"string"==typeof e.dataSource&&e.dataSource.indexOf(".tsv")>=0?(e.url=e.dataSource,e.dataSourceType="tsv",new t(e,a=>{e.dataSource=a})):"string"==typeof e.dataSource&&(e.dataSource.indexOf(".ics")>=0||e.dataSource.indexOf(".php")>=0&&"ics"===e.dataSourceType||e.dataSource.indexOf(".txt")>=0&&"ics"===e.dataSourceType)?(e.url=e.dataSource,e.dataSourceType="ics",new t(e,a=>{e.dataSource=a})):"string"==typeof e.dataSource&&(e.dataSource.indexOf("BEGIN:VCALENDAR")>=0||"ics"===e.dataSourceType)?(e._bindToICS(),n()):"string"==typeof e.dataSource&&(e.dataSource.indexOf("<?xml")>=0||"xml"===e.dataSourceType)?(e._bindToXML(),n()):"string"==typeof e.dataSource&&(e.dataSource.indexOf("  ")>=0||e.dataSource.indexOf(",")>=0||"tsv"===e.dataSourceType||"csv"===e.dataSourceType||"tab"===e.dataSourceType)?(e._bindToCSV(),n()):"array"===e.dataSourceType?(e._bindToArray(),n()):"json"===e.dataSourceType&&(e._bindToJSON(),n())}_bindToXML(){const e=this;let n=null,a=null;window.DOMParser&&(n=new DOMParser,a=n.parseFromString(e.dataSource,"text/xml")),void 0===e.root&&(e.root=""),void 0===e.record&&(e.record="");const s=a.querySelectorAll(e.root+" "+e.record),o=s.length,d=[];let f=e.dataFields?e.dataFields.length:0;if(0===f){const m=s[0],u=new Array;for(let y in m)u[u.length]={name:y};e.dataFields=u,f=u.length}for(let m=0;m<o;m++){const u=s[m],y={};if(void 0===u)break;if(e.id){const v=u.querySelector(e.id);y[e.id]=v.textContent}for(let v=0;v<f;v++){const b=e.dataFields[v],x=u.querySelector(b.map||b.name);y[b.name]=x.textContent}d[m]=y}e.canNotify=!1,e.dataSource=d,e.canNotify=!0,e._bindToArray()}static BindToCSV(e,n=!1){const a=""+e,s=-1===a.indexOf(",")?"\t":",",o=a.split("\r"),d=new Array,f=[];let m=a.split("\n"),u=m.length;1===u&&o.length>1&&(m=o,u=m.length);const y=!0===n;for(let v=0;v<u;v++){const b={},x=m[v].split(s);for(let w=0;w<x.length;w++){let C=f[w],A=x[w];if(C||(f.push({name:A.trim()}),C=f[f.length-1]),A=A.trim(),1!==v||y)switch(C.dataType){case"boolean":A="false"!==A;break;case"number":A=parseFloat(A);break;case"date":A=new Date(A)}else{let N="string";"false"===A||"true"===A?(N="boolean",A="false"!==A):isNaN(parseInt(A)&&-1===A.indexOf("/"))?(A.indexOf("-")>=0||A.indexOf("/")>=0||A.indexOf(":")>=0)&&"Invalid Date"!==new Date(A).toString()&&(N="date",A=new Date(A)):(N="number",A=parseFloat(A)),C.dataType||(C.dataType=N)}b[C.name]=A}(y||v>0)&&d.push(b)}return d}_bindToCSV(){const e=this,n=""+e.dataSource,a=-1===n.indexOf(",")?"\t":",",s=n.split("\r"),o=new Array;let d=n.split("\n"),f=d.length;1===f&&s.length>1&&(d=s,f=d.length);const m=e.dataFields.length>0;for(let u=0;u<f;u++){const y=d[u],v={},b=d[u].split(a);for(let x=0;x<b.length;x++){let w=e.dataFields[x],C=b[x];if(w||(e.dataFields.push({name:C.trim()}),w=e.dataFields[e.dataFields.length-1]),w.map&&(C=y[w.map]),C=C.trim(),1!==u||m)switch(w.dataType){case"boolean":C="false"!==C;break;case"number":C=parseFloat(C);break;case"date":C=new Date(C)}else{let A="string";"false"===C||"true"===C?(A="boolean",C="false"!==C):isNaN(parseInt(C)&&-1===C.indexOf("/"))?(C.indexOf("-")>=0||C.indexOf("/")>=0||C.indexOf(":")>=0)&&"Invalid Date"!==new Date(C).toString()&&(A="date",C=new Date(C)):(A="number",C=parseFloat(C)),w.dataType||(w.dataType=A)}v[w.map||w.name||x.toString()]=C}(m||u>0)&&o.push(v)}e.canNotify=!1,e.dataSource=o,e.canNotify=!0,e._bindToArray()}_onBindingComplete(){const e=this;e._buildHierarchy(),e.onBindingComplete&&e.onBindingComplete({data:e.boundSource}),e._notify&&e._notify({action:"bindingComplete",data:e.boundSource}),e.bindingCompleted=!0}refreshHierarchy(){this.isUpdating||this._buildHierarchy()}find(){return this.boundSource.find.apply(this.boundSource,arguments)}onVirtualDataSourceRequested(e,n){const a=this;let s=n?n.first:1/0,o=n?n.last:1/0,d=n?n.row:null;if(void 0===s&&(s=1/0),void 0===o&&(o=1/0),a.virtualFirstIndex=s,a.virtualLastIndex=o,a.virtualDataSource){const f=function(u){void 0!==u.virtualDataSourceLength&&(a.virtualDataSourceLength=u.virtualDataSourceLength),new Smart.DataAdapter({dataSource:u.dataSource,dataFields:u.dataFields||a.dataFields,data:n,keyDataField:u.keyDataField,parentDataField:u.parentDataField,observable:!1,id:u.id||a.id,onBindingComplete(y){if(void 0===n.result&&(n.result=!0),a.virtualDataSourceOnExpand&&d)return a.groupBy.length>0?y.data&&y.data.length>0&&a.add(y.data):y.data&&y.data.length>0?a.add(y.data,d.$.id):d.leaf=!0,a.onFilter&&a.onFilter(),void e(n);s===1/0&&"scroll"===n.action?y.data&&y.data.length&&a.add(y.data):(a.canNotify=!1,a.dataSource=y.data,a.canNotify=!0),a.onFilter&&a.onFilter(),e(n)}})};let m={};if(n.sorting&&n.sorting.length>0){let u=[];for(let v in n.sorting)u.push(v+" "+n.sorting[v].sortOrder.toUpperCase());const y=" ORDER BY "+u.join(", ");m.orderBy=y}else m.orderBy="";if(void 0===s||void 0===o||0===s&&0===o)m.limit="";else{const u=o-s;m.limit=" LIMIT "+u+" OFFSET "+s,isNaN(u)&&(m.limit="")}if(m.groupBy=n.grouping&&n.grouping.length>0?" GROUP BY "+n.grouping[0]:"",n.filtering&&n.filtering.length>0){const u=(x,w)=>{switch(w.condition){case"EMPTY":return x+" = ''";case"NOT_EMPTY":return x+" != ''";case"EQUAL":return x+" = '"+w.value+"'";case"NOT_EQUAL":return x+" != '"+w.value+"'";case"CONTAINS_CASE_SENSITIVE":case"CONTAINS":return x+" LIKE '%"+w.value+"%'";case"DOES_NOT_CONTAIN_CASE_SENSITIVE":case"DOES_NOT_CONTAIN":return x+" NOT LIKE '%"+w.value+"%'";case"STARTS_WITH_CASE_SENSITIVE":case"STARTS_WITH":return x+" LIKE '"+w.value+"%'";case"ENDS_WITH_CASE_SENSITIVE":case"ENDS_WITH":return x+" LIKE '%"+w.value+"'";case"NULL":return x+" IS NULL";case"NOT_NULL":return x+" IS NOT NULL"}},y=(x,w)=>{switch(w.condition){case"EQUAL":return x+" = "+w.value;case"NOT_EQUAL":return x+" != "+w.value;case"GREATER_THAN":return x+" > "+w.value;case"GREATER_THAN_OR_EQUAL":return x+" >= "+w.value;case"LESS_THAN":return x+" < "+w.value;case"LESS_THAN_OR_EQUAL":return x+" <= "+w.value;case"NULL":return x+" IS NULL";case"NOT_NULL":return x+" IS NOT NULL";case"RANGE":return"("+x+" >= "+w.value+" and "+x+" <= "+w.valueTo+")"}},v=(x,w,C)=>{if(C.operator){var A=x(w,C.condition1),N=x(w,C.condition2);return"("+A+" "+C.operator+" "+N+")"}return x(w,C)};let b=[];for(let x in n.filtering){const w=n.filtering[x];let C=w.filters,A=[],N=" AND ";for(let E=0;E<C.length;E++){const O=C[E];switch(O.type){case"stringFilter":A.push(v(u,x,O));break;case"numericFilter":case"dateFilter":case"booleanFilter":A.push(v(y,x,O))}1===w.logicalOperators[E]&&(N=" OR ")}b.push("("+A.join(N)+")")}if(b.length>0){let x=" AND ";n.filterOperator&&"or"===n.filterOperator.toLowerCase()&&(x=" OR "),m.where=" WHERE "+b.join(x)}else m.where=""}else m.where="";if("dataBind"===n.action&&a.virtualDataSourceOnExpand&&a.keyDataField&&a.parentDataField&&(m.where?m.where+=" AND "+a.parentDataField+" IS NULL":m.where=" WHERE "+a.parentDataField+" IS NULL"),"update"===n.action){const u=[];for(let y in n.edit.row)"$"!==y&&y!==a.id&&u.push(y+"='"+n.edit.row[y]+"'");m.update=" SET "+u.join(", ")+" WHERE "+a.id+"="+n.edit.row[a.id]}if("remove"===n.action){const u=[];for(let y in n.edit.row)"$"!==y&&y!==a.id&&u.push(y+" = '"+n.edit.row[y]+"'");m.remove=" WHERE "+a.id+"="+n.edit.row[a.id]}if("add"===n.action){const u=[],y=[];for(let v in n.edit.row)"$"!==v&&(y.push(v),u.push("'"+n.edit.row[v]+"'"));m.add=" ("+y.join(", ")+")  VALUES ("+u.join(", ")+")"}"expand"===n.action?(a.groupDataField?m.where?m.where+=" AND "+a.groupDataField+" = '"+d[a.groupDataField]+"'":m.where=" WHERE "+a.groupDataField+" = '"+d[a.groupDataField]+"'":a.keyDataField&&a.parentDataField?m.where?m.where+=" AND "+a.parentDataField+" = "+d[a.keyDataField]:m.where=" WHERE "+a.parentDataField+" = "+d[a.keyDataField]:m.where?m.where+=" AND "+d.groupDataField+" = '"+d.label+"'":m.where=" WHERE "+d.groupDataField+" = '"+d.label+"'",m.limit="",m.groupBy="",a.virtualDataSourceOnExpand(f,{first:s,last:o,row:n.row,sorting:n.sorting,filtering:n.filtering,grouping:n.grouping,action:n.action,query:m})):a.virtualDataSource(f,{first:s,last:o,sorting:n.sorting,filtering:n.filtering,filterOperator:n.filterOperator||"and",grouping:n.grouping,action:n.action,query:m})}else e()}add(e,n){const a=this;if(!e)return;let s=!0;const o=function(d){const f=a._getDataItem(d,a.boundSource.length);if(a.dataItemById[f.$.id])return void 0!==n&&(f.$.parentId=n),null;a[a.boundSource.length]=f,a.dataItemById[f.$.id]=f;const m=a.boundSource.push(f);return void 0!==n&&(f.$.parentId=n),m||(s=!1),f};if(e.length){let d=[];for(let f=0;f<e.length;f++){const m=o(e[f]);m&&d.push(m)}a._notify({action:"add",data:d})}else{const d=o(e);a._notify({action:"add",data:d})}return a.refreshHierarchy(),s}refreshIndexes(){const e=this;for(let a=0;a<e.boundSource.length;a++)e[a]=e.boundSource[a],e[a].$.index=a,e.dataItemById[e[a].$.id]=e[a];let n=e.boundSource.length;for(;e[n];)delete e[n],n++}removeLast(){const e=this;delete e[e.boundSource.length-1];const n=e.boundSource.pop();return delete e.dataItemById[n.$.id],e._notify({action:"removeLast",data:n}),e.refreshHierarchy(),n}remove(e){const n=this;let a=n.indexOf(e);-1===a&&e&&e.$&&(a=n.indexOf(n.dataItemById[e.$.id])),n.removeAt(a)}removeAt(e){const n=this,a=n.boundSource[e];if(!a)throw new Error("Invalid Item Index");n.boundSource.splice(e,1),delete n.dataItemById[a.$.id],n.refreshIndexes(),n._notify({action:"remove",index:e,data:a}),n.refreshHierarchy()}update(e,n){const a=this;if(Smart.Utilities.Types.isArray(e)&&Smart.Utilities.Types.isArray(n)&&0===e.length&&0===n.length)return void a.refreshHierarchy();if(n.length&&e.length){let d=[];for(let f=0;f<e.length;f++){const m=a._getDataItem(n[f],e[f]),u=e[f];d.push(m),a.boundSource[u]=m,a[u]=a.boundSource[u],a.dataItemById[m.$.id]=a[u]}return a._notify({action:"update",index:e,data:d}),void a.refreshHierarchy()}const s=a._getDataItem(n,e);return s.$.id=a.boundSource[e].$.id,a.boundSource[e]=s,a[e]=a.boundSource[e],a.dataItemById[s.$.id]=a[e],a._notify({action:"update",index:e,data:s}),a.refreshHierarchy(),s}insert(e,n){const a=this;if(n.length){const o=[];for(let d=0;d<n.length;d++){const f=a._getDataItem(n[d],e+d);o.push(f)}n=o}else n=a._getDataItem(n,e);const s=a.boundSource.splice(e,0,n);return a.refreshIndexes(),a._notify({action:"insert",index:e,data:n}),a.refreshHierarchy(),s}move(e,n){if(n>e&&n-e==1||e===n)return;const a=this,s=a.boundSource.splice(e,1)[0];n>e&&n--,a.boundSource.splice(n,0,s),a.refreshIndexes(),a._notify({action:"move",index:n,data:a.boundSource[n]}),a.refreshHierarchy()}indexOf(e){return this.boundSource.indexOf(e)}get length(){const e=this;return void 0!==e.virtualDataSourceLength?e.virtualDataSourceLength:e.dataSourceLength?e.dataSourceLength:"number"==typeof e.dataSource?e.dataSource:e.bindingCompleted?e.boundSource.length:e.dataSource&&"string"!=typeof e.dataSource&&e.dataSource.length?e.dataSource.length:e.boundSource.length}clear(){const e=this;if(!e.isInitialized)return e._cachedValues=[],void(e.dataItemById=[]);for(let n=0;n<e.boundSource.length;n++)delete e[n];e._expandedRowIds=[],e._cachedValues=[],e.boundSource=e.observable?new Smart.ObservableArray:[],e.dataItemById=[],e.refreshHierarchy()}_getId(e,n,a){if(null===e||void 0===e.name||!e.name||!n.getAttribute){if(e&&e.toString().length>0&&n.getAttribute){let s=n.getAttribute(e);if(null!==s&&s.toString().length>0)return s.trim().split(" ").join("").replace(/([ #;?%&,.+*~\':'!^$[\]()=>|\/@])/g,"");{let o=e.split(this.mapChar);if(o.length>1){let d=n;for(let f=0;f<o.length;f++)void 0!==d&&(d=d[o[f]]);if(void 0!==d)return d}else if(void 0!==n[e])return n[e]}}return a}{let s=n.getAttribute(e.name);if(null!==s&&s.toString().length>0)return s;if(e.map)try{let o=n.getAttribute(e.map);if(null!==o&&o.toString().length>0)return o}catch(o){return a}}}_buildHierarchy(){const e=this;if(e.reservedNames){const a=e.reservedNames;a.leaf||(a.leaf="leaf"),a.parent||(a.parent="parent"),a.expanded||(a.expanded="expanded"),a.checked||(a.checked="checked"),a.selected||(a.selected="selected"),a.level||(a.level="level"),a.data||(a.data="data")}else e.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};const n=e.reservedNames;if(e.childrenDataField){const a=[];for(let s=0;s<e.boundSource.length;s++){const o=Object.assign({},e.boundSource[s]);if(!o)continue;a.push(o);const d=function(m){const u=e.childrenDataField.split(e.mapChar);let y=null;if(u.length>1){let v=m;for(let b=0;b<u.length;b++)void 0!==v&&(v=v[u[b]]);y=v}else y=m.children;m.children=y,(null==m.children||m.children&&0===m.children.length)&&(m[n.leaf]=!0)};d(o),o[n.level]=0,o.$||(o.$={}),o[n.parent]=null,o[n.data]=o,void 0===o[n.expanded]&&(o[n.expanded]=!1,e.expandHierarchy&&(o[n.expanded]=!0));const f=function(m,u){if(u)for(let y=0;y<u.length;y++){let v=e._getDataItem(u[y],y);v&&(d(v),e.id||(v.$.id=function(){const x=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return x()+x()}()),v[n.level]=m[n.level]+1,v[n.parent]=m,v[n.data]=Object.assign({},v),m&&(m.children[y]=v),void 0===v[n.expanded]&&(v[n.expanded]=!1,e.expandHierarchy&&(v[n.expanded]=!0)),f(v,v.children))}else m.children=new Array};f(o,o.children)}if(e.boundHierarchy=a,!e._boundSourceUpdate){for(let s=0;s<e.boundHierarchy.length;s++){const o=e.boundHierarchy[s];if(o.children){const d=function(f){if(e.dataItemById[f.$.id]||(e.boundSource.canNotify=!1,e.dataItemById[f.$.id]=f,e.boundSource.canNotify=!0),f.children)for(let m=0;m<f.children.length;m++){const u=f.children[m];u.children&&d(u)}};d(o)}}e._boundSourceUpdate=!0}}if(e.xmlRoot&&"xml"===e.dataSourceType&&(e.boundHierarchy=this._getHierarchy("uid","_parentuid","children",null,e.boundSource)),e.keyDataField&&e.parentDataField)return["keyDataField","parentDataField"].forEach(a=>{"parent"===e[a]&&(e[a]="$"+e[a])}),void(e.boundHierarchy=this._getHierarchy(e.keyDataField,e.parentDataField,"children",null,e.boundSource));e.groupBy&&e.groupBy.length>0?e.boundHierarchy=this._getGroupHierarchy(e.groupBy,"children","label",null,"data",null,"parent",e.boundSource):e.virtualDataSourceOnExpand&&(e.boundHierarchy=this._getHierarchy("id","parentId","children",null,e.boundSource))}_getGroupHierarchy(e,n,a,s,o,d,f,m,u){let y=this;u||(u=0);let v=y.reservedNames;const b=function(){function O(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return O()+O()+"-"+O()+"-"+O()+"-"+O()+"-"+O()+O()+O()};let x=new Array;for(let O=0;O<e.length;O++)x[O]=b();n||(n="children"),a||(a="group"),o||(o="item"),f||(f="parent"),void 0===d&&(d="value");const w=new Array,C=new Array;let A=0;const N=function(O){let I=O;if(s)for(let k in s){const R=s[k];R.name&&R.map&&(I[R.map]=I[R.name])}return I};let E=!1;for(let O=0;O<m.length;O++){let I=Object.assign({},N(m[O]));I[v.leaf]=!1;let k=new Array,R=0;for(let F=0;F<e.length;F++){const z=e[F],$=I[z];null!=$?((""===$||void 0===$&&0===F)&&(E=!0),k[R++]={value:$,group:z,hash:x[F]}):(k[R++]={value:null,group:z,hash:x[F]},0===F&&(E=!0))}if(k.length!==e.length)break;let H=null,B="";for(let F=0;F<k.length;F++){const z=k[F].value,$=k[F].group;if(B=B+"_"+k[F].hash+"_"+z,null==C[B]){if(null===H){H={$:{}},H[v.level]=0,H[v.leaf]=!1,H[f]=null,H[a]=z,H[o]=I,H.groupDataField=$,H[$]||(H[$]=H.data[$]),void 0!==I[v.expanded]?H[v.expanded]=I[v.expanded]:(H[v.expanded]=!1,y.expandHierarchy&&(H[v.expanded]=!0)),d&&(H[d]=I[d]),H[n]=new Array;let W=w.length+u;this.id&&"number"!=typeof I.$.id&&!isFinite(I.$.id)||(W="Item"+W),void 0===H.$.id&&(H.$.id=W),y._expandedRowIds[H.$.id]&&(H[v.expanded]=!0),w[A++]=H}else{const W={$:{}};W[v.level]=H[v.level]+1,W[f]=H,W[a]=z,W[n]=new Array,W[o]=I,W.groupDataField=$,W[v.leaf]=!1,W[$]||(W[$]=W.data[$]),void 0!==I[v.expanded]?W[v.expanded]=I[v.expanded]:(W[v.expanded]=!1,y.expandHierarchy&&(W[v.expanded]=!0)),d&&(W[d]=I[d]),void 0===W.$.id&&(W.$.id=H.$.id+"_"+H[n].length),y._expandedRowIds[W.$.id]&&(W[v.expanded]=!0),H[n][H[n].length]=W,H=W}C[B]=H}else H=C[B]}I&&(I[v.leaf]=!0),null!==H?(null===this.id?void 0===I.$.id&&(I.$.id=H.$.id+"_"+H[n].length):void 0===I.$.id&&-1===I.$.id.toString().indexOf(H.$.id)&&(I.$.id=H.$.id+"_"+I.$.id),I[f]=H,I[v.level]=H[v.level]+1,H[n][H[n].length]=I):void 0===I.$.id&&(I.$.id=b())}if(E){let O=null,I=!1;for(let k=0;k<w.length;k++){const R=w[k];if(!R[R.groupDataField]){O=R,O.$.id.toString().startsWith("Item")&&(I=!0),w.splice(k,1);break}}if(O&&(w.push(O),I))for(let k=0;k<w.length;k++)w[k].$.id="Item"+k}return w}_getHierarchy(e,n,a,s,o){const d=this,f=new Array;let m=this.boundSource;if(o&&(m=o),0===this.boundSource.length)return null;const u=null!==a?a:"children";let y=new Array,v=m,b=v.length,x=d.reservedNames;const w=function(C){let A=C;if(s)for(let N in s){const E=s[N];E.name&&E.map&&(A[E.map]=A[E.name])}return A};for(let C=0;C<b;C++){let A=v[C],N=A[n],E=A[e];"parentId"===n&&(N=A.$.parentId),"id"===e&&(E=A.$.id),A[u]=new Array,d.expandHierarchy&&void 0===A[x.expanded]&&(A[x.expanded]=d.expandHierarchy),y[E]={parentId:N,item:A}}for(let C=0;C<b;C++){const A=v[C];let N=A[n],E=A[e];if("parentId"===n&&(N=A.$.parentId),"id"===e&&(E=A.$.id),void 0!==y[N]){let O={parentId:N,item:y[E].item},I=y[N].item;I[u]||(I[u]=new Array);let k=I[u].length;O=O.item,x?O[x.parent]=I:O.parent=I;const R=w(O);I[u][k]=R,y[N].item=I,y[E].item=O}else{let O=y[E].item;x?void 0===O[x.parent]&&(O[x.parent]=null):void 0===O.parent&&(O.parent=null);const I=w(O);x?I[x.level]=0:I.level=0,f[f.length]=I}}if(0!==f.length){let C=function(A,N){for(let E=0;E<N.length;E++){const O=N[E];x?O[x.level]=A:O.level=A;const I=O[u];I&&I.length>0?(O.leaf=!1,C(A+1,I)):d.virtualDataSourceOnExpand?void 0===O.leaf&&(O.leaf=!1):x?O[x.leaf]=!0:O.leaf=!0}};C(0,f)}return f}summarize(e,n){Array.isArray(e)||(e=[e]);let s=[];for(let u=0;u<e.length;u++){const y=e[u];for(let v in y)s.push({dataField:v,functions:y[v]})}e=s;let o={},d=new Array;n||(n=this.boundSource);let f=n.length,m=0;if(0!==f&&void 0!==f){for(let u=0;u<f;u++){let y=n[u];if((!y||!y.$||!1!==y.$.filtered)&&y){m++;for(let v=0;v<e.length;v++){const b=e[v];let x=y[b.dataField];if(b.functions&&b.functions.length>0){o[b.dataField]=o[b.dataField]||{},d[b.dataField]=d[b.dataField]||0,d[b.dataField]++;const w=function(N){for(let E in N){let O=o[b.dataField][E];null==O&&(o[b.dataField][E]=0,O=0),"function"==typeof N[E]&&(O=N[E](O,x,b.dataField,y)),o[b.dataField][E]=O}},C=x;let A=parseFloat(x);A=!isNaN(A),C&&C.toDate&&(A=!1),"string"==typeof x&&x.startsWith("+")&&(A=!1),A&&(x=parseFloat(x)),"number"==typeof x&&isFinite(x)?b.functions.forEach(function(N){let E=o[b.dataField][N];if(null==E&&(E=0,"min"===N&&(E=9999999999999),"max"===N&&(E=-9999999999999),"median"===N&&(E=[])),"sum"===N||"avg"===N||"stdev"===N||"stdevp"===N||"var"===N||"varp"===N)E+=parseFloat(x);else if("product"===N)0===u?E=parseFloat(x):E*=parseFloat(x);else if("min"===N)E=Math.min(E,parseFloat(x));else if("max"===N)E=Math.max(E,parseFloat(x));else if("count"===N)E++;else if("median"===N)E.push(parseFloat(x));else if("blank"===N)E=o[b.dataField][N],null==E&&(E=0),x||E++;else if("filled"===N)E=o[b.dataField][N],null==E&&(E=0),void 0!==x&&E++;else if("unique"===N)E=o[b.dataField][N],null==E&&(E=[]),-1===E.indexOf(x)&&E.push(x);else if("object"==typeof N)return void w(N);o[b.dataField][N]=E}):b.functions.forEach(function(N){if("min"===N||"max"===N||"count"===N||"product"===N||"sum"===N||"avg"===N||"stdev"===N||"stdevp"===N||"var"===N||"varp"===N){if(null===x&&"count"!==N)return!0;let E=o[b.dataField][N];return null==E&&(E=0),o[b.dataField][N]=E,!0}if("blank"===N){let E=o[b.dataField][N];null==E&&(E=0),x||E++,o[b.dataField][N]=E}else if("filled"===N){let E=o[b.dataField][N];null==E&&(E=0),x&&E++,o[b.dataField][N]=E}else if("unique"===N){let E=o[b.dataField][N];null==E&&(E=[]),-1===E.indexOf(x)&&E.push(x),o[b.dataField][N]=E}"object"==typeof N&&w(N)})}}}}for(let u=0;u<e.length;u++){const y=e[u];if(y.functions&&(!y.functions||0!==y.functions.length)){if(o[y.dataField]||(o[y.dataField]={},y.functions.forEach(function(v){o[y.dataField][v]=0})),void 0!==o[y.dataField].avg){const v=o[y.dataField].avg,b=d[y.dataField];o[y.dataField].avg=0===b||void 0===b?0:v/b}else void 0!==o[y.dataField].count&&(o[y.dataField].count=m);if(void 0!==o[y.dataField].unique&&(o[y.dataField].unique=o[y.dataField].unique.length),void 0!==o[y.dataField].median){let v=o[y.dataField].median;v.sort(function(b,x){return b-x}),o[y.dataField].median=.5*(v[Math.floor((v.length+1)/2)-1]+v[Math.ceil((v.length+1)/2)-1])}(o[y.dataField].stdev||o[y.dataField].stdevp||o[y.dataField].var||o[y.dataField].varp)&&y.functions.forEach(function(v){if("stdev"===v||"var"===v||"varp"===v||"stdevp"===v){const x=f,w=o[y.dataField][v]/f;let C=0;for(let N=0;N<f;N++){let E=n[N][y.dataField];C+=(E-w)*(E-w)}let A="stdevp"===v||"varp"===v?x:x-1;0===A&&(A=1),"var"===v||"varp"===v?o[y.dataField][v]=C/A:"stdevp"!==v&&"stdev"!==v||(o[y.dataField][v]=Math.sqrt(C/A))}})}}return o}}_getDataItem(e,n){const a=this,s={};if(!e)return{$:{id:n,isEmpty:!0,index:n}};if("string"==typeof e&&(e={"":e}),"number"==typeof a.dataSource||a.dataSourceLength){for(let m=0;m<a.dataFields.length;m++)s[(a.dataFields?a.dataFields[m]:{}).name]="";return s.$={},s.$.id=n,s.$.index=n,s}const d=e;if(void 0!==d.expanded&&(s.expanded=d.expanded,s.expanded="true"===d.expanded||!0===d.expanded||1===d.expanded),a.childrenDataField?void 0!==d[a.childrenDataField]&&(s.children=d[a.childrenDataField]):void 0!==d.children?s.children=d.children:void 0!==d.items&&(s.children=d.items),void 0!==d.leaf&&(s.leaf=d.leaf),void 0!==d.level&&(s.level=d.level),a.keyDataField&&void 0!==d[a.keyDataField]&&(s[a.keyDataField]=d[a.keyDataField]),a.parentDataField&&void 0!==d[a.parentDataField]&&(s[a.parentDataField]=d[a.parentDataField]),0===a.dataFields.length){const m=Object.getOwnPropertyNames(e);for(let u=0;u<m.length;u++)"$"!==m[u]&&a.dataFields.push({name:m[u],dataType:"string"})}for(let m=0;m<a.dataFields.length;m++){const u=a.dataFields?a.dataFields[m]:{};let y="";if(null==u)continue;if(e.length&&(y=e[m]),u.map){let b=u.map.split(a.mapChar);if(b.length>0){let x=d;for(let w=0;w<b.length;w++)d&&(x=x[b[w]]);y=x}else y=d[u.map]}null!=y?y=y.toString():void 0===y&&null!==y&&(y="");let v=!1;""===y&&(v=!0,y=e[u.name],void 0===u.dataType&&(u.dataType="any"),null!=y?"array"!==u.dataType&&("any"===u.dataType?y=Array.isArray(e[u.name])?[...e[u.name]]:"object"==typeof e[u.name]?Object.assign({},e[u.name]):e[u.name]:"date"!==u.dataType&&(y=y.toString())):y=void 0===y&&"any"===u.dataType?null:""),"[object Object]"===y&&u.map&&v&&(y=""),a._cachedValues[y+"_"+u.dataType]?y=a._cachedValues[y+"_"+u.dataType]:("bool"===u.dataType||"boolean"===u.dataType?"true"===y||"1"===y?y=!0:"false"!==y&&"0"!==y||(y=!1):"number"===u.dataType?(-1===y.indexOf(".")&&y.indexOf(",")>=0&&y.substring(1+y.indexOf(",")).length<3&&(y=y.replace(",",".")),y=a.$document.deserialize(""+y,u.dataType,!0)):"date"===u.dataType?y=u.formatString&&Smart.Utilities.DateTime?Smart.Utilities.DateTime.ParseDate(y,u.formatString):a.$document.deserialize(""+y,u.dataType,!0):"any"!==u.dataType&&(y=a.$document.deserialize(""+y,u.dataType,!0)),"any"!==u.dataType&&(a._cachedValues[y+"_"+u.dataType]=y)),"string"!==u.dataType&&"boolean"!==u.dataType&&"bool"!==u.dataType&&"any"!==u.dataType&&(isNaN(y)||y===-1/0||y===1/0)&&(y="date"===u.dataType||"number"===u.dataType?null:0),"parent"!==u.name&&"group"!==u.name&&"leaf"!==u.name&&"level"!==u.name?("string"===u.dataType&&/<.+?>/.test(y)&&y.replace&&("all"===a.sanitizeHTML?y=y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):"blackList"===a.sanitizeHTML&&(y=window.Smart.Utilities.Core.sanitizeHTML(y))),s[u.name]=y):s.$[u.name]=y}let f=n;if(a.id){if(f=d[a.id],void 0===f){const m=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};f=m()+m()}"object"==typeof f&&(f=n),d.$&&void 0!==d.$.id&&(f=d.$.id)}else if(!a.virtualDataSource&&a.dataItemById&&a.dataItemById[f])for(f=a.length;a.dataItemById[f];)f++;return s.$||(s.$={}),s.$.id=f,s.$.index=n,new Object(s)}_bindToArray(){const e=this,n="number"==typeof e.dataSource||e.dataSourceLength,a=[];e.boundSource.canNotify=!1;const s=n?"number"==typeof e.dataSource?e.dataSource:e.dataSource.length:e.observable?e.length:e.dataSource.length;for(let o=0;o<s;o++){const f=e._getDataItem(n?{}:e.dataSource[o],o);a.push(f)}if(n&&e.dataSourceLength&&e.dataSource.length>0)for(let o=0;o<e.dataSource.length;o++){const d=e.dataSource[o].cell,f=e.dataSource[o].value,m=d.replace(/[^0-9]/g,""),u=d.replace(/[0-9]/g,"");a[m-1][u]=f}e.boundSource=!1===e.observable||e.virtualDataSource?[]:new Smart.ObservableArray(a),e.observable&&(e.boundSource=new Smart.ObservableArray(a));for(let o=0;o<s;o++)e[o]=e.observable?e.boundSource[o]:a[o],e.dataItemById[e[o].$.id]=e[o];!1===e.observable&&(e.boundSource=a),e.boundSource.canNotify=!0}_bindToICS(){const e=this,n=""+e.dataSource,a=e.rowDelimiter||"\n",s=n.split("\r"),o=[];let d=n.split(a),f=d.length;1===f&&s.length>1&&(d=s,f=d.length);const m=function(v,b){var x=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(v);if(!x)throw new Error("Invalid UNTIL value: "+v);return b?new Date(x[1],x[2]-1,x[3],0,0,0,0):new Date(Date.UTC(x[1],x[2]-1,x[3],x[5]||0,x[6]||0,x[7]||0))};for(let v=0;v<f;v++){const b=d[v].trim();if(b.indexOf("BEGIN:VEVENT")>=0)var u={};else if(u)if(b.indexOf("BEGIN:VALARM")>=0)var y={};else{if(y){if(b.indexOf("ACTION")>=0){y.ACTION=b.substring(b.indexOf("ACTION")+7);continue}if(b.indexOf("DESCRIPTION")>=0){y.DESCRIPTION=b.substring(b.indexOf("DESCRIPTION")+12);continue}if(b.indexOf("TRIGGER")>=0){y.TRIGGER=b.substring(b.indexOf("TRIGGER")+8);continue}if(b.indexOf("END:VALARM")>=0){u.ALARM||(u.ALARM=[]),u.ALARM.push(y),y=void 0;continue}}if(b.indexOf("SUMMARY")>=0)u.SUMMARY=b.substring(b.indexOf("SUMMARY")+8);else if(b.indexOf("LOCATION")>=0)u.LOCATION=b.substring(b.indexOf("LOCATION")+9);else if(b.indexOf("DESCRIPTION")>=0)u.DESCRIPTION=b.substring(b.indexOf("DESCRIPTION")+12);else if(b.indexOf("RRULE")>=0)u.RRULE=b.substring(b.indexOf("RRULE")+6);else if(b.indexOf("RECURRENCE-ID")>=0)u.RECURRENCEID=b.substring(b.indexOf("RECURRENCE-ID")+14);else if(b.indexOf("RECURRENCE-ID;VALUE=DATE")>=0)u.RECURRENCEID=b.substring(b.indexOf("RECURRENCE-ID;VALUE=DATE")+25);else if(b.indexOf("EXDATE;VALUE=DATE")>=0){const x=b.substring(b.indexOf("EXDATE;VALUE=DATE")+20);u.EXDATE=x}else if(b.indexOf("EXDATE")>=0){const x=b.substring(b.indexOf("EXDATE")+7);u.EXDATE=x}else b.indexOf("DTEND;VALUE=DATE")>=0?u.DTEND=m(b.substring(b.indexOf("DTEND;VALUE=DATE")+17),!0):b.indexOf("DTEND")>=0?u.DTEND=m(b.substring(b.indexOf("DTEND")+6)):b.indexOf("DTSTART;VALUE=DATE")>=0?u.DTSTART=m(b.substring(b.indexOf("DTSTART;VALUE=DATE")+19),!0):b.indexOf("DTSTART")>=0?u.DTSTART=m(b.substring(b.indexOf("DTSTART")+8)):b.indexOf("UID")>=0?u.uid=u.UID=b.substring(b.indexOf("UID")+4):b.indexOf("STATUS")>=0?u.STATUS=b.substring(b.indexOf("STATUS")+7):b.indexOf("TITLE")>=0?u.TITLE=b.substring(b.indexOf("TITLE")+6):b.indexOf("CATEGORIES")>=0?u.CATEGORIES=b.substring(b.indexOf("CATEGORIES")+11):b.indexOf("END:VEVENT")>=0&&(o.push(u),u.ALARM&&(u.ALARM=JSON.stringify(u.ALARM)),y=void 0)}}e.canNotify=!1,e.dataSource=o,e.canNotify=!0,e._bindToArray()}_bindToJSON(){const e=this,n=[],a=e.dataSource.length?e.dataSource:Object.entries(e.dataSource);e.boundSource.canNotify=!1;for(let s=0;s<a.length;s++){const d=e._getDataItem(a[s],s);n.push(d)}e.boundSource=!1===e.observable||e.virtualDataSource?[]:new Smart.ObservableArray(n);for(let s=0;s<e.length;s++)e[s]=e.boundSource[s],e.dataItemById[e[s].$.id]=e[s];!1===e.observable&&(e.boundSource=n),e.boundSource.canNotify=!0}sortBy(e,n,a){const s=this;if(!n)for(let o=0;o<s.dataFields.length;o++){const d=s.dataFields[o];if(d.name===e){n=d.dataType;break}}if(s.boundHierarchy){if((!e||0===e.length)&&s.groupBy.length>0)return void s.refreshHierarchy();const o=(f=>{let m=[];for(;f;){m=m.concat(f);for(let u=0;u<f.length;u++)f[u].children&&(m=m.concat(f[u].children));f=f.children}return m})(s.boundHierarchy);o&&o.find(f=>{if(f.summaryRow)return f})&&s.refreshHierarchy();const d=function(f){s._sort(f,e,a,n);for(let m=0;m<f.length;m++){const u=f[m];u.children&&d(u.children,e,a,n)}};d(s.boundHierarchy)}else s._sort(s.boundSource,e,a,n)}_createFilter(e,n){const a={"=":"EQUAL","<>":"NOT_EQUAL","!=":"NOT_EQUAL",not_like:"DOES_NOT_CONTAIN",like:"CONTAINS","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",equal:"EQUAL","not equal":"NOT_EQUAL","less than":"LESS_THAN","greater than":"GREATER_THAN","greater than or equal":"GREATER_THAN_OR_EQUAL","less than or equal":"LESS_THAN_OR_EQUAL","starts with":"STARTS_WITH","ends with":"ENDS_WITH",notEqual:"NOT_EQUAL",not_equal:"NOT_EQUAL",lessThan:"LESS_THAN",greaterThan:"GREATER_THAN",greaterThanOrEqual:"GREATER_THAN_OR_EQUAL",lessThanOrEqual:"LESS_THAN_OR_EQUAL",less_than:"LESS_THAN",greater_than:"GREATER_THAN",greater_than_or_equal:"GREATER_THAN_OR_EQUAL",less_than_or_equal:"LESS_THAN_OR_EQUAL",null:"null","":"EMPTY",isblank:"EMPTY",isnotblank:"NOT_EMPTY",isBlank:"EMPTY",isNotBlank:"NOT_EMPTY",CONTAINS:"CONTAINS",DOES_NOT_CONTAIN:"DOES_NOT_CONTAIN",contains:"CONTAINS",does_not_contain:"DOES_NOT_CONTAIN","not contains":"DOES_NOT_CONTAIN",notcontains:"DOES_NOT_CONTAIN",notContains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",starts_with:"STARTS_WITH",ends_with:"ENDS_WITH",startsWith:"STARTS_WITH",endsWith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"};let s=[];"string"==typeof n&&(n=[n]);for(let u=0;u<n.length;u++){const y=n[u],v=-1===y.indexOf('"')?y.split(" "):y.split('"');let b=[];for(let x=0;x<v.length;x++){const w=v[x];""!==w&&" "!==w&&b.push(w.trim())}s.push(b)}const o=new Smart.FilterGroup,d=[],f=[];for(let u=0;u<s.length;u++){const y=s[u];if(y.length>1){const v=new Smart.FilterGroup;let b="and",x=0;for(let w=0;w<y.length;w++){let C=y[w];if("and"!==C&&"or"!==C){if(x++,2===x){let A=a[y[w-1]];A||(A=y[w-1]),"number"===e&&(C=parseFloat(C)),"date"===e&&(C=new Date(C));const N=v.createFilter(e,C,A);x=0,b&&v.addFilter(b,N)}}else b=C}f.push(v)}else{const v=y[0];if("and"!==v&&"or"!==v)throw new Error('Filter Exprresion expects "AND" or "OR", but the token is: '+v);d.push(v)}}let m=0;if(1===f.length)return f[0];for(let u=0;u<f.length;u++){let y=d[m];(u+1)%2==0&&m++,y||(y="and"),o.addFilter(y,f[u])}return o}filterBy(e,...n){const a=this,s=(()=>{for(let d=0;d<a.dataFields.length;d++){const f=a.dataFields[d];if(f.name===e)return f.dataType}})(),o=a._createFilter(s,n);return a.boundSource.filter(d=>o.evaluate(d[e]))}_filter(e,n="and"){const a=this,s=[],o=[];if(0===e.length)return void a.clearFilter();const d=u=>{for(let y=0;y<a.dataFields.length;y++){const v=a.dataFields[y];if(v.name===u)return v.dataType}};let f,m;"and"===n?(f=!0,m=function(u,y,v){return u&&y.evaluate(v[y.dataField])}):(f=!1,m=function(u,y,v){return u||y.evaluate(v[y.dataField])});for(let u=0;u<e.length;u++){const y=e[u],v=y[0];let b=null;b=y[1]instanceof Smart.FilterGroup?y[1]:a._createFilter(d(v),y.splice(1)),b&&(o.push(v),b.dataField=v,s.push(b))}if(a.boundHierarchy){const u=function(v){let b=f;for(let x=0;x<s.length;x++)b=m(b,s[x],v);return v.$.filtered=b,b},y=function(v,b,x){let w=0;for(let C=0;C<v.length;C++){const A=v[C];u(A),A.$.filtered&&w++,A.children&&y(A.children,A,b)}w>0&&a.groupBy.length>0&&b?(b.$.filtered=!0,x&&!x.$.filtered&&(x.$.filtered=!0)):w>0&&w!==v.length&&b?(b.$.filtered=null,x&&!x.$.filtered&&(x.$.filtered=null)):w>0&&w===v.length&&b&&(b.$.filtered=!0,x&&!x.$.filtered&&(x.$.filtered=!0))};y(a.boundHierarchy,null,null)}else for(let u=0;u<a.boundSource.length;u++){const y=a.boundSource[u];let v=f;for(let b=0;b<s.length;b++)v=m(v,s[b],y);y.$.filtered=v}a.onFilter&&a.onFilter()}clearGroup(){const e=this;e.groupBy=[],e.boundHierarchy=null,e.refreshHierarchy(),e.onGroup&&e.onGroup()}clearFilter(){const e=this;for(let n=0;n<e.boundSource.length;n++)e.boundSource[n].$.filtered=!0;if(e.boundHierarchy){const n=function(a,s,o){for(let d=0;d<a.length;d++){const f=a[d];f.$.filtered=!0,f.children&&n(f.children,f,s)}s&&(s.$.filtered=!0,o&&!o.$.filtered&&(o.$.filtered=!0))};n(e.boundHierarchy,null,null)}e.onFilter&&e.onFilter()}clearSort(){this._sort(this.boundSource,[],[],[])}_sort(e,n,a,s,o,d){const f=this;let m=!1;if(0===e.length)return;if(e&&e.constructor&&e instanceof Smart.ObservableArray&&(m=!0),(!e||!Array.isArray(e)||0===e.length||!n||Array.isArray(n)&&0===n.length)&&!m&&!f.boundHierarchy)throw new Error("sort: Missing or Invalid arguments!");"string"==typeof n&&(n=[n]);const u=[],y=[];void 0===a&&(a=[]);const v=function(b,x){let w;switch(x||typeof b){case"string":w=(new Intl.Collator).compare;break;case"number":case"int":case"bigInt":case"float":case"double":w=function(C,A){return C-A};break;case"boolean":case"bool":w=function(C,A){return C===A?0:!1===C?-1:1};break;case"date":case"time":case"dateTime":w=b instanceof Date?function(C,A){return C||A?C?A?C.getTime()-A.getTime():1:-1:0}:b instanceof Smart.Utilities.DateTime||b instanceof Smart.Utilities.BigNumber?function(C,A){return C.compare(A)}:function(C,A){return C-A};break;case"object":if(b instanceof Date)w=function(C,A){return C||A?C?A?C.getTime()-A.getTime():1:-1:0};else if(b instanceof Smart.Utilities.DateTime||b instanceof Smart.Utilities.BigNumber)w=function(C,A){return C.compare(A)};else if(b instanceof Smart.Utilities.Complex||window.NIComplex&&b instanceof window.NIComplex){const C=new Smart.Utilities.ComplexNumericProcessor;w=function(A,N){return C.compareComplexNumbers(A,N)}}}return w};for(let b=0;b<n.length;b++){u[b]=void 0===a[b]||"asc"===a[b]||"ascending"===a[b]?1:-1;let x=e[0][n[b]];if(void 0===x&&e[0]&&e[0].children&&e[0].data&&(x=e[0].data[n[b]]),d&&d){const w=n[b];if(d[w]){y[b]=d[w];continue}}y[b]=v(x,s[b])}n.length>0&&o?o(e,n,a,y):e.sort(function(b,x){for(let w=0;w<n.length;w++){const C=y[w](b[n[w]],x[n[w]]);if(0===C){if(n[w+1])continue;return void 0!==b.$.index?(b.$.index-x.$.index)*u[w]:0}return C*u[w]}if(0===n.length)return b.$.index<x.$.index?-1:b.$.index>x.$.index?1:0});for(let b=0;b<e.length;b++)f[b]=e[b]}static Filter(e,n,a,s,o="and"){let d,f;return"and"===o?(d=!0,f=function(m,u,y,v){return s?m&&s(u,y,v):m&&v.evaluate(u[y])}):(d=!1,f=function(m,u,y,v){return s?m||s(u,y,v):m||v.evaluate(u[y])}),e.filter(m=>{let u=d;for(let y=0;y<a.length;y++)u=f(u,m,n[y],a[y]);return u})}filter(e,n,a){Smart.DataAdapter.Filter(this.boundSource,e,n,a)}sort(e,n,a){Smart.DataAdapter.Sort(this.boundSource,e,n,a)}static Sort(e,n,a,s){const o=function(u){let y;switch(typeof u){case"string":if(u.indexOf("-")>=0||u.indexOf("/")>=0){const v=new Date(u);if(v&&"Invalid Date"!==v.toString())return function(b,x){const w=new Date(b),C=new Date(x);return w||C?w?C?w.getTime()-C.getTime():1:-1:0}}y=(new Intl.Collator).compare;break;case"number":y=function(v,b){return v-b};break;case"boolean":y=function(v,b){return v===b?0:!1===v?-1:1};break;case"object":if(u instanceof Date)y=function(v,b){return v||b?v?b?v.getTime()-b.getTime():1:-1:0};else if(u instanceof Smart.Utilities.DateTime||u instanceof Smart.Utilities.BigNumber)y=function(v,b){return v.compare(b)};else if(u instanceof Smart.Utilities.Complex||window.NIComplex&&u instanceof window.NIComplex){const v=new Smart.Utilities.ComplexNumericProcessor;y=function(b,x){return v.compareComplexNumbers(b,x)}}else y=function(v,b){return v-b}}return y};if(!e||!Array.isArray(e)||0===e.length||!n||Array.isArray(n)&&0===n.length)return;"string"==typeof n&&(n=[n]);const d=[],f=[];void 0===a&&(a=[]);for(let u=0;u<n.length;u++)d[u]=void 0===a[u]||"asc"===a[u]||"ascending"===a[u]?1:-1,f[u]=o(e[0][n[u]]);if(s)return void s(e,n,a,f);const m=e.slice(0);return m.sort(function(u,y){for(let v=0;v<n.length;v++){const b=f[v](u[n[v]],y[n[v]]);if(0===b){if(n[v+1])continue;return void 0!==u._index?(u._index-y._index)*d[v]:0}return b*d[v]}}),m}};class t{constructor(n,a){const s=this;s.config=n,s.callback=a,!1!==n.autoFetch&&s.call(n)}call(n){const a=this;n||(n=a.config);let s="GET",o=n.url,d=null,f=!0;if(n.type&&(s=n.type),n.data)if("GET"===s){o+="?";for(let m in n.data)Object.prototype.hasOwnProperty.call(n.data,m)&&(o+=encodeURI(m+"="+n.data[m]+"&"));"&"===o.charAt(o.length-1)&&(o=o.slice(0,o.length-1))}else"POST"===s&&(d=JSON.stringify(n.data));n&&!1===n.async&&"xlsx"!==n.dataSourceType&&(f=!1),void 0!==window.fetch&&f?a.ajaxFetch(n,s,o,d):a.ajaxXMLHttpRequest(n,s,o,d,f)}ajaxFetch(n,a,s,o){const d=this,f={method:a};let m,u,y,v;switch(n.dataSourceType){case"json":m="json";break;case"xlsx":m="arrayBuffer";break;default:m="text"}n&&n.contentType&&(f.headers=new Headers({"Content-Type":n.contentType})),null!==o&&(f.body=o),n.timeout&&(y=setTimeout(function(){v=!0},n.timeout)),(!n.beforeSend||!1!==n.beforeSend(f,n))&&fetch(s,f).then(function(b){if(v)throw u=408,new Error("timeout");if(y&&clearTimeout(y),u=b.status,!b.ok)throw new Error(b.statusText);return b[m]()}).then(function(b){if("arrayBuffer"===m)return JSZip.loadAsync(b).then(function(x){return x.files["xl/worksheets/sheet1.xml"].async("text").then(function(w){return x.files["xl/sharedStrings.xml"].async("text").then(function(C){const A=d.parseXLSXData(w,C);d.ajaxComplete(n,A,u)})})});d.ajaxComplete(n,b,u)}).catch(function(b){"JSZip is not defined"===b.message&&(b.message="JSZip is not defined. Please include a reference to JSZip to be able to load data from XLSX files."),n&&n.loadError&&n.loadError(u,b),d.callback&&d.callback(b,u)})}ajaxXMLHttpRequest(n,a,s,o,d){const f=new XMLHttpRequest,m=this;f.open(a,s,d),f.ontimeout=function(){n&&n.loadError&&n.loadError(408,"timeout")},f.onload=function(){if(4===f.readyState){const u=f.status;let y=f.response;u>=200&&u<=299?("json"===n.dataSourceType&&(y=JSON.parse(y)),m.ajaxComplete(n,y,u)):n&&n.loadError&&n.loadError(u,y)}},f.onerror=function(){n&&n.loadError&&n.loadError(f.status,f.response)},n&&n.contentType&&f.setRequestHeader("Content-Type",n.contentType),d&&n.timeout&&(f.timeout=n.timeout),(!n.beforeSend||!1!==n.beforeSend(f,n))&&f.send(o)}ajaxComplete(n,a,s){if(n){if(n.beforeLoadComplete){const o=n.beforeLoadComplete(a);o&&(a=o)}n.loadComplete&&n.loadComplete(a,s),this.callback&&this.callback(a,s)}}parseXLSXData(n,a){const s=new DOMParser,o=s.parseFromString(a,"text/xml"),d=Array.from(o.getElementsByTagName("si")),f=[],m=s.parseFromString(n,"text/xml"),u=Array.from(m.getElementsByTagName("row")),y=[];return d.forEach(function(v){let b=v.getElementsByTagName("t");if(1===b.length)f.push(b[0].innerHTML);else{let x="";b=Array.from(b),b.forEach(function(w){x+=w.innerHTML}),f.push(x)}}),u.forEach(function(v){const b={};Array.from(v.getElementsByTagName("c")).forEach(function(x){const w=x.getAttribute("r").match(/\D+/)[0],C=x.getAttribute("t"),A=x.getElementsByTagName("v")[0].innerHTML;let N;switch(C){case"s":N=f[parseFloat(A)];break;case"b":N=1===parseFloat(A);break;default:N=parseFloat(A)}b[w]=N}),y.push(b)}),y}}Smart.Ajax=window.Ajax=t})()},9613:()=>{Smart.Utilities.Assign("Draw",class{constructor(t,e){const n=this;n.host=t,n.renderEngine=e||"",n.refresh();const a=["clear","removeElement","attr","getAttr","line","circle","rect","path","pieslice","pieSlicePath","text","measureText"];for(let s in a)n._addFn(Smart.Utilities.Draw.prototype,a[s])}_addFn(t,e){t[e]||(t[e]=function(){return this.renderer[e].apply(this.renderer,arguments)})}_initRenderer(t){return this.createRenderer(this,t)}_internalRefresh(){const t=this;if(t.renderer||(t.host.innerHTML="",t._initRenderer(t.host)),"none"===window.getComputedStyle(t.host).display)return;const e=t.renderer;if(!e)return;const n=e.getRect();t._render({x:1,y:1,width:n.width,height:n.height})}_render(t){this._plotRect=t}refresh(){this._internalRefresh()}getSize(){const t=this._plotRect;return{width:t.width,height:t.height}}toGreyScale(t){if(-1===t.indexOf("#"))return t;const e=this.cssToRgb(t);e[0]=e[1]=e[2]=Math.round(.3*e[0]+.59*e[1]+.11*e[2]);const n=this.rgbToHex(e[0],e[1],e[2]);return"#"+n[0]+n[1]+n[2]}decToHex(t){return t.toString(16)}hexToDec(t){return parseInt(t,16)}rgbToHex(t,e,n){return[this.decToHex(t),this.decToHex(e),this.decToHex(n)]}hexToRgb(t,e,n){return[this.hexToDec(t),this.hexToDec(e),this.hexToDec(n)]}cssToRgb(t){return t.indexOf("rgb")<=-1?this.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")}hslToRgb(t){let e,n,a;const s=parseFloat(t[0]),o=parseFloat(t[1]),d=parseFloat(t[2]);if(0===o)e=n=a=d;else{const f=d<.5?d*(1+o):d+o-d*o,m=2*d-f;e=this.hueToRgb(m,f,s+.3333333333333333),n=this.hueToRgb(m,f,s),a=this.hueToRgb(m,f,s-.3333333333333333)}return[255*e,255*n,255*a]}hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?t+6*(e-t)*n:n<.5?e:n<.6666666666666666?t+(e-t)*(.6666666666666666-n)*6:t}rgbToHsl(t){const e=parseFloat(t[0])/255,n=parseFloat(t[1])/255,a=parseFloat(t[2])/255,s=Math.max(e,n,a),o=Math.min(e,n,a);let d,f,m=(s+o)/2;if(s===o)d=f=0;else{const u=s-o;switch(f=m>.5?u/(2-s-o):u/(s+o),s){case e:d=(n-a)/u+(n<a?6:0);break;case n:d=(a-e)/u+2;break;case a:d=(e-n)/u+4}d/=6}return[d,f,m]}swap(t,e){const n=t;t=e,e=n}getNum(t){if(t.constructor!==Array){if(isNaN(t))return 0}else for(let e=0;e<t.length;e++)if(!isNaN(t[e]))return t[e];return 0}_ptRotate(t,e,n,a,s){const o=Math.sqrt(Math.pow(Math.abs(t-n),2)+Math.pow(Math.abs(e-a),2)),d=Math.asin((t-n)/o)+s;return{x:t=n+Math.cos(d)*o,y:e=a+Math.sin(d)*o}}log(t,e){return Math.log(t)/(e?Math.log(e):1)}_mod(t,e){const n=Math.abs(t>e?e:t);let a=1;if(0!==n)for(;n*a<100;)a*=10;return(t*=a)%(e*=a)/a}createRenderer(t,e){const n=t;let a=n.renderer=null;return document.createElementNS&&"HTML5"!==n.renderEngine&&(a=new Smart.Utilities.SvgRenderer(this)),null!==a||"HTML5"!==n.renderEngine&&void 0!==n.renderEngine||(a=new Smart.Utilities.HTML5Renderer(this)),a.init(e),n.renderer=a,a}getByPriority(t){let e;for(let n=0;n<t.length;n++){const a=t[n];if(null!=a&&""!==a){e=a;break}}return e}get(t,e,n){return void 0!==n?t[e][n]:t[e]}min(t,e){let n=NaN;for(let a=0;a<t.length;a++){const s=this.get(t,a,e);(isNaN(n)||s<n)&&(n=s)}return n}max(t,e){let n=NaN;for(let a=0;a<t.length;a++){const s=this.get(t,a,e);(isNaN(n)||s>n)&&(n=s)}return n}sum(t,e){let n=0;for(let a=0;a<t.length;a++){const s=this.get(t,a,e);isNaN(s)||(n+=s)}return n}count(t,e){let n=0;for(let a=0;a<t.length;a++){const s=this.get(t,a,e);isNaN(s)||n++}return n}avg(t,e){return this.sum(t,e)/Math.max(1,this.count(t,e))}filter(t,e){if(!e)return t;const n=[];for(let a=0;a<t.length;a++)e(t[a])&&n.push(t[a]);return n}scale(t,e,n,a){if(isNaN(t))return NaN;if((t<Math.min(e.min,e.max)||t>Math.max(e.min,e.max))&&(!a||!0!==a.ignore_range))return NaN;let s=NaN,o=1;if(void 0===e.type||"logarithmic"!==e.type){let d=Math.abs(e.max-e.min);d||(d=1),o=Math.abs(t-Math.min(e.min,e.max))/d}else if("logarithmic"===e.type){let d=e.base;isNaN(d)&&(d=10);let f=Math.min(e.min,e.max);f<=0&&(f=1);let m=Math.max(e.min,e.max);m<=0&&(m=1);const u=this.log(m,d);m=Math.pow(d,u);const y=this.log(f,d);f=Math.pow(d,y);const v=this.log(t,d);o=Math.abs(v-y)/(u-y)}if("logarithmic"===n.type){let d=n.base;isNaN(d)&&(d=10);const f=this.log(n.max,d),m=this.log(n.min,d);n.flip&&(o=1-o);const u=Math.min(m,f)+o*Math.abs(f-m);s=Math.pow(d,u)}else s=Math.min(n.min,n.max)+o*Math.abs(n.max-n.min),n.flip&&(s=Math.max(n.min,n.max)-s+n.min);return s}axis(t,e,n){if(n<=1)return[e,t];(isNaN(n)||n<2)&&(n=2);let a=0;for(;Math.round(t)!==t&&Math.round(e)!==e&&a<10;)t*=10,e*=10,a++;let s=(e-t)/n;for(;a<10&&Math.round(s)!==s;)t*=10,e*=10,s*=10,a++;const o=[1,2,5];let d,f=0;for(;;){let b=f%o.length,x=Math.floor(f/o.length),w=Math.pow(10,x)*o[b];if(b=(f+1)%o.length,x=Math.floor((f+1)/o.length),d=Math.pow(10,x)*o[b],s>=w&&s<d)break;f++}const m=d,u=[];let y=this.renderer._rnd(t,m,!1);const v=a<=0?1:Math.pow(10,a);for(;y<e+m;)u.push(y/v),y+=m;return u}_widgetToImage(t,e,n,a,s){let o=t;if(!o)return!1;void 0!==n&&""!==n||(n="image."+e);let d=o.renderEngine,f=o.animation;if(o.animation="none",o.renderEngine="HTML5",o.renderEngine!==d)try{o.refresh()}catch(v){return o.renderEngine=d,o.refresh(),o.animation=f,!1}let m=o.renderer.getContainer().firstElementChild,u=!0;"function"==typeof a&&(u=a(t,m));let y=!0;return u&&(y=this.exportImage(t,m,e,n,s)),o.renderEngine!==d&&(o.renderEngine=d,o.refresh(),o.animation=f),y}_saveAsImage(t,e){return this._widgetToImage(this,t,e)}saveAsPNG(t){return this._saveAsImage("png",t)}saveAsJPEG(t){return this._saveAsImage("jpeg",t)}exportImage(t,e,n,a,s){if(!e)return!1;let o="pdf"===n.toLowerCase();o&&(n="jpeg"),void 0!==a&&""!==a||(a="image."+n);let d=!0;if("print"!==n){try{if(e)if(o){s=s||"portrait";const f={content:{image:e.toDataURL("image/"+n),width:Math.min(e.width/1.35,"portrait"===s?515:762)},pageOrientation:s};try{pdfMake.createPdf(f).download(a)}catch(m){t.error(t.localize("missingReference",{files:"pdfmake.min.js"}))}}else{Smart.Utilities.DataExporter||t.error(t.localize("missingReference",{files:"smart.export.js"}));const f=new Smart.Utilities.DataExporter;e.toBlob(function(m){f.downloadFile(m,n,a)})}}catch(f){d=!1}return d}{const f=window.open("","","width=800,height=500"),m=f.document.open(),u='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>jQWidgets Chart</title></head><body><img src="'+e.toDataURL()+'" /></html>';try{m.write(u),m.close(),setTimeout(function(){f.print(),f.close()},100)}catch(y){}}}}),Smart.Utilities.Assign("Renderer",class{constructor(t){const e=this;e.draw=t,e._gradients={},e._toRadiansCoefficient=2*Math.PI/360}pieSlicePath(t,e,n,a,s,o,d){a||(a=1);const f=Math.abs(s-o),m=f>180?1:0;f>=360&&(o=s+359.99);const u=s*this._toRadiansCoefficient,y=o*this._toRadiansCoefficient;let v=t,b=t,x=e,w=e;const C=!isNaN(n)&&n>0;C&&(d=0);const A=Math.cos(u),N=Math.sin(u),E=Math.cos(y),O=Math.sin(y);if(d+n>0){if(d>0){const z=(f/2+s)*this._toRadiansCoefficient;t+=d*Math.cos(z),e-=d*Math.sin(z)}C&&(v=t+n*A,x=e-n*N,b=t+n*E,w=e-n*O)}const I=t+a*A,k=t+a*E,R=e-a*N,H=e-a*O;let B="";const F=Math.abs(Math.abs(o-s)-360)>.02;return C?(B="M "+b+","+w,B+=" a"+n+","+n,B+=" 0 "+m+",1 "+(v-b)+","+(x-w),B+=F?" L"+I+","+R:" M"+I+","+R,B+=" a"+a+","+a,B+=" 0 "+m+",0 "+(k-I)+","+(H-R),F&&(B+=" Z")):(B="M "+k+","+H,B+=" a"+a+","+a,B+=" 0 "+m+",1 "+(I-k)+","+(R-H),F&&(B+=" L"+t+","+e,B+=" Z")),B}measureText(t,e,n,a){const s=this._getTextParts(t,e,n),o=s.width;let d=s.height;!1===a&&(d/=.6);let f={};if(isNaN(e)&&(e=0),0===e)f={width:this._rup(o),height:this._rup(d)};else{const m=e*Math.PI*2/360,u=Math.abs(Math.sin(m)),y=Math.abs(Math.cos(m)),v=Math.abs(o*u+d*y),b=Math.abs(o*y+d*u);f={width:this._rup(b),height:this._rup(v)}}return a&&(f.textPartsInfo=s),f}alignTextInRect(t,e,n,a,s,o,d,f,m,u){const y=m*Math.PI*2/360,v=Math.sin(y),b=Math.cos(y),x=s*v,w=s*b;"center"===d||""===d||"undefined"===d?t+=n/2:"right"===d&&(t+=n),"center"===f||"middle"===f||""===f||"undefined"===f?e+=a/2:"bottom"===f?e+=a-o/2:"top"===f&&(e+=o/2);let C="middle";-1!==(u=u||"").indexOf("top")?C="top":-1!==u.indexOf("bottom")&&(C="bottom");let A="center";return-1!==u.indexOf("left")?A="left":-1!==u.indexOf("right")&&(A="right"),"center"===A?(t-=w/2,e-=x/2):"right"===A&&(t-=w,e-=x),"top"===C?(t-=o*v,e+=o*b):"middle"===C&&(t-=o*v/2,e+=o*b/2),{x:t=this._rup(t),y:e=this._rup(e)}}adjustColor(t,e){if("string"!=typeof t)return"#000000";if(-1===t.indexOf("#"))return t;const n=this.draw;let a=n.cssToRgb(t);const s=n.rgbToHsl(a);s[2]=Math.min(1,s[2]*e),s[1]=Math.min(1,s[1]*e*1.1),a=n.hslToRgb(s),t="#";for(let o=0;o<3;o++){let d=Math.round(a[o]);d=n.decToHex(d),1===d.toString().length&&(t+="0"),t+=d}return t.toUpperCase()}_rup(t){let e=Math.round(t);return t>e&&e++,e}_ptdist(t,e,n,a){return Math.sqrt((n-t)*(n-t)+(a-e)*(a-e))}_rnd(t,e,n,a){if(isNaN(t))return t;void 0===a&&(a=!0);let s=t-(!0===a?t%e:this._mod(t,e));return t===s?s:(n?t>s&&(s+=e):s>t&&(s-=e),1===e?Math.round(s):s)}_ptrnd(t){if(!document.createElementNS)return Math.round(t)===t?t:this._rnd(t,1,!1,!0);const e=this._rnd(t,.5,!1,!0);return.5!==Math.abs(e-Math.round(e))?e>t?e-.5:e+.5:e}_getContrastColor(t){if(void 0===t)return;let e=this.draw.hexToRgb(t.slice(1,3),t.slice(3,5),t.slice(5,7));return(.299*e[0]+.61*e[1]+.114*e[2])/255>.6?"#000000":"#FFFFFF"}}),Smart.Utilities.Assign("SvgRenderer",class extends Smart.Utilities.Renderer{constructor(t){super(t);const e=this;e._svgns="http://www.w3.org/2000/svg",e._openGroups=[],e._clipId=0}init(t){const e=document.createElement("div");e.className="drawContainer",e.onselectstart=function(){return!1},t.appendChild(e),this.host=t,this.container=e;try{const n=document.createElementNS(this._svgns,"svg");n.setAttribute("version","1.1"),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("overflow","hidden"),e.appendChild(n),this.canvas=n}catch(n){return!1}return this._id=(new Date).getTime(),this.clear(),!0}getType(){return"SVG"}refresh(){}getRect(){return{x:0,y:0,width:Math.max(this._rup(this.host.offsetWidth)-1,0),height:Math.max(this._rup(this.host.offsetHeight)-1,0)}}getContainer(){return this.container}clear(){for(;this.canvas.childNodes.length>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)}removeElement(t){if(void 0!==t)try{for(;t.firstChild;)this.removeElement(t.firstChild);t.parentNode?t.parentNode.removeChild(t):this.canvas.removeChild(t)}catch(e){}}beginGroup(){const t=this._activeParent(),e=document.createElementNS(this._svgns,"g");return t.appendChild(e),this._openGroups.push(e),e}endGroup(){0!==this._openGroups.length&&this._openGroups.pop()}_activeParent(){return 0===this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]}createClipRect(t){const e=document.createElementNS(this._svgns,"clipPath"),n=document.createElementNS(this._svgns,"rect");return this.attr(n,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"none"}),this._clipId=this._clipId||0,e.id="cl"+this._id+"_"+(++this._clipId).toString(),e.appendChild(n),this._defs.appendChild(e),e}getWindowHref(){let t=window.location.href;return t&&(t=t.replace(/([\('\)])/g,"\\$1"),t=t.replace(/#.*$/,""),t)}setClip(t,e){const n="url("+this.getWindowHref()+"#"+e.id+")";return this.attr(t,{"clip-path":n})}addHandler(t,e,n){t.addEventListener(e,n)}removeHandler(){}on(t,e,n){this.addHandler(t,e,n)}off(t,e,n){this.removeHandler(t,e,n)}shape(t,e){const n=document.createElementNS(this._svgns,t);if(n){for(let a in e)n.setAttribute(a,e[a]);return this._activeParent().appendChild(n),n}}_getTextParts(t,e,n){const a={width:0,height:0,parts:[]};if(void 0===t)return a;const s=t.toString().split("<br>"),o=this._activeParent(),d=document.createElementNS(this._svgns,"text");this.attr(d,n);for(let f=0;f<s.length;f++){const m=s[f],u=d.ownerDocument.createTextNode(m);let y;d.appendChild(u),o.appendChild(d);try{y=d.getBBox()}catch(x){}const v=this._rup(y.width),b=this._rup(.6*y.height);d.removeChild(u),a.width=Math.max(a.width,v),a.height+=b+(f>0?4:0),a.parts.push({width:v,height:b,text:m})}return o.removeChild(d),a}_measureText(t,e,n,a){return super.measureText(t,e,n,a)}measureText(t,e,n){return this._measureText(t,e,n,!1)}text(t,e,n,a,s,o,d,f,m,u,y){const v=this._measureText(t,o,d,!0,this).textPartsInfo,b=v.parts,x=this._getContrastColor(arguments[11]);let w;if(m||(m="center"),u||(u="center"),(b.length>1||f)&&(w=this.beginGroup()),f){const B=this.createClipRect({x:this._rup(e)-1,y:this._rup(n)-1,width:this._rup(a)+2,height:this._rup(s)+2});this.setClip(w,B)}let C=this._activeParent(),A=0,N=0;A=v.width,N=v.height,(isNaN(a)||a<=0)&&(a=A),(isNaN(s)||s<=0)&&(s=N);const E=a||0,O=s||0;let I=0;if(!o||0===o){let B;n+=N,"center"===u||"middle"===u?n+=(O-N)/2:"bottom"===u&&(n+=O-N),a||(a=A),s||(s=N),C=this._activeParent();for(let F=b.length-1;F>=0;F--){B=document.createElementNS(this._svgns,"text"),this.attr(B,d),this.attr(B,{cursor:"default"});const z=B.ownerDocument.createTextNode(b[F].text);B.appendChild(z);let $=e;const W=b[F].width,Y=b[F].height;"center"===m?$+=(E-W)/2:"right"===m&&($+=E-W),this.attr(B,{x:this._rup($),y:this._rup(n+I),width:this._rup(W),height:this._rup(Y)}),void 0!==x&&(B.style.fill=x),C.appendChild(B),I-=b[F].height+4}return w?(this.endGroup(),w):B}const k=this.alignTextInRect(e,n,a,s,A,N,m,u,o,y),R=this.shape("g",{transform:"translate("+(e=k.x)+","+(n=k.y)+")"}),H=this.shape("g",{transform:"rotate("+o+")"});R.appendChild(H),I=0;for(let B=b.length-1;B>=0;B--){const F=document.createElementNS(this._svgns,"text");this.attr(F,d),this.attr(F,{cursor:"default"});const z=F.ownerDocument.createTextNode(b[B].text);F.appendChild(z);let $=0;const W=b[B].width,Y=b[B].height;"center"===m?$+=(v.width-W)/2:"right"===m&&($+=v.width-W),this.attr(F,{x:this._rup($),y:this._rup(I),width:this._rup(W),height:this._rup(Y)}),H.appendChild(F),I-=Y+4}return C.appendChild(R),w&&this.endGroup(),R}line(t,e,n,a,s){const o=this.shape("line",{x1:t,y1:e,x2:n,y2:a});return this.attr(o,s),o}path(t,e){const n=this.shape("path");return n.setAttribute("d",t),e&&this.attr(n,e),n}rect(t,e,n,a,s){t=this._ptrnd(t),e=this._ptrnd(e),n=Math.max(1,this._rnd(n,1,!1)),a=Math.max(1,this._rnd(a,1,!1));const o=this.shape("rect",{x:t,y:e,width:n,height:a});return s&&this.attr(o,s),o}circle(t,e,n,a){const s=this.shape("circle",{cx:t,cy:e,r:n});return a&&this.attr(s,a),s}pieslice(t,e,n,a,s,o,d,f){const m=this.pieSlicePath(t,e,n,a,s,o,d),u=this.shape("path");return u.setAttribute("d",m),f&&this.attr(u,f),u}attr(t,e){if(t&&e)for(let n in e)"textContent"===n?t.textContent=e[n]:t.setAttribute(n,"width"===n||"height"===n?Math.max(0,e[n]):e[n])}removeAttr(t,e){if(t&&e)for(let n in e)"textContent"===n?t.textContent="":t.removeAttribute(e[n])}getAttr(t,e){return t.getAttribute(e)}_toLinearGradient(t,e,n){const a="grd"+this._id+t.replace("#","")+(e?"v":"h"),s="url("+this.getWindowHref()+"#"+a+")";if(this._gradients[s])return s;const o=document.createElementNS(this._svgns,"linearGradient");this.attr(o,{x1:"0%",y1:"0%",x2:e?"0%":"100%",y2:e?"100%":"0%",id:a});for(let d=0;d<n.length;d++){const f=n[d],m=document.createElementNS(this._svgns,"stop"),u="stop-color:"+this.adjustColor(t,f[1]);this.attr(m,{offset:f[0]+"%",style:u}),o.appendChild(m)}return this._defs.appendChild(o),this._gradients[s]=!0,s}_toRadialGradient(t,e,n){const a="grd"+this._id+t.replace("#","")+"r"+(void 0!==n?n.key:""),s="url("+this.getWindowHref()+"#"+a+")";if(this._gradients[s])return s;const o=document.createElementNS(this._svgns,"radialGradient");this.attr(o,void 0===n?{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:a}:{cx:n.x,cy:n.y,r:n.outerRadius,id:a,gradientUnits:"userSpaceOnUse"});for(let d=0;d<e.length;d++){const f=e[d],m=document.createElementNS(this._svgns,"stop"),u="stop-color:"+this.adjustColor(t,f[1]);this.attr(m,{offset:f[0]+"%",style:u}),o.appendChild(m)}return this._defs.appendChild(o),this._gradients[s]=!0,s}}),Smart.Utilities.Assign("HTML5Renderer",class extends Smart.Utilities.Renderer{constructor(t){super(t),this._renderers=new Smart.Utilities.HTML5RenderHelpers(this)}init(t){try{this.host=t;const e=document.createElement("div"),n=document.createElement("canvas");e.className="chartContainer",e.style.position="relative",e.onselectstart=function(){return!1},n.id="__smartCanvasWrap",n.style.width="100%",n.style.height="100%",e.appendChild(n),t.appendChild(e),this.canvas=n,n.width=t.offsetWidth,n.height=t.offsetHeight,this.ctx=n.getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0}getType(){return"HTML5"}getContainer(){return this.host.getElementsByClassName("chartContainer")[0]}getRect(){return{x:0,y:0,width:this.canvas.width-1,height:this.canvas.height-1}}beginGroup(){}endGroup(){}setClip(){}createClipRect(){}addHandler(){}removeHandler(){}on(t,e,n){this.addHandler(t,e,n)}off(t,e,n){this.removeHandler(t,e,n)}clear(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0}removeElement(t){void 0!==t&&this._elements[t.id]&&delete this._elements[t.id]}shape(t,e){let n={type:t,id:this._maxId++};for(let a in e)n[a]=e[a];return this._elements[n.id]=n,n}attr(t,e){for(let n in e)t[n]=e[n]}removeAttr(t,e){for(let n in e)delete t[e[n]]}rect(t,e,n,a,s){if(isNaN(t))throw'Invalid value for "x"';if(isNaN(e))throw'Invalid value for "y"';if(isNaN(n))throw'Invalid value for "width"';if(isNaN(a))throw'Invalid value for "height"';let o=this.shape("rect",{x:t,y:e,width:n,height:a});return s&&this.attr(o,s),o}path(t,e){let n=this.shape("path",e);return this.attr(n,{d:t}),n}line(t,e,n,a,s){return this.path("M "+t+","+e+" L "+n+","+a,s)}circle(t,e,n,a){let s=this.shape("circle",{x:t,y:e,r:n});return a&&this.attr(s,a),s}pieslice(t,e,n,a,s,o,d,f){let m=this.path(this.pieSlicePath(t,e,n,a,s,o,d),f);return this.attr(m,{x:t,y:e,innerRadius:n,outerRadius:a,angleFrom:s,angleTo:o}),m}_getCSSStyle(t){const e=document.createElement("div");e.className=t,e.style.position="absolute",e.style.visibility="hidden",this.host.appendChild(e);let n=window.getComputedStyle(e);return n={color:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight},this.host.removeChild(e),n}_getTextParts(t,e,n){let a="Arial",s="10pt",o="";if(n&&n.class){let m=this._getCSSStyle(n.class);m.fontSize&&(s=m.fontSize),m.fontFamily&&(a=m.fontFamily),m.fontWeight&&(o=m.fontWeight)}this.ctx.font=o+" "+s+" "+a;let d={width:0,height:0,parts:[]},f=t.toString().split("<br>");for(let m=0;m<f.length;m++){let u=f[m],y=this.ctx.measureText(u).width,v=document.createElement("span");v.className="chart",v.font=this.ctx.font,v.textContent=u,this.host.appendChild(v);let b=.6*v.offsetHeight;this.host.removeChild(v),d.width=Math.max(d.width,this._rup(y)),d.height+=b+(m>0?4:0),d.parts.push({width:y,height:b,text:u})}return d}_measureText(t,e,n,a){return super.measureText(t,e,n,a)}measureText(t,e,n){return this._measureText(t,e,n,!1)}text(t,e,n,a,s,o,d,f,m,u,y){let v=this.shape("text",{text:t,x:e,y:n,width:a,height:s,angle:o,clip:f,halign:m,valign:u,rotateAround:y});if(d&&this.attr(v,d),v.fontFamily="Arial",v.fontSize="10pt",v.fontWeight="",v.color=this._getContrastColor(arguments[11]),d&&d.class){let x=this._getCSSStyle(d.class);v.fontFamily=x.fontFamily||v.fontFamily,v.fontSize=x.fontSize||v.fontSize,v.fontWeight=x.fontWeight||v.fontWeight,v.color=v.color||x.color}v.color=v.color||"#000000";let b=this._measureText(t,0,d,!0);return this.attr(v,{textPartsInfo:b.textPartsInfo,textWidth:b.width,textHeight:b.height}),(a<=0||isNaN(a))&&this.attr(v,{width:b.width}),(s<=0||isNaN(s))&&this.attr(v,{height:b.height}),v}_toLinearGradient(t,e,n){if(this._renderers._gradients[t])return t;let a=[];for(let o=0;o<n.length;o++)a.push({percent:n[o][0]/100,color:this.adjustColor(t,n[o][1])});let s="gr"+this._gradientId++;return this.createGradient(s,e?"vertical":"horizontal",a),s}_toRadialGradient(t,e){if(this._renderers._gradients[t])return t;let n=[];for(let s=0;s<e.length;s++)n.push({percent:e[s][0]/100,color:this.adjustColor(t,e[s][1])});let a="gr"+this._gradientId++;return this.createGradient(a,"radial",n),a}createGradient(t,e,n){this._renderers.createGradient(this,t,e,n)}refresh(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let t in this._elements){let e=this._elements[t];this._renderers.setFillStyle(this,e),this._renderers.setStroke(this,e),this._renderers[this._elements[t].type](this.ctx,e)}}}),Smart.Utilities.Assign("HTML5RenderHelpers",class{constructor(t){this.HTML5Renderer=t,this._cmds="mlcazq"}ptrnd(t){if(.5===Math.abs(Math.round(t)-t))return t;let e=Math.round(t);return e<t&&(e-=1),e+.5}createGradient(t,e,n,a){t._gradients[e]={orientation:n,colorStops:a}}setStroke(t,e){let n=t.ctx,a=e["stroke-width"];n.strokeStyle=e.stroke||"transparent",n.lineWidth=0===a?.01:void 0!==a?a:1,n.globalAlpha=void 0!==e["fill-opacity"]?e["fill-opacity"]:void 0!==e.opacity?e.opacity:1,n.setLineDash&&n.setLineDash(e["stroke-dasharray"]?e["stroke-dasharray"].split(","):[])}setFillStyle(t,e){let n=t.ctx;if(n.fillStyle="transparent",n.globalAlpha=void 0!==e["fill-opacity"]?e["fill-opacity"]:void 0!==e.opacity?e.opacity:1,e.fill&&-1===e.fill.indexOf("#")&&t._gradients[e.fill]){let a,s="horizontal"!==t._gradients[e.fill].orientation,o="radial"===t._gradients[e.fill].orientation,d=this.ptrnd(e.x),f=this.ptrnd(e.y),m=this.ptrnd(e.x+(s?0:e.width)),u=this.ptrnd(e.y+(s?e.height:0));if(("circle"===e.type||"path"===e.type||"rect"===e.type)&&o){let v=this.ptrnd(e.x),b=this.ptrnd(e.y);"rect"===e.type&&(v+=e.width/2,b+=e.height/2),a=n.createRadialGradient(v,b,e.innerRadius||0,v,b,e.outerRadius||e.r||0)}o||((isNaN(d)||isNaN(m)||isNaN(f)||isNaN(u))&&(d=0,f=0,m=s?0:n.canvas.width,u=s?n.canvas.height:0),a=n.createLinearGradient(d,f,m,u));let y=t._gradients[e.fill].colorStops;for(let v=0;v<y.length;v++)a.addColorStop(y[v].percent,y[v].color);n.fillStyle=a}else e.fill&&(n.fillStyle=e.fill)}rect(t,e){0!==e.width&&0!==e.height&&(t.fillRect(this.ptrnd(e.x),this.ptrnd(e.y),e.width,e.height),t.strokeRect(this.ptrnd(e.x),this.ptrnd(e.y),e.width,e.height))}circle(t,e){0!==e.r&&(t.beginPath(),t.arc(this.ptrnd(e.x),this.ptrnd(e.y),e.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())}_parsePoint(t){return{x:this._parseNumber(t),y:this._parseNumber(t)}}_parseNumber(t){let e,n=!1;for(e=this._pos;e<t.length;e++)if(t[e]>="0"&&t[e]<="9"||"."===t[e]||"e"===t[e]||"-"===t[e]&&!n||"-"===t[e]&&e>=1&&"e"===t[e-1])n=!0;else{if(n||" "!==t[e]&&","!==t[e])break;this._pos++}let a=parseFloat(t.substring(this._pos,e));if(!isNaN(a))return this._pos=e,a}_isRelativeCmd(t){return-1!==this._cmds.indexOf(t)}_parseCmd(t){for(let e=this._pos;e<t.length;e++){if(-1!==this._cmds.toLowerCase().indexOf(t[e].toLowerCase()))return this._pos=e+1,this._lastCmd=t[e],this._lastCmd;if(" "!==t[e]){if(t[e]>="0"&&t[e]<="9"){if(this._pos=e,""===this._lastCmd)break;return this._lastCmd}}else this._pos++}}_toAbsolutePoint(t){return{x:this._currentPoint.x+t.x,y:this._currentPoint.y+t.y}}path(t,e){let n,a=e.d;for(this._pos=0,this._lastCmd="",this._currentPoint={x:0,y:0},t.beginPath();this._pos<a.length;){let s=this._parseCmd(a);if(void 0===s)break;if("M"!==s&&"m"!==s)if("L"!==s&&"l"!==s)if("A"!==s&&"a"!==s)if("Z"!==s&&"z"!==s||void 0===n)if("C"!==s&&"c"!==s){if("Q"===s||"q"===s){let o=this._parsePoint(a),d=this._parsePoint(a);t.quadraticCurveTo(o.x,o.y,d.x,d.y),this._currentPoint=d}}else{let o=this._parsePoint(a),d=this._parsePoint(a),f=this._parsePoint(a);t.bezierCurveTo(o.x,o.y,d.x,d.y,f.x,f.y),this._currentPoint=f}else t.lineTo(n.x,n.y),this._currentPoint=n;else{let o=this._parseNumber(a),d=this._parseNumber(a),f=this._parseNumber(a)*(Math.PI/180),m=this._parseNumber(a),u=this._parseNumber(a),y=this._parsePoint(a);if(this._isRelativeCmd(s)&&(y=this._toAbsolutePoint(y)),0===o||0===d)continue;let v=this._currentPoint,b={x:Math.cos(f)*(v.x-y.x)/2+Math.sin(f)*(v.y-y.y)/2,y:-Math.sin(f)*(v.x-y.x)/2+Math.cos(f)*(v.y-y.y)/2},x=Math.pow(b.x,2)/Math.pow(o,2)+Math.pow(b.y,2)/Math.pow(d,2);x>1&&(o*=Math.sqrt(x),d*=Math.sqrt(x));let w=(m===u?-1:1)*Math.sqrt((Math.pow(o,2)*Math.pow(d,2)-Math.pow(o,2)*Math.pow(b.y,2)-Math.pow(d,2)*Math.pow(b.x,2))/(Math.pow(o,2)*Math.pow(b.y,2)+Math.pow(d,2)*Math.pow(b.x,2)));isNaN(w)&&(w=0);let C={x:w*o*b.y/d,y:w*-d*b.x/o},A={x:(v.x+y.x)/2+Math.cos(f)*C.x-Math.sin(f)*C.y,y:(v.y+y.y)/2+Math.sin(f)*C.x+Math.cos(f)*C.y},N=function($){return Math.sqrt(Math.pow($[0],2)+Math.pow($[1],2))},E=function($,W){return($[0]*W[0]+$[1]*W[1])/(N($)*N(W))},O=function($,W){return($[0]*W[1]<$[1]*W[0]?-1:1)*Math.acos(E($,W))},I=O([1,0],[(b.x-C.x)/o,(b.y-C.y)/d]),k=[(b.x-C.x)/o,(b.y-C.y)/d],R=[(-b.x-C.x)/o,(-b.y-C.y)/d],H=O(k,R);E(k,R)<=-1&&(H=Math.PI),E(k,R)>=1&&(H=0),0===u&&H>0&&(H-=2*Math.PI),1===u&&H<0&&(H+=2*Math.PI);let B=o>d?o:d,F=o>d?1:o/d,z=o>d?d/o:1;t.translate(A.x,A.y),t.rotate(f),t.scale(F,z),t.arc(0,0,B,I,I+H,1-u),t.scale(1/F,1/z),t.rotate(-f),t.translate(-A.x,-A.y)}else{let o=this._parsePoint(a);if(void 0===o)break;t.lineTo(o.x,o.y),this._currentPoint=o}else{let o=this._parsePoint(a);if(void 0===o)break;t.moveTo(o.x,o.y),this._currentPoint=o,void 0===n&&(n=o)}}t.fill(),t.stroke(),t.closePath()}text(t,e){let n=this.ptrnd(e.x),a=this.ptrnd(e.y),s=this.ptrnd(e.width),o=this.ptrnd(e.height),d=e.halign,f=e.valign,m=e.angle,u=e.rotateAround,y=e.textPartsInfo,v=y.parts,b=e.clip;void 0===b&&(b=!0),t.save(),d||(d="center"),f||(f="center"),b&&(t.rect(n,a,s,o),t.clip());let x=e.textWidth,w=e.textHeight,C=s||0,A=o||0;if(t.fillStyle=e.color,t.font=e.fontWeight+" "+e.fontSize+" "+e.fontFamily,!m||0===m){a+=w,"center"===f||"middle"===f?a+=(A-w)/2:"bottom"===f&&(a+=A-w),s||(s=x),o||(o=w);let k=0;for(let R=v.length-1;R>=0;R--){let H=v[R],B=n,F=v[R].width;"center"===d?B+=(C-F)/2:"right"===d&&(B+=C-F),t.fillText(H.text,B,a+k),k-=H.height+(R>0?4:0)}return void t.restore()}let N=this.HTML5Renderer.alignTextInRect(n,a,s,o,x,w,d,f,m,u);n=N.x,a=N.y;let E=m*Math.PI*2/360;t.translate(n,a),t.rotate(E);let O=0,I=y.width;for(let k=v.length-1;k>=0;k--){let R=0;"center"===d?R+=(I-v[k].width)/2:"right"===d&&(R+=I-v[k].width),t.fillText(v[k].text,R,O),O-=v[k].height+4}t.restore()}}),Smart.Utilities.Assign("Plot",class{constructor(t){this.renderer=t}get(t,e,n){return void 0!==n?t[e][n]:t[e]}min(t,e){let n=NaN;for(let a=0;a<t.length;a++){let s=this.get(t,a,e);(isNaN(n)||s<n)&&(n=s)}return n}max(t,e){let n=NaN;for(let a=0;a<t.length;a++){let s=this.get(t,a,e);(isNaN(n)||s>n)&&(n=s)}return n}sum(t,e){let n=0;for(let a=0;a<t.length;a++){let s=this.get(t,a,e);isNaN(s)||(n+=s)}return n}count(t,e){let n=0;for(let a=0;a<t.length;a++){let s=this.get(t,a,e);isNaN(s)||n++}return n}avg(t,e){return this.sum(t,e)/Math.max(1,this.count(t,e))}filter(t,e){if(!e)return t;let n=[];for(let a=0;a<t.length;a++)e(t[a])&&n.push(t[a]);return n}scale(t,e,n,a){if(isNaN(t))return NaN;if((t<Math.min(e.min,e.max)||t>Math.max(e.min,e.max))&&(!a||!0!==a.ignore_range))return NaN;let s=NaN,o=1;if(void 0===e.type||"logarithmic"!==e.type){let d=Math.abs(e.max-e.min);d||(d=1),o=Math.abs(t-Math.min(e.min,e.max))/d}else if("logarithmic"===e.type){let d=e.base;isNaN(d)&&(d=10);let f=Math.min(e.min,e.max);f<=0&&(f=1);let m=Math.max(e.min,e.max);m<=0&&(m=1);let u=Math.log(m)/Math.log(d);m=Math.pow(d,u);let y=Math.log(f)/Math.log(d);f=Math.pow(d,y);let v=Math.log(t)/Math.log(d);o=Math.abs(v-y)/(u-y)}if("logarithmic"===n.type){let d=n.base;isNaN(d)&&(d=10);let f=Math.log(n.max)/Math.log(d),m=Math.log(n.min)/Math.log(d);n.flip&&(o=1-o);let u=Math.min(m,f)+o*Math.abs(f-m);s=Math.pow(d,u)}else s=Math.min(n.min,n.max)+o*Math.abs(n.max-n.min),n.flip&&(s=Math.max(n.min,n.max)-s+n.min);return s}axis(t,e,n){if(n<=1)return[e,t];(isNaN(n)||n<2)&&(n=2);let a=0;for(;Math.round(t)!==t&&Math.round(e)!==e&&a<10;)t*=10,e*=10,a++;let s=(e-t)/n;for(;a<10&&Math.round(s)!==s;)t*=10,e*=10,s*=10,a++;let o,d=[1,2,5],f=0;for(;;){let b=f%d.length,x=Math.floor(f/d.length),w=Math.pow(10,x)*d[b];if(b=(f+1)%d.length,x=Math.floor((f+1)/d.length),o=Math.pow(10,x)*d[b],s>=w&&s<o)break;f++}let m=o,u=[],y=this.renderer._rnd(t,m,!1),v=a<=0?1:Math.pow(10,a);for(;y<e+m;)u.push(y/v),y+=m;return u}})},6321:()=>{!function(){const t="13.2.0",e=[];let n="Smart";if(window[n]&&window[n].Version){if(window[n].Version===t)return;if(window[n].Version!==t)n+=t;else{let h=2;for(;window[n];)n+=h.toString(),h++}}const a=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);class s{static isBoolean(r){return"boolean"==typeof r}static isFunction(r){return!!(r&&r.constructor&&r.call&&r.apply)}static isArray(r){return Array.isArray(r)}static isObject(r){return r&&("object"==typeof r||this.isFunction(r))||!1}static isDate(r){return r instanceof Date}static isString(r){return"string"==typeof r}static isNumber(r){return"number"==typeof r}static getType(r){const i=this,l=["Boolean","Number","String","Function","Array","Date","Object"].find(c=>{if(i["is"+c](r))return c});return l?l.toLowerCase():void 0}}class o{static animate(r,i,l,c){const p=r;if(!p||p instanceof HTMLElement==0)return;if(0===p.getElementsByClassName("smart-ripple").length){const P=document.createElement("span");P.classList.add("smart-ripple"),P.setAttribute("role","presentation");let V=!0,U=null;if(window[n].EnableShadowDOM&&p.enableShadowDOM&&!0!==p.isInShadowDOM){for(let j=0;j<p.shadowRoot.host.shadowRoot.children.length;j++)"link"!==p.shadowRoot.host.shadowRoot.children[j].tagName.toLowerCase()&&(U=p.shadowRoot.host.shadowRoot.children[j]);p.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(V=!1)}else U=p.firstElementChild;V&&(U&&!U.noRipple&&U.offsetHeight>0?U.appendChild(P):p.appendChild(P))}let g=null;if(g=window[n].EnableShadowDOM&&p.shadowRoot?p.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):p.getElementsByClassName("smart-ripple")[0],!g)return;g.innerHTML="",g.classList.remove("smart-animate"),g.style.height=g.style.width=Math.max(p.offsetHeight,p.offsetWidth)+"px";const _=window.getComputedStyle(g.parentElement),S=parseInt(_.borderLeftWidth)||0,T=parseInt(_.borderTopWidth)||0,M=p.getBoundingClientRect(),L=i-(M.left+window.pageXOffset)-g.offsetWidth/2-S,D=l-(M.top+window.pageYOffset)-g.offsetHeight/2-T;g.style.left=L+"px",g.style.top=D+"px",g.classList.add("smart-animate"),g.addEventListener("animationend",function P(){g.parentElement&&g.parentElement.removeChild(g),c&&c(),g.removeEventListener("animationend",P),g.removeEventListener("animationcancel",P)}),g.addEventListener("animationcancel",function P(){g.parentElement&&g.parentElement.removeChild(g),c&&c(),g.removeEventListener("animationcancel",P),g.removeEventListener("animationend",P)})}}class d{static easeInQuad(r,i,l,c){return l*(r/=c)*r+i}static easeOutQuad(r,i,l,c){return-l*(r/=c)*(r-2)+i}static easeInOutQuad(r,i,l,c){return(r/=c/2)<1?l/2*r*r+i:-l/2*(--r*(r-2)-1)+i}static easeInCubic(r,i,l,c){return l*(r/=c)*r*r+i}static easeOutCubic(r,i,l,c){return l*((r=r/c-1)*r*r+1)+i}static easeInOutCubic(r,i,l,c){return(r/=c/2)<1?l/2*r*r*r+i:l/2*((r-=2)*r*r+2)+i}static easeInQuart(r,i,l,c){return l*(r/=c)*r*r*r+i}static easeOutQuart(r,i,l,c){return-l*((r=r/c-1)*r*r*r-1)+i}static easeInOutQuart(r,i,l,c){return(r/=c/2)<1?l/2*r*r*r*r+i:-l/2*((r-=2)*r*r*r-2)+i}static easeInQuint(r,i,l,c){return l*(r/=c)*r*r*r*r+i}static easeOutQuint(r,i,l,c){return l*((r=r/c-1)*r*r*r*r+1)+i}static easeInOutQuint(r,i,l,c){return(r/=c/2)<1?l/2*r*r*r*r*r+i:l/2*((r-=2)*r*r*r*r+2)+i}static easeInSine(r,i,l,c){return-l*Math.cos(r/c*(Math.PI/2))+l+i}static easeOutSine(r,i,l,c){return l*Math.sin(r/c*(Math.PI/2))+i}static easeInOutSine(r,i,l,c){return-l/2*(Math.cos(Math.PI*r/c)-1)+i}static easeInExpo(r,i,l,c){return 0===r?i:l*Math.pow(2,10*(r/c-1))+i}static easeOutExpo(r,i,l,c){return r===c?i+l:l*(1-Math.pow(2,-10*r/c))+i}static easeInOutExpo(r,i,l,c){return 0===r?i:r===c?i+l:(r/=c/2)<1?l/2*Math.pow(2,10*(r-1))+i:l/2*(2-Math.pow(2,-10*--r))+i}static easeInCirc(r,i,l,c){return-l*(Math.sqrt(1-(r/=c)*r)-1)+i}static easeOutCirc(r,i,l,c){return l*Math.sqrt(1-(r=r/c-1)*r)+i}static easeInOutCirc(r,i,l,c){return(r/=c/2)<1?-l/2*(Math.sqrt(1-r*r)-1)+i:l/2*(Math.sqrt(1-(r-=2)*r)+1)+i}static easeInElastic(r,i,l,c){let p=1.70158,g=0,_=l;return 0===r?i:1==(r/=c)?i+l:(g||(g=.3*c),_<Math.abs(l)?(_=l,p=g/4):p=g/(2*Math.PI)*Math.asin(l/_),-_*Math.pow(2,10*(r-=1))*Math.sin((r*c-p)*(2*Math.PI)/g)+i)}static easeOutElastic(r,i,l,c){let p=1.70158,g=0,_=l;return 0===r?i:1==(r/=c)?i+l:(g||(g=.3*c),_<Math.abs(l)?(_=l,p=g/4):p=g/(2*Math.PI)*Math.asin(l/_),_*Math.pow(2,-10*r)*Math.sin((r*c-p)*(2*Math.PI)/g)+l+i)}static easeInOutElastic(r,i,l,c){let p=1.70158,g=0,_=l;return 0===r?i:2==(r/=c/2)?i+l:(g||(g=.44999999999999996*c),_<Math.abs(l)?(_=l,p=g/4):p=g/(2*Math.PI)*Math.asin(l/_),r<1?_*Math.pow(2,10*(r-=1))*Math.sin((r*c-p)*(2*Math.PI)/g)*-.5+i:_*Math.pow(2,-10*(r-=1))*Math.sin((r*c-p)*(2*Math.PI)/g)*.5+l+i)}static easeInBack(r,i,l,c,p){return void 0===p&&(p=1.70158),l*(r/=c)*r*((p+1)*r-p)+i}static easeOutBack(r,i,l,c,p){return void 0===p&&(p=1.70158),l*((r=r/c-1)*r*((p+1)*r+p)+1)+i}static easeInOutBack(r,i,l,c,p){return void 0===p&&(p=1.70158),(r/=c/2)<1?l/2*(r*r*((1+(p*=1.525))*r-p))+i:l/2*((r-=2)*r*((1+(p*=1.525))*r+p)+2)+i}static easeInBounce(r,i,l,c){return l-this.easeOutBounce(c-r,0,l,c)+i}static easeOutBounce(r,i,l,c){return(r/=c)<.36363636363636365?l*(7.5625*r*r)+i:r<.7272727272727273?l*(7.5625*(r-=.5454545454545454)*r+.75)+i:r<.9090909090909091?l*(7.5625*(r-=.8181818181818182)*r+.9375)+i:l*(7.5625*(r-=.9545454545454546)*r+.984375)+i}static easeInOutBounce(r,i,l,c){return r<c/2?.5*this.easeInBounce(2*r,0,l,c)+i:.5*this.easeOutBounce(2*r-c,0,l,c)+.5*l+i}}class f{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}static get Browser(){let r;const i=function(c){let p=c.indexOf(r);if(-1===p)return;const g=c.indexOf("rv:");return parseFloat(c.substring("Trident"===r&&-1!==g?g+3:p+r.length+1))};let l={};return l[function(){const c=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];for(let p=0;p<c.length;p++)if(r=c[p].subString,-1!==c[p].string.indexOf(c[p].subString))return c[p].identity;return"Other"}()]=!0,l.version=i(navigator.userAgent)||i(navigator.appVersion)||"Unknown",l}static toCamelCase(r){return r.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}static toDash(r){return r.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(r){return(new DOMParser).parseFromString(r,"text/html").documentElement.textContent}static escapeHTML(r){const i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(r).replace(/[&<>"'`=\/]/g,l=>i[l])}static sanitizeHTML(r){if(r&&(r.indexOf("onclick")>=0||r.indexOf("onload")>=0||r.indexOf("onerror")>=0))return this.escapeHTML(r);const i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(r).replace(i,l=>this.escapeHTML(l))}static createGUID(){function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}static getScriptLocation(){return"./"!==window[n].BaseUrl?window[n].BaseUrl:function(){if(document.currentScript){let p=document.currentScript.src,g=p.lastIndexOf("/");return p=p.substring(0,g),p}const r=new Error;let i="(",l=")";if(Smart.Utilities.Core.Browser.Safari&&(i="@",l="\n"),r.fileName)return r.fileName.replace("/smart.element.js","");let c=r.stack.split(i);return c=c[1],c=c.split(l)[0],c=c.split(":"),c.splice(-2,2),c=c.join(":"),c.replace("/smart.element.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(r,i){const l=p=>p&&"object"==typeof p&&!Array.isArray(p)&&null!==p;let c=Object.assign({},r);return l(r)&&l(i)&&Object.keys(i).forEach(p=>{l(i[p])?p in r?c[p]=this.assign(r[p],i[p]):Object.assign(c,{[p]:i[p]}):Object.assign(c,{[p]:i[p]})}),c}static html(r,i){const l=this;let c="",p=r.childNodes;if(!i){for(let g,_=0,S=p.length;_<S&&(g=p[_]);_++){const T=["strong"];if(g instanceof HTMLElement||g.tagName&&T.indexOf(g.tagName.toLowerCase())>=0){const M=g.tagName.toLowerCase(),L=g.attributes;let D="<"+M;for(let P,V=0;P=L[V];V++)D+=" "+P.name+'="'+P.value.replace(/[&\u00A0"]/g,N.Core.escapeHTML)+'"';D+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][M]&&(c+=D),c=c+D+l.html(g)+"</"+M+">"}else{if(8===g.nodeType)continue;c+=g.textContent.replace(/[&\u00A0<>]/g,N.Core.escapeHTML)}}return c}r.innerHTML=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")}}let m=[];class u{static watch(r){switch(r.nodeName.toLowerCase()){case"smart-grid":case"smart-kanban":case"smart-table":case"smart-pivot-table":case"smart-scheduler":case"smart-tabs":case"smart-card-view":case"smart-list-box":case"smart-combo-box":case"smart-drop-down-list":case"smart-calendar":case"smart-gauge":case"smart-numeric-text-box":case"smart-menu":case"smart-tree":m.push(r);break;default:return}u.start()}static start(){u.isStarted||(u.isStarted=!0,u.interval&&clearInterval(u.interval),0===m.length||document.hidden?u.isStarted=!1:u.interval=setInterval(function(){u.observe()},100))}static stop(){u.isStarted=!1,u.interval&&clearInterval(u.interval)}static observeElement(r){const i=r;if("test"===window.Smart.Mode||document.hidden)return void(u.interval&&clearInterval(u.interval));let l=r._computedStyle||"resize"!==i.hasStyleObserver?document.defaultView.getComputedStyle(i,null):{},c=!0,p="resize"!==i.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(r.styleProperties&&(p=p.concat(r.styleProperties)),r.observableStyleProperties&&(p=r.observableStyleProperties),!i._styleInfo){i._styleInfo=[];for(let _=0;_<p.length;_++){const S=p[_],T=S.startsWith("--")?l.getPropertyValue(S):l[S];i._styleInfo[S]=T}return}if(r.isHidden||"none"!==l.display&&(0!==r.offsetWidth&&0!==r.offsetHeight||(r.isHidden=!0)),r.isHidden){if(r.visibilityChangedHandler(),r.isHidden)return;c=!1}let g=[];for(let _=0;_<p.length;_++){const S=p[_],T=S.startsWith("--")?l.getPropertyValue(S):l[S];i._styleInfo[S]!==T&&(g[S]={oldValue:i._styleInfo[S],value:T},g.length++),i._styleInfo[S]=T}g.length>0&&(i.$.fireEvent("styleChanged",{styleProperties:g},{bubbles:!1,cancelable:!0}),g.display&&c&&i.$.fireEvent("resize",i,{bubbles:!1,cancelable:!0}))}static observe(){for(let r=0;r<m.length;r++)this.observeElement(m[r])}static unwatch(r){u.stop();const i=m.indexOf(r);-1!==i&&m.splice(i,1),u.start()}}let y=[];const v=[],b=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"];class x{constructor(r){const i=this;i.target=r,i.$target=new C(r),i.$document=r.$document?r.$document:new C(document),i.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();let l={handlers:{},boundEventTypes:[],listen:i.listen.bind(i),unlisten:i.unlisten.bind(i)};return i.tapHoldDelay=750,i.swipeMin=10,i.swipeMax=5e3,i.swipeDelay=1e3,i.tapHoldDelay=750,i.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],b.forEach(c=>{l[c]=p=>{l.handlers[c]=p},i[c]=p=>{if(!l.handlers[p.type]){if(("mousemove"===p.type||"pointermove"===p.type||"touchmove"===p.type)&&l.handlers.move){const g=i.createEvent(p,"move");l.handlers.move(g)}return!0}return l.handlers[p.type](p)}}),i.listen(),i.handlers=l.handlers,l}listen(r){const i=this;if("resize"===r&&i.target!==document&&i.target!==window&&!1!==i.target.hasResizeObserver)if(Smart.Utilities.Core.Browser.Firefox){if(!i.target.resizeObserver){let l,c,p,g=!1,_=i.target.offsetWidth,S=i.target.offsetHeight;const T=new ResizeObserver(()=>{if(!g)return void(g=!0);const M=new CustomEvent("resize",{bubbles:!1,cancelable:!0});c=i.target.offsetWidth,p=i.target.offsetHeight,l=c!==_||p!==S,i.target.requiresLayout&&(l=!0),l&&(i.resize(M),i.target.requiresLayout=!1)});T.observe(i.target),i.target.resizeObserver=T}}else if(!i.target.resizeTrigger){const l=document.createElement("div");l.className="smart-resize-trigger-container",l.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',l.setAttribute("aria-hidden",!0),window[n].EnableShadowDOM&&i.target.shadowRoot?i.target.shadowRoot.appendChild(l):i.target.appendChild(l),i.target.resizeTrigger=l;const c=l.childNodes[0],p=c.childNodes[0],g=l.childNodes[1],_=function(){p.style.width="100000px",p.style.height="100000px",c.scrollLeft=1e5,c.scrollTop=1e5,g.scrollLeft=1e5,g.scrollTop=1e5};let S,T,M,L,D=i.target.offsetWidth,P=i.target.offsetHeight;if(0===D||0===P){const V=function(){_(),i.target.removeEventListener("resize",V)};i.target.addEventListener("resize",V),_()}else _();i.target.resizeHandler=function(){T||(T=requestAnimationFrame(function(){if(T=0,M=i.target.offsetWidth,L=i.target.offsetHeight,S=M!==D||L!==P,i.target.requiresLayout&&(S=!0),!S)return;D=M,P=L;const V=new CustomEvent("resize",{bubbles:!1,cancelable:!0});i.resize(V),i.target.requiresLayout=!1})),_()},c.addEventListener("scroll",i.target.resizeHandler),g.addEventListener("scroll",i.target.resizeHandler)}i.isListening||(i.isListening=!0,i.isPressed=!1,i.isReleased=!1,i.isInBounds=!1,window.PointerEvent?(i.$target.listen("pointerdown.inputEvents"+i.id,i.pointerDown.bind(i)),i.$target.listen("pointerup.inputEvents"+i.id,i.pointerUp.bind(i)),i.$target.listen("pointermove.inputEvents"+i.id,i.pointerMove.bind(i)),i.$target.listen("pointercancel.inputEvents"+i.id,i.pointerCancel.bind(i))):("ontouchstart"in window&&(i.$target.listen("touchmove.inputEvents"+i.id,i.touchMove.bind(i)),i.$target.listen("touchstart.inputEvents"+i.id,i.touchStart.bind(i)),i.$target.listen("touchend.inputEvents"+i.id,i.touchEnd.bind(i)),i.$target.listen("touchcancel.inputEvents"+i.id,i.touchCancel.bind(i))),i.$target.listen("mousedown.inputEvents"+i.id,i.mouseDown.bind(i)),i.$target.listen("mouseup.inputEvents"+i.id,i.mouseUp.bind(i)),i.$target.listen("mousemove.inputEvents"+i.id,i.mouseMove.bind(i)),i.$target.listen("mouseleave.inputEvents"+i.id,i.mouseLeave.bind(i))),i.target._handleDocumentUp||(i.target._handleDocumentUp=i.handleDocumentUp.bind(i),i.target._handleDocumentUpId=i.id,i.$document.listen("mouseup.inputEvents"+i.target._handleDocumentUpId,i.target._handleDocumentUp)))}unlisten(r){const i=this;if(i.isListening=!1,window.PointerEvent?(i.$target.unlisten("pointerdown.inputEvents"+i.id),i.$target.unlisten("pointerup.inputEvents"+i.id),i.$target.unlisten("pointermove.inputEvents"+i.id),i.$target.unlisten("pointercancel.inputEvents"+i.id)):("ontouchstart"in window&&(i.$target.unlisten("touchstart.inputEvents"+i.id),i.$target.unlisten("touchmove.inputEvents"+i.id),i.$target.unlisten("touchend.inputEvents"+i.id),i.$target.unlisten("touchcancel.inputEvents"+i.id)),i.$target.unlisten("mousedown.inputEvents"+i.id),i.$target.unlisten("mouseup.inputEvents"+i.id),i.$target.unlisten("mousemove.inputEvents"+i.id),i.$target.unlisten("mouseleave.inputEvents"+i.id)),i.target._handleDocumentUp&&(i.$document.unlisten("mouseup.inputEvents"+i.target._handleDocumentUpId,i.target._handleDocumentUp),delete i.target._handleDocumentUp,delete i.target._handleDocumentUpId),"resize"===r)if(Smart.Utilities.Core.Browser.Firefox)i.target.resizeObserver&&(i.target.resizeObserver.unobserve(i.target),delete i.target.resizeObserver);else if(i.target.resizeTrigger){const l=i.target.resizeTrigger,p=l.childNodes[1];l.childNodes[0].removeEventListener("scroll",i.target.resizeHandler),p.removeEventListener("scroll",i.target.resizeHandler),i.target.resizeHandler=null,l.parentNode.removeChild(l),delete i.target.resizeTrigger}}handleDocumentUp(r){const i=this;i.isPressed=!1,i.isReleased=!1,i.resetSwipe(r)}createEvent(r,i){const l=this,c=r.touches,p=r.changedTouches,g=c&&c.length?c[0]:p&&p.length?p[0]:void 0,_=new CustomEvent(i,{bubbles:!0,cancelable:!0,composed:void 0!==l.$target.element.getRootNode().host});if(_.originalEvent=r,g){for(let S=0;S<l.inputEventProperties.length;S++){const T=l.inputEventProperties[S];_[T]=g[T]}return _}for(let S in r)S in _||(_[S]=r[S]);return _}fireTap(r){const i=this;if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const l=i.createEvent(r,"tap");i.tap(l)}}initTap(r){const i=this;i.isInBounds=!0,i.tapHoldFired=!1,i.tapHoldTimeout=setTimeout(function(){if(i.isInBounds){i.tapHoldFired=!0;const l=i.createEvent(r,"taphold");i.taphold(l)}},i.tapHoldDelay)}pointerDown(r){return this.handleDown(r)}mouseDown(r){const i=this;if(!(i.isPressed||i.touchStartTime&&new Date-i.touchStartTime<500))return i.handleDown(r)}touchStart(r){const i=this;return i.touchStartTime=new Date,i.isTouchMoved=!0,i.handleDown(r)}mouseUp(r){const i=this;if(!(i.isReleased||i.touchEndTime&&new Date-i.touchEndTime<500))return i.handleUp(r)}handleDown(r){const i=this;i.isReleased=!1,i.isPressed=!0;const l=i.createEvent(r,"down");return(i.handlers.tap||i.handlers.taphold)&&i.initTap(l),(i.handlers.swipeleft||i.handlers.swiperight||i.handlers.swipetop||i.handlers.swipebottom)&&i.initSwipe(l),i.down(l)}handleUp(r){const i=this;i.isReleased=!0,i.isPressed=!1;const l=i.createEvent(r,"up"),c=i.up(l);return(i.handlers.tap||i.handlers.taphold)&&i.fireTap(l),i.resetSwipe(l),c}handleMove(r){const i=this;let l=i.move(r);return i.isPressed&&(i._maxSwipeVerticalDistance=Math.max(i._maxSwipeVerticalDistance,Math.abs(i._startY-r.pageY)),i._maxSwipeHorizontalDistance=Math.max(i._maxSwipeHorizontalDistance,Math.abs(i._startX-r.pageX)),l=i.handleSwipeEvents(r)),l}touchEnd(r){return this.touchEndTime=new Date,this.handleUp(r)}pointerUp(r){return this.handleUp(r)}pointerCancel(r){this.pointerUp(r)}touchCancel(r){this.touchEnd(r)}mouseLeave(){this.isInBounds=!1}mouseMove(r){if(!this.isTouchMoved)return this.handleMove(r)}pointerMove(r){return this.handleMove(r)}touchMove(r){const i=this,l=r.touches,c=r.changedTouches,p=l&&l.length?l[0]:c&&c.length?c[0]:void 0;for(let g=0;g<i.inputEventProperties.length;g++){const _=i.inputEventProperties[g];void 0===r[_]&&(r[_]=p[_])}return i.isTouchMoved=!0,i.handleMove(r)}handleSwipeEvents(r){const i=this;let l=!0;return(i.handlers.swipetop||i.handlers.swipebottom)&&(l=this.handleVerticalSwipeEvents(r)),!1===l||(i.handlers.swipeleft||i.handlers.swiperight)&&(l=this.handleHorizontalSwipeEvents(r)),l}handleVerticalSwipeEvents(r){let i,l;return i=r.pageY,l=i-this._startY,this.swiped(r,l,"vertical")}handleHorizontalSwipeEvents(r){let i,l;return i=r.pageX,l=i-this._startX,this.swiped(r,l,"horizontal")}swiped(r,i,l){const c=this;if(l=l||0,Math.abs(i)>=c.swipeMin&&!c._swipeEvent&&!c._swipeLocked){let p=i<0?"swipeleft":"swiperight";if("horizontal"===l?c._swipeEvent=c.createEvent(r,p):(p=i<0?"swipetop":"swipebottom",c._swipeEvent=c.createEvent(r,i<0?"swipetop":"swipebottom")),c[p]&&(c[p](this._swipeEvent),Math.abs(i)<=this.swipeMax))return r.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(r){const i=this;i._maxSwipeVerticalDistance=0,i._maxSwipeHorizontalDistance=0,i._startX=r.pageX,i._startY=r.pageY,i._swipeLocked=!1,i._swipeEvent=null,i._swipeTimeout=setTimeout(function(){i._swipeLocked=!0},i.swipeDelay)}}class w{get scrollWidth(){return this.horizontalScrollBar?this.horizontalScrollBar.max:-1}set scrollWidth(r){r<0&&(r=0),this.horizontalScrollBar&&(this.horizontalScrollBar.max=r)}get scrollHeight(){return this.verticalScrollBar?this.verticalScrollBar.max:-1}set scrollHeight(r){r<0&&(r=0),this.verticalScrollBar&&(this.verticalScrollBar.max=r)}get scrollLeft(){return this.horizontalScrollBar?this.horizontalScrollBar.value:-1}set scrollLeft(r){r<0&&(r=0),this.horizontalScrollBar&&(this.horizontalScrollBar.value=r)}get scrollTop(){return this.verticalScrollBar?this.verticalScrollBar.value:-1}set scrollTop(r){r<0&&(r=0),this.verticalScrollBar&&(this.verticalScrollBar.value=r)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(r,i,l){const c=this;c.container=r,c.horizontalScrollBar=i,c.verticalScrollBar=l,c.disableSwipeScroll=!1,c.listen()}listen(){const r=this,i=f.isMobile,l=r.horizontalScrollBar,c=r.verticalScrollBar;let p,g,_,S,T,M,L,D;r.inputEvents=new x(r.container);const P=function(Q){return{amplitude:0,delta:0,initialValue:0,min:0,max:Q.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:Q,value:0,velocity:0}},V=P(l),U=P(c),j=function(){const Q=r.container.touchVelocityCoefficient||50;M=Date.now(),L=M-S,S=M;const te=function(X){X.delta=X.value-X.previousValue,X.previousValue=X.value,X.velocity=Q*X.delta/(1+L)*.8+.2*X.velocity};te(U),te(V)},G=function(Q){return D.value=Q>D.max?D.max:Q<D.min?D.min:Q,D.scrollBar.value=D.value,Q>D.max?"max":Q<D.min?"min":"value"};function q(){let Q,te;D.amplitude&&(r.container.$.fireEvent("kineticScroll"),Q=Date.now()-S,te=-D.amplitude*Math.exp(-Q/500),te>5||te<-5?(G(D.targetValue+te),cancelAnimationFrame(g),g=0,g=requestAnimationFrame(q)):G(D.targetValue))}let Z;r.inputEvents.down(function(Q){if(!i)return;const te=Q.originalEvent.target,X=te&&te.closest?te.closest("smart-scroll-bar"):void 0;if(X===r.horizontalScrollBar||X===r.verticalScrollBar)return;_=!0,p=!1;const re=function(ie,se){ie.amplitude=0,ie.pointerPosition=se,ie.previousValue=ie.value,ie.value=ie.scrollBar.value,ie.initialValue=ie.value,ie.max=ie.scrollBar.max};re(U,Q.clientY),re(V,Q.clientX),S=Date.now(),clearInterval(T),T=setInterval(j,500)}),r.inputEvents.up(function(){if(!_)return!0;if(clearInterval(T),r.disableSwipeScroll)return void(_=!1);const Q=function(te){D=te,te.amplitude=.8*te.velocity,te.targetValue=Math.round(te.value+te.amplitude),S=Date.now(),cancelAnimationFrame(g),g=requestAnimationFrame(q),te.velocity=0};U.velocity>10||U.velocity<-10?Q(U):(V.velocity>10||V.velocity<-10)&&Q(V),_=!1}),r.inputEvents.move(function(Q){if(!_)return!0;if(r.disableSwipeScroll||(p&&(Q.originalEvent.preventDefault(),Q.originalEvent.stopPropagation()),V.visible=r.scrollWidth>0,U.visible=r.scrollHeight>0,!_||!V.visible&&!U.visible))return;const te=r.container.touchScrollRatio,X=r.container;let re,ie;te&&("number"==typeof te?(re=-te,ie=-te):"function"==typeof te&&(re=te(U.max,X.offsetHeight),ie=te(V.max,X.offsetWidth))),U.ratio=re||-U.max/X.offsetHeight,U.delta=(Q.clientY-U.pointerPosition)*U.ratio,V.ratio=ie||-V.max/X.offsetWidth,V.delta=(Q.clientX-V.pointerPosition)*V.ratio;let se="value";const le=function(ee,ce,ae){return ee.delta>5||ee.delta<-5?(D=ee,se=ee.initialValue+ee.delta>D.max?"max":ee.initialValue+ee.delta<D.min?"min":"value","min"===se&&0===ee.initialValue||"max"===se&&ee.initialValue===ee.max||!ee.visible||(r.container.$.fireEvent("kineticScroll"),G(ee.initialValue+ee.delta),j(),ae.originalEvent.preventDefault(),ae.originalEvent.stopPropagation(),p=!0,!1)):null};let de=le(U,0,Q);if(null!==de)return de;{let ee=le(V,0,Q);if(null!==ee)return ee}}),r.scrollTo=function(Q,te){const X=!1===te?V:U;let re=!1;S||(S=Date.now()),Z||(Z=Date.now()),Math.abs(Date.now()-Z)>375?S=Date.now():re=!0,Z=Date.now(),X.value=X.scrollBar.value,X.delta=Q-X.value,X.max=X.scrollBar.max,Q<=X.min&&(Q=X.min),Q>=X.max&&(Q=X.max),X.targetValue=Q;const ie=Q;let se=X.value;X.velocity=100*X.delta/(1+X.max),X.from=se;const le=function(ee){return X.value=ee>X.max?X.max:ee<X.min?X.min:ee,X.scrollBar.value=X.value,ee>X.max?"max":ee<X.min?"min":"value"},de=function(){let ee,ce=Date.now()-Z,ae=Math.min(1e3,Date.now()-S),oe=X.velocity*Math.exp(ae/175);if(re)(oe<0&&X.value<=Q||oe>0&&X.value>=Q)&&(oe=0),(X.value+oe<=X.min||X.value+oe>=X.max)&&(oe=0),oe>.5||oe<-.5?(le(X.value+oe),cancelAnimationFrame(g),g=0,g=requestAnimationFrame(de)):le(X.targetValue);else{if(ce>=175)return cancelAnimationFrame(g),r.container.$.fireEvent("kineticScroll"),void(g=0);ee=N.Animation.Easings.easeInSine(ce,se,ie-se,175),le(ee),cancelAnimationFrame(g),g=0,g=requestAnimationFrame(de)}};cancelAnimationFrame(g),g=requestAnimationFrame(de)},r.inputEvents.listen()}unlisten(){const r=this;r.inputEvents&&r.inputEvents.unlisten(),delete r.inputEvents}}class C{constructor(r){this.events={},this.handlers={},this.element=r}hasClass(r){const i=this,l=r.split(" ");for(let c=0;c<l.length;c++)if(!i.element.classList.contains(l[c]))return!1;return!0}addClass(r){const i=this;if(i.hasClass(r))return;const l=r.split(" ");for(let c=0;c<l.length;c++)i.element.classList.add(l[c]);i.isNativeElement||u.observeElement(i.element)}removeClass(r){const i=this;if(0===arguments.length)return void i.element.removeAttribute("class");const l=r.split(" ");for(let c=0;c<l.length;c++)i.element.classList.remove(l[c]);""===i.element.className&&i.element.removeAttribute("class"),i.isNativeElement||u.observeElement(i.element)}get isCustomElement(){const r=this;return!!r.element.tagName.startsWith(n)||r.element instanceof window[n].BaseElement==1||"DIV"!==r.element.tagName&&"SPAN"!==r.element.tagName&&"BUTTON"!==r.element.tagName&&"INPUT"!==r.element.tagName&&"UL"!==r.element.tagName&&"LI"!==r.element.tagName&&document.createElement(r.element.nodeName)instanceof window[n].BaseElement==1}get isNativeElement(){return!this.isCustomElement}dispatch(r){const i=this,l=i.events[r.type];let c=!1;if(l.length>1)for(let p=0;p<l.length;p++){const g=l[p];if(g.namespace&&g.namespace.indexOf("_")>=0){c=!0;break}}c&&l.sort(function(p,g){let _=p.namespace,S=g.namespace;return _=-1===_.indexOf("_")?0:parseInt(_.substring(_.indexOf("_")+1)),S=-1===S.indexOf("_")?0:parseInt(S.substring(S.indexOf("_")+1)),_<S?-1:_>S?1:0});for(let p=0;p<l.length;p++){const g=l[p];if(r.namespace=g.namespace,r.context=g.context,r.defaultPrevented)break;const _=g.handler.apply(i.element,[r]);if(void 0!==_&&(r.result=_,!1===_)){r.preventDefault(),r.stopPropagation();break}}return r.result}fireEvent(r,i,l){l||(l={bubbles:!0,cancelable:!0,composed:null!==this.element.getRootNode().host}),l.detail=i||{};const p=new CustomEvent(r,l);return p.originalStopPropagation=p.stopPropagation,p.stopPropagation=function(){return p.isPropagationStopped=!0,p.originalStopPropagation()},this.dispatchEvent(p),p}get isPassiveSupported(){const r=this;if(void 0!==r.supportsPassive)return r.supportsPassive;r.supportsPassive=!1;try{let i=Object.defineProperty({},"passive",{get:function(){r.supportsPassive=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(i){}return r.supportsPassive}dispatchEvent(r){const i=this,l=r.type,c=i.element.context,p=l.substring(0,1).toUpperCase()+l.substring(1);i.element.context=document,i.element["on"+p]?i.element["on"+p](r):i.element["on"+l.toLowerCase()]?i.element["on"+l.toLowerCase()](r):i.element.dispatchEvent(r),i.element.context=c}listen(r,i){const l=this,c=r.split("."),p=c.slice(1).join("."),g=c[0];l.events[g]||(l.events[g]=[]);const _={type:g,handler:i,context:l.element,namespace:p};b.indexOf(g)>=0&&(l.inputEvents||(l.inputEvents=new x(l.element)),l.inputEvents[g](function(S){l.dispatchEvent(S)}),l.inputEvents.boundEventTypes.push(g),l.inputEvents.listen(g)),0===l.events[g].length&&(l.handlers[g]=l.dispatch.bind(l),"wheel"===g?l.element.addEventListener("wheel",l.handlers[g],!!l.isPassiveSupported&&{passive:!1}):l.element.addEventListener(g,l.handlers[g],("touchmove"===g||"touchstart"===g||"touchend"===g)&&!!l.isPassiveSupported&&{passive:!1})),l.events[g].push(_)}unlisten(r){const i=this,l=r.split("."),c=l.slice(1).join("."),p=l[0];let g=i.events[p];if(i.inputEvents&&i.inputEvents.boundEventTypes.indexOf(p)>=0&&(i.inputEvents.boundEventTypes.splice(i.inputEvents.boundEventTypes.indexOf(p),1),0===i.inputEvents.boundEventTypes.length&&i.inputEvents.unlisten(p)),g){for(let _=0;_<g.length;_++){if(""!==c){let S=g.findIndex(T=>T.namespace===c);g.splice(S,1);break}g=[]}0===g.length&&(i.element.removeEventListener(p,i.handlers[p]),i.events[p]=[],delete i.handlers[p])}}getAttributeValue(r,i){const l=this,c=l.element.getAttribute(r);if(l.isNativeElement)return l.deserialize(c,i);const p=l.element.propertyByAttributeName[r];return void 0===p.deserialize?l.deserialize(c,i,p.nullable):l.element[p.deserialize](c)}setAttributeValue(r,i,l){const c=this;let p,g=!1;if(c.isNativeElement){if(p=c.serialize(i,l),"boolean"===l&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(r)>=0)return void(i?c.element.setAttribute(r,""):c.element.removeAttribute(r))}else{const _=c.element.propertyByAttributeName[r];g=!_||_.nullable,p=_&&_.serialize?c.element[_.serialize](i):c.serialize(i,l,g)}"array"!==l&&"object"!==l||"[]"!==p&&"{}"!==p?void 0===p?(c.element.removeAttribute(r),c.element.shadowRoot&&c.element.$.root&&c.element.$.root.removeAttribute(r)):(c.element.setAttribute(r,p),c.element.shadowRoot&&c.element.$.root&&c.element.$.root.setAttribute(r,p)):c.element.removeAttribute(r)}serialize(r,i,l){if(void 0===i&&(i=N.Types.getType(r)),void 0!==r&&(l||null!==r)){if(l&&null===r)return"null";if("string"===i)return r;if("boolean"===i||"bool"===i){if(!0===r||"true"===r||1===r||"1"===r)return"";if(!1===r||"false"===r||0===r||"0"===r)return}return"array"===i?JSON.stringify(r):["string","number","int","integer","float","date","any","function"].indexOf(i)>=0?r.toString():"object"===i?JSON.stringify(r):void 0}}deserialize(r,i,l){const c="null"===r;if(void 0!==r&&(!c||l)){if(c&&l)return null;if("boolean"===i||"bool"===i)return null!==r;if("number"===i||"float"===i)return"NaN"===r?NaN:"Infinity"===r?1/0:"-Infinity"===r?-1/0:parseFloat(r);if("int"===i||"integer"===i)return"NaN"===r?NaN:"Infinity"===r?1/0:"-Infinity"===r?-1/0:parseInt(r);if("string"===i||"any"===i)return r;if("date"===i)return new Date(r);if("function"===i){if("function"==typeof window[r])return window[r]}else if("array"===i||"object"===i)try{const p=JSON.parse(r);if(p)return p}catch(p){if(window[r]&&"object"==typeof window[r])return window[r];if("array"===i&&r.indexOf("[")>=0){if(r.indexOf("{")>=0){let g=r.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();g=g.split("},");for(let _=0;_<g.length;_++){let S={},T=g[_].trim().split(",");for(let M=0;M<T.length;M++){const L=T[M].split(":")[0].trim(),D=T[M].split(":")[1].trim();S[L]=D}g[_]=S}return g}return r.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class A{static get Ripple(){return o}static get Easings(){return d}}class N{static get Types(){return s}static get Core(){return f}static get Animation(){return A}static get Scroll(){return w}static get InputEvents(){return x}static Extend(r){return new C(r)}static Assign(r,i){if(r.indexOf(".")>=0){const l=r.split(".");return N[l[0]]||(N[l[0]]={}),void(N[l[0]][l[1]]=i)}N[r]=i}}const E=N.Extend(document);let O=null;document.addEventListener("click",()=>{u.start(),O&&clearTimeout(O),O=setTimeout(()=>{u.stop()},1e4)}),document.addEventListener("mouseenter",()=>{u.start()}),document.addEventListener("mouseleave",()=>{u.stop()});class I{}I.cache={};class k extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:null,type:"any",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[n].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}getBindings(r,i){const l=this;let c=0,p={},g=(_=>{if(_ instanceof HTMLElement)return l.parseAttributes(_);{let S=l.parseProperty(_.data?_.data.trim():null,"textContent",_);if(S)return l&&_.parentNode===l.$.content&&(S.value=""!==l.$.html?l.$.html:void 0,l.innerHTML=""),{textContent:S}}})(r);g&&(p.data=g),i||(p.mapping=[],i=p),r.getAttribute&&(p.nodeId=r.getAttribute("smart-id"),i&&g&&(i.mapping[p.nodeId]=g)),p.node=r,r.firstChild&&(p.children={});for(let _=r.firstChild;_;_=_.nextSibling)p.children[c++]=l.getBindings(_,i);return p}_addRemovePropertyBinding(r,i,l,c,p){if(!r||!i||!l)return;const g=this,_=g.bindings,S=l.getAttribute("smart-id"),T=r.indexOf("{{")>=0;let M=!1;(r=r.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(r=r.replace("!",""),M=!0);const L=g._properties[r],D={name:r,reflectToAttribute:L.reflectToAttribute,twoWay:T,type:L.type,not:M};if(p&&!c){const V={};V[r]={name:r,targetPropertyName:i,reflectToAttribute:L.reflectToAttribute,twoWay:T,type:L.type,not:M},_.mapping[S]=V}const P=function(V){for(let U in V){const j=V[U];if(j.nodeId===S){j.data||(j.data={}),c?(j.data[i]=null,delete j.data[i]):j.data[i]=D;break}if(j.children)P(j.children);else if(j.node&&j.node.children&&j.node===l.parentElement){const G=j.node;if(!G.firstChild)continue;j.children={};let q=0;for(let Z=G.firstChild;Z;Z=Z.nextSibling)j.children[q++]=g.getBindings(Z);P(j.children)}}};P(_.children),c?delete g.boundProperties[r]:g.boundProperties[r]=!0,g.updateBoundNodes(r)}addPropertyBinding(r,i,l,c){this._addRemovePropertyBinding(r,i,l,!1,c)}removePropertyBinding(r,i,l,c){this._addRemovePropertyBinding(r,i,l,!0,c)}parseAttributes(r){const i=this;let l;for(let c=0;c<r.attributes.length;c++){const p=r.attributes[c],g=p.name,_=p.value;I.cache["toCamelCase"+g]||(I.cache["toCamelCase"+g]=N.Core.toCamelCase(g));const S=I.cache["toCamelCase"+g];if(g.indexOf("(")>=0){let M=g.substring(1,g.length-1);if(i&&!i.dataContext){i.templateListeners[r.getAttribute("smart-id")+"."+M]=_,r.removeAttribute(g);continue}{l||(l={});const L=_.substring(0,_.indexOf("("));l[S]={isEvent:!0,name:M,value:L};continue}}let T=i.parseProperty(_,g,r);T&&(l||(l={}),l[S]=T)}return l}parseProperty(r,i){if(!r||!r.length)return;const l=this;let c,p=r.length,g=0,_=0,S=0,T=!0;for(;_<p;){g=r.indexOf("{{",_);let D=r.indexOf("[[",_),P="}}";if(D>=0&&(g<0||D<g)&&(g=D,T=!1,P="]]"),S=g<0?-1:r.indexOf(P,g+2),S<0)return;c=c||{};let V=r.slice(g+2,S).trim();c.name=V,_=S+2}const M=c.name,L=l?l._properties[M]:null;return c.twoWay=T,c.ready=!1,l&&(M.indexOf("::")>=0?l.boundProperties[M.substring(0,M.indexOf("::"))]=!0:l.boundProperties[M]=!0),L?(c.type=L.type,c.reflectToAttribute=L.reflectToAttribute):(c.type=["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(i)>=0?"boolean":"string",c.reflectToAttribute=!0),c}updateTextNodes(){const r=this;r.updateTextNode(r.shadowRoot||r,r.bindings,r)}updateTextNode(r,i,l){const c=this;if(!i)return;let p=0;for(let g=r.firstChild;g&&i.children;g=g.nextSibling)c.updateTextNode(g,i.children[p++],l);if(i&&i.data)for(let g in i.data){const _=i.data[g],S=_.name;"textContent"===g&&_.twoWay&&!_.updating&&void 0!==_.value&&(l[S]=_.value)}}updateBoundProperty(r,i){i.updating||(i.updating=!0,this[r]=i.value,i.updating=!1)}updateBoundNodes(r){const i=this;if(i.updateBoundNode(i.shadowRoot||i,i.bindings,i,r),i.detachedChildren.length>0)for(let l=0;l<i.detachedChildren.length;l++){const c=i.detachedChildren[l],p=c.getAttribute("smart-id"),g=function(S){if(S.nodeId===p)return S;for(let T in S.children){const M=S.children[T];if((M.getAttribute?M.getAttribute("smart-id"):"")===p)return S;if(M.children){const L=g(M);if(L)return L}}return null},_=g(i.bindings);if(_)i.updateBoundNode(c,_,i,r,!0);else if(c.getAttribute&&i.bindings.mapping){const S=i,T=i.bindings;if(T)for(let M in T.mapping){const L=S.querySelector('[smart-id="'+M+'"]');L&&i.updateBoundData(L,T.mapping[M],S,r)}}}}updateBoundMappedNodes(){const r=this,i=r.bindings,l=r;if(i.mapping)for(let c in i.mapping){let p=l.querySelector('[smart-id="'+c+'"]');if(l.shadowRoot&&(p=l.querySelector('[id="'+c+'"]'),p||(p=l.shadowRoot.querySelector('[id="'+c+'"]')||l.shadowRoot.querySelector('[smart-id="'+c+'"]'))),p)r.updateBoundData(p,i.mapping[c],l);else if(l.getAttribute("aria-controls")){let g=document.getElementById(l.getAttribute("aria-controls"));!g&&l.shadowRoot&&(g=l.shadowRoot.getElementById(l.getAttribute("aria-controls"))),p=g.querySelector('[smart-id="'+c+'"]'),p&&r.updateBoundData(p,i.mapping[c],l)}}}updateBoundNode(r,i,l,c,p){const g=this;if(!i)return;let _=0;if(p){if(p&&!i.data)for(let T=r.firstChild;T&&i.children;T=T.nextSibling)if(T.getAttribute){const M=T.getAttribute("smart-id"),L=function(){for(let D in i.children)if(i.children[D].nodeId===M)return i.children[D]}();g.updateBoundNode(T,L,l,c),_++}else g.updateBoundNode(T,i.children[_++],l,c,p)}else for(let T=r.firstChild;T&&i.children;T=T.nextSibling)if(T.getAttribute){const M=T.getAttribute("smart-id"),L=function(){for(let D in i.children)if(i.children[D].nodeId===M)return i.children[D]}();g.updateBoundNode(T,L,l,c),_++}else g.updateBoundNode(T,i.children[_++],l,c);i&&i.data&&g.updateBoundData(r,i.data,l,c)}updateBoundData(r,i,l,c){const p=this;for(let g in i){const _=i[g];let S=_.name;if(!_.updating&&(S.indexOf("::")>=0&&(S=S.substring(0,S.indexOf("::"))),void 0===c||c===S)){if(S.indexOf("(")>=0){let T=S.substring(S.indexOf("("));const M=S.substring(0,S.indexOf("("));if(T=T.substring(1,T.length-1),T=T.replace(/ /gi,""),T=T.split(","),T.length>0&&""!==T[0]){let L=[];for(let D=0;D<T.length;D++)L.push(l[T[D]]);_.value=l[M].apply(l,L)}else _.value=l[M]();_.type=typeof _.value}else _.value=l[S];if("innerHTML"===S){if(r[g].toString().trim()!==l[S].toString().trim()){if(window.smartBlazor&&r[g].indexOf("\x3c!--")>=0){(_.ready||l._properties[S].defaultValue!==_.value)&&(r[g]=_.value.toString());continue}(_.ready||l._properties[S].defaultValue!==_.value)&&(r[g]=_.value.toString().trim())}}else _.not?(r[g]=!_.value,_.targetPropertyName&&(r[_.targetPropertyName]=!_.value)):(r[g]=_.value,_.targetPropertyName&&(r[_.targetPropertyName]=_.value));if(r.$&&r.$.isNativeElement){I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const T=I.cache["toDash"+g],M=r.$.getAttributeValue(T,_.type);!_.reflectToAttribute||M===_.value&&_.ready||r.$.setAttributeValue(T,_.value,_.type),_.reflectToAttribute||r.$.setAttributeValue(T,null,_.type)}if(!_.ready){if(r.$&&r.$.isCustomElement){I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const T=I.cache["toDash"+g];r._properties||(r._beforeCreatedProperties=r._properties=r.propertyByAttributeName=[]),r._properties[g]||(r._properties[g]={attributeName:T},r._beforeCreatedProperties&&(r._beforeCreatedProperties[g]=r._properties[g]),r.propertyByAttributeName[T]=r._properties[g]);const M=r._properties[g];M.isUpdating=!0,_.reflectToAttribute&&r.$.setAttributeValue(M.attributeName,_.not?!_.value:_.value,_.type),_.reflectToAttribute||r.$.setAttributeValue(M.attributeName,null,_.type),M.isUpdating=!1}if(_.twoWay){const T=function(M){if(_.value=M,r.$&&r.$.isNativeElement){I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const L=I.cache["toDash"+g],D=r.$.getAttributeValue(L,_.type);_.reflectToAttribute&&D!==_.value&&r.$.setAttributeValue(L,_.value,_.type),_.reflectToAttribute||r.$.setAttributeValue(L,null,_.type)}};if(_.name.indexOf("::")>=0){const M=_.name.indexOf("::"),L=_.name.substring(M+2);p["$"+r.getAttribute("smart-id")].listen(L,function(){T(r[g]);const D=_.name.substring(0,_.name.indexOf("::"));p.updateBoundProperty(D,_)})}if(r.$&&r.$.isCustomElement){r._properties[g]&&(r._properties[g].notify=!0),I.cache["toDash"+g]||(I.cache["toDash"+g]=N.Core.toDash(g));const M=I.cache["toDash"+g];p["$"+r.getAttribute("smart-id")].listen(M+"-changed",function(L){T(L.detail.value);const P=p.context;L.context!==document&&(p.context=p),p.updateBoundProperty(_.name,_),p.context=P})}}}_.ready=!0}}}static clearCache(){this.cache={}}addMessages(r,i){Object.assign(this.messages[r],i)}localize(r,i){const l=this;if(!l.messages||!l.messages[l.locale])return;let c=l.messages[l.locale][r];if(""===c)return"";if(!c){const g=l.messages.en;if(g){let _=g[r];if(_){for(let S in i){let T=i[S];_=_.replace(new RegExp("{{"+S+"}}","g"),T)}return _}return r}}const p=c;for(let g in i){let _=i[g];c=c.replace(new RegExp("{{"+g+"}}","g"),_)}if(l.localizeFormatFunction){const g=l.localizeFormatFunction(p,c,i,r);if(void 0!==g)return g}return c}static get requires(){return{}}static get listeners(){return{"theme-changed":function(r){this.theme=r.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}get hasAnimation(){return"none"!==this.animation}get hasRippleAnimation(){return"none"!==this.animation&&"advanced"===this.animation}static get modules(){return window[n].Modules}get properties(){const r=this;return r._properties||(r._properties=[]),r._properties}get parents(){const r=this;let i=[],l=r.parentNode;for(;l&&9!==l.nodeType;)l instanceof HTMLElement==1&&i.push(l),l=l.parentNode;const c=r.getRootNode();return c.host&&(i=i.concat((g=>{let _=[g],S=g.parentNode;for(;S&&9!==S.nodeType;)S instanceof HTMLElement==1&&_.push(S),S=S.parentNode;return _})(c.host))),window[n].EnableShadowDOM&&r.isInShadowDOM&&r.shadowParent&&(i=i.concat(r.shadowParent.parents)),i}log(r){this._logger("log",r)}warn(r){this._logger("warn",r)}error(r){this._logger("error",r)}_logger(r,i){if(this.debugMode){const l=i instanceof Error?i.message:i.toString();console[r](l)}if(this.rethrowError&&"error"===r)throw i}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){this.onRegistered&&this.onRegistered()}created(){const r=this;r.isReady=!1,r._initElement(r),r._setModuleState("created"),r.onCreated&&r.onCreated()}completed(){const r=this;r.isCompleted=!0,r._onCompleted&&r._onCompleted(),r.onCompleted&&r.onCompleted()}whenReady(r){const i=this;i.isCompleted?r():(i.whenReadyCallbacks||(i.whenReadyCallbacks=[]),i.whenReadyCallbacks.push(r))}whenRendered(r){const i=this;i.isRendered?r():(i.whenRenderedCallbacks||(i.whenRenderedCallbacks=[]),i.whenRenderedCallbacks.push(r))}addThemeClass(){const r=this;""!==r.theme&&r.classList.add("smart-"+r.theme)}addDefaultClass(){const r=this;r.classList.add(n.toLowerCase()+"-element"),r.classList.add(r.nodeName.toLowerCase())}_renderShadowRoot(){const r=this;if(r.shadowRoot){r.$.root.classList.add(r.nodeName.toLowerCase());for(let i=0;i<r.attributes.length;i++){const l=r.attributes[i];"class"===l.name||"id"===l.name||"style"===l.name||"tabindex"===l.name||l.name.indexOf("aria")>=0||r.$.root.setAttribute(l.name,l.value)}for(let i=0;i<r.classList.length;i++){const l=r.classList[i];"smart-element-init"!==l&&"smart-element"!==l&&"smart-hidden"!==l&&"smart-visibility-hidden"!==l&&r.$.root.classList.add(l)}}}render(){const r=this;if(!r.isRendered&&(r.isRendered=!0,r.isRendering=!1,r.context=document,r._renderShadowRoot(),r.whenRenderedCallbacks)){for(let i=0;i<r.whenRenderedCallbacks.length;i++)r.whenRenderedCallbacks[i]();r.whenRenderedCallbacks=[]}r.onRender&&r.onRender(),r.disabled&&r.setAttribute("aria-disabled",!0),r.readonly&&-1!==["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(r.getAttribute("role"))&&r.setAttribute("aria-readonly",!0)}ready(){const r=this;if(r._setId(),r.addThemeClass(),r.addDefaultClass(),"collapsed"===r.visibility?r.classList.add("smart-hidden"):"hidden"===r.visibility&&r.classList.add("smart-visibility-hidden"),r.dataContext&&r.applyDataContext(),r.onReady&&r.onReady(),r.shadowRoot&&Smart(r._selector)){if(Smart(r._selector).styleUrls){const i=Smart(r._selector).styleUrls;for(let l=0;l<i.length;l++)r.importStyle(i[l])}if(Smart(r._selector).styles){const i=document.createElement("style");i.innerHTML=Smart(r._selector).styles,r.shadowRoot.insertBefore(i,r.shadowRoot.firstChild)}}Smart(r._selector)&&Smart(r._selector).ready&&Smart(r._selector).ready()}_setId(){const r=this;if(!r.id){const i=r.elementName;r.id=i.slice(0,1).toLowerCase()+i.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}checkLicense(){"Evaluation"===window[n].License&&-1===window.location.hostname.indexOf("htmlelements")&&(this.logWatermark(),this.logLicense(),window[n].License="")}logWatermark(){const r=document.createElement("a");r.href="https://www.htmlelements.com/",r.innerHTML="https://www.htmlelements.com/",r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#fff",r.style.padding="20px",r.style.borderRadius="5px",r.style.background="#0C3D78",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="block",r.style.fontSize="24px",r.style.textDecoration="none",r.style.fontWeight="bold",r.style.opacity=0,r.style.transition="opacity .35s ease-in-out",r.id="watermark",document.getElementById("watermark")||setTimeout(()=>{document.getElementById("watermark")||(document.body.appendChild(r),setTimeout(()=>{r.style.opacity=1}),setTimeout(()=>{r.style.opacity=0,setTimeout(()=>{r.parentNode.removeChild(r)},350)},6e3))},1e3)}logLicense(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}get _selector(){const r=this;return r.id?"#"+r.id:r.classList.length>0?"."+r.classList[0]:""}applyDataContext(r){const i=this;let l="string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext;if(r&&(l=r,i.dataContext=r),l){if(!l._uid){l._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),l._properties=[];for(let c in l){const p=l[c];"function"!=typeof p&&"_properties"!==c&&"_uid"!==c&&(l._properties[c]=p,Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:()=>l._properties[c],set(g){const _=l._properties[c];l._properties[c]=g;let S=[];S[c]={oldValue:_,value:g},S.length++,i.updatingDataContext=!0,E.fireEvent("dataContextPropertyChanged",{dataContext:l,properties:S},{bubbles:!1,cancelable:!0}),i.updatingDataContext=!1}}))}}if(i.dataContextProperties=i.parseAttributes(i),i.dataContextPropertiesMap={},i.dataContextListeners={},i.dataContextProperties){i.updatingDataContext=!0;for(let c in i.dataContextProperties){const p=i.dataContextProperties[c],g=p.name;if(p.propertyName=c,i.dataContextPropertiesMap[g]=c,I.cache["toDash"+c]||(I.cache["toDash"+c]=N.Core.toDash(g)),p.isEvent){const _=p.value;i.dataContextListeners[g]&&i.removeEventListener(g,i.dataContextListeners[g]),i.dataContextListeners[g]=function(S){l[_](S)},i.addEventListener(g,i.dataContextListeners[g])}if(g.indexOf(".")>=0){const _=g.split(".");let S=l[_[0]];for(let T=1;T<_.length;T++)S=S[_[T]];void 0!==S&&(i[c]=S)}else i[c]=l[g]}i.dataContextPropertyChangedHandler=function(c){const p=c.detail.properties;if(c.detail.dataContext===("string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext))for(let g in p){const _=i.dataContextPropertiesMap[g],S=i.context;_&&(i.context=document,i[_]=p[g].value,i.context=S)}},E.listen("dataContextPropertyChanged",i.dataContextPropertyChangedHandler),i.updatingDataContext=!1}else i.dataContextProperties=null}else{i.dataContextProperties=null;const c=function(){("string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext)&&(i.applyDataContext(),window.removeEventListener("load",c))};window.addEventListener("load",c)}}updateDataContextProperty(r){const i=this,l="string"==typeof i.dataContext?window[i.dataContext]||document[i.dataContext]:i.dataContext,c=i.dataContextProperties[r];if(!i.updatingDataContext&&c.twoWay){const p=c.name;if(p.indexOf(".")>=0){const g=p.split(".");let _=l[g[0]];for(let S=1;S<g.length;S++)_=_[g[S]];void 0!==_&&(_=i[r],y[l._uid]&&(y[l._uid][r]=_))}else l[p]=i[r],y[l._uid]&&(y[l._uid][r]=l[p])}}static get version(){return window[n].Version}initProperties(){const r=this;if(Smart(r._selector)&&Smart(r._selector).properties&&(r._initProperties=Smart(r._selector).properties),r.hasAttribute("props")&&!r.props?r._initProperties=window[r.getAttribute("props")]:r.props&&(r._initProperties=r.props),r._initProperties){const i=Object.keys(r._initProperties);for(let l=0;l<i.length;l++){const c=i[l],p=r._initProperties[c];if(p.constructor===Smart.ObservableArray||p instanceof Smart.ObservableArray)r[c]=p.toArray();else if(p.constructor===Smart.DataAdapter||"smartDataAdapter"===p.constructor.name||"object"==typeof p&&Smart.DataAdapter&&p instanceof Smart.DataAdapter||p instanceof Smart.Observable||p.constructor===Smart.Observable||"object"!=typeof p||N.Types.isArray(p)||p instanceof Date){if(void 0===r[c]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(c)){const g=r.localize("propertyUnknownName",{name:c});r.log(g)}r[c]=p}else if("messages"!==c)if("dataSourceMap"!==c){if("object"==typeof p){const g=function(_,S){const T=Object.keys(_);for(let M=0;M<T.length;M++){const L=T[M],D=_[L],P=r._properties[S+"_"+L];if(P&&null===P.value){if(void 0===r[S+"_"+L]){const V=r.localize("propertyUnknownName",{name:S+"_"+L});r.log(V)}r[S+"_"+L]=D}else if("object"==typeof D&&!N.Types.isArray(D)&&D&&D.constructor!==Date)g(D,S+"_"+L);else{if(void 0===r[S+"_"+L]){const V=r.localize("propertyUnknownName",{name:S+"_"+L});r.log(V)}r[S+"_"+L]=D}}};g(p,c)}}else r[c]=p;else r[c]=Object.assign(r[c],p)}}}setProperties(r){const i=this,l=Object.keys(r);for(let c=0;c<l.length;c++){const p=l[c],g=r[p];if(g.constructor===Smart.ObservableArray||g instanceof Smart.ObservableArray)i[p]=g.toArray();else if(g.constructor===Smart.DataAdapter||"smartDataAdapter"===g.constructor.name||"object"==typeof g&&Smart.DataAdapter&&g instanceof Smart.DataAdapter||g instanceof Smart.Observable||g.constructor===Smart.Observable||"object"!=typeof g||N.Types.isArray(g)||g instanceof Date){if(void 0===i[p]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(p))continue;const _=i._properties[p];i[p]="int"===_.type||"number"===_.type&&"string"==typeof subPropertyValue?"int"===_.type?parseInt(g):parseFloat(g):g}else if("messages"!==p&&"dataSourceMap"!==p){if("object"==typeof g){const _=function(S,T){const M=Object.keys(S);for(let L=0;L<M.length;L++){const D=M[L],P=S[D],V=i._properties[T+"_"+D];if(V&&null===V.value){if(void 0===i[T+"_"+D])continue;const U=i._properties[T+"_"+D];i[T+"_"+D]="int"===U.type||"number"===U.type&&"string"==typeof P?"int"===U.type?parseInt(P):parseFloat(P):P}else if("object"==typeof P&&!N.Types.isArray(P)&&P&&P.constructor!==Date)_(P,T+"_"+D);else{if(void 0===i[T+"_"+D])continue;const U=i._properties[T+"_"+D];i[T+"_"+D]="int"===U.type||"number"===U.type&&"string"==typeof P?"int"===U.type?parseInt(P):parseFloat(P):P}}};_(g,p)}}else i[p]=g}}setup(){const r=this;if(r.context=this,r.isReady&&!r.isCompleted)return;if(r.isReady)return r._setModuleState("attached"),r.isAttached=!0,r.attached(),r._handleListeners("listen"),void(r.context=document);r.ownerElement&&r.ownerElement.detachedChildren.indexOf(r)>=0&&r.ownerElement.detachedChildren.splice(r.ownerElement.detachedChildren.indexOf(r),1),r.isReady=!0,r.methods=r.getStaticMember("methods"),r.initProperties(),f.isMobile&&r.classList.add("smart-mobile");for(let c=0;c<r.attributes.length;c+=1){const p=r.propertyByAttributeName[r.attributes[c].name];if(!p)continue;let g=r.$.getAttributeValue(p.attributeName,p.type);const _=g?g.toString():"";if(!(_.indexOf("{{")>=0||_.indexOf("[[")>=0||"object"!==p.type&&"array"!==p.type&&(r.attributes[c].value.indexOf("{{")>=0||r.attributes[c].value.indexOf("[[")>=0)||void 0===g||p.value===g)){const S=N.Types.getType(g),T=r.attributes[c].value;if(("any"===p.type||"object"===p.type)&&""+r[p.name]===g||"array"===p.type&&r[p.name]&&JSON.stringify(r[p.name])===g)continue;if("number"===S&&isNaN(g)&&"NaN"!==T&&"Infinity"!==T&&"-Infinity"!==T){const M=r.localize("propertyInvalidValueType",{name:p.name,actualType:"string",type:p.type});r.log(M)}p.isUpdatingFromAttribute=!0,r[p.name]=g,p.isUpdatingFromAttribute=!1}}for(let c in r._properties){const p=r._properties[c];if("innerHTML"===c&&p.value===p.defaultValue&&(p.value=p.defaultValue=N.Core.html(r)),"boolean"!==p.type&&"bool"!==p.type||"false"===r.getAttribute(p.attributeName)&&(p.isUpdating=!0,r.setAttribute(p.attributeName,""),p.isUpdating=!1),p.defaultReflectToAttribute&&p.reflectToAttribute){if(p.defaultReflectToAttribute&&p.defaultReflectToAttributeConditions){let g=!0;for(let _=0;_<p.defaultReflectToAttributeConditions.length;_++){const S=p.defaultReflectToAttributeConditions[_];let T,M;for(let L in S)T=L,M=S[L];r._properties[T]&&r._properties[T].value!==M&&(g=!1)}if(!g)continue}p.isUpdating=!0,r.$.setAttributeValue(p.attributeName,p.value,p.type),p.isUpdating=!1}}const i=[];if(r.children.length>0)for(let c=0;c<r.children.length;c++){const p=r.children[c];N.Extend(p).isCustomElement&&i.push(p)}r.applyTemplate(),r.complete=function(){if(!r.templateBindingsReady){const p=g=>{g.templateBindingsReady||(g.templateBindingsReady=!0,g.updateTextNodes(),g.updateBoundNodes())};if(r.ownerElement){let g=r.ownerElement,_=[];for(;g;)_.push(g),g=g.ownerElement;for(let S=_.length-1;S>=0;S--)p(_[S]);p(r)}else p(r)}const c=()=>{if(r._setModuleState("ready"),r.ready(),"auto"!==r.renderMode||r.isRendered||r.render(),r.isAttached=!0,r._setModuleState("attached"),r.attached(),r._handleListeners("listen"),r.isHidden||0!==r.offsetWidth&&0!==r.offsetHeight||(r.isHidden=!0),r.completed(),r.isRendered&&(r.context=document),r.whenReadyCallbacks){for(let p=0;p<r.whenReadyCallbacks.length;p++)r.whenReadyCallbacks[p]();r.whenReadyCallbacks=[]}};if(r.wait)r.classList.add("smart-visibility-hidden");else if(r.classList.contains("smart-async"))requestAnimationFrame(()=>{c()});else{const p=r.shadowParent;r.shadowParent=null;const g=r.parents;if(r.shadowParent=p,0===g.length)return;const _=()=>{let S=r.ownerElement,T=[];for(;S;)T.push(S),S=S.ownerElement;for(let M=T.length-1;M>=0;M--)T[M].updateBoundMappedNodes()};r.ownerElement&&"HTML"!==g[g.length-1].nodeName?r.getRootNode().host?c():r.ownerElement&&"HTML"===r.ownerElement.parents[r.ownerElement.parents.length-1].nodeName?(_(),c()):r.checkIsInDomInterval=setInterval(()=>{const S=r.parents;"HTML"===S[S.length-1].nodeName&&(clearInterval(r.checkIsInDomInterval),_(),c())},100):c()}};let l=[].slice.call(r.querySelectorAll("[smart-id]")).concat(i);if(window[n].EnableShadowDOM&&!0!==r.isInShadowDOM&&(l=[].slice.call(r.shadowRoot.querySelectorAll("[smart-id]")).concat(i)),0===l.length)r.complete();else{r._completeListeners=0;for(let c=0;c<l.length;c++){const p=l[c];if(N.Extend(p).isCustomElement){const g=function(){r._completeListeners--,0===r._completeListeners&&(r.complete(),delete r._completeListeners)}.bind(r);p.isCompleted||p.isUtilityElement||!0===p.wait||(r._completeListeners++,p._onCompleted||(p.completeHandlers=[],p._onCompleted=function(){for(let _=0;_<p.completeHandlers.length;_++)p.completeHandlers[_]()}),p.completeHandlers.push(g))}}0===r._completeListeners&&r.complete()}}visibilityChangedHandler(){const r=this;r.isReady&&requestAnimationFrame(()=>{0===r.offsetWidth||0===r.offsetHeight?r.isHidden=!0:(r.isHidden=!1,r.$.fireEvent("resize",r,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(r,i,l){const c=this,p=c.propertyByAttributeName[r];if("class"!==r&&"style"!==r||c.visibilityChangedHandler(),p||c.attributeChanged(r,i,l),c.onAttributeChanged&&c.onAttributeChanged(r,i,l),!p||p&&p.isUpdating)return;let g=c.$.getAttributeValue(p.attributeName,p.type);void 0!==l&&c[p.name]!==g&&(p.isUpdatingFromAttribute=!0,c[p.name]=void 0!==g?g:c._properties[p.name].defaultValue,p.isUpdatingFromAttribute=!1)}attributeChanged(r,i,l){}set hasStyleObserver(r){const i=this;void 0===i._hasStyleObserver&&(i._hasStyleObserver=r),r?u.watch(i):u.unwatch(i)}get hasStyleObserver(){return void 0===this._hasStyleObserver||this._hasStyleObserver}attached(){const r=this;r.hasStyleObserver&&u.watch(r),r.onAttached&&r.onAttached(),Smart(r._selector)&&Smart(r._selector).attached&&Smart(r._selector).attached()}detached(){const r=this;r.hasStyleObserver&&u.unwatch(r),r._setModuleState("detached"),r.isAttached=!1,r.ownerElement&&-1===r.ownerElement.detachedChildren.indexOf(r)&&r.ownerElement.detachedChildren.push(r),r._handleListeners("unlisten"),r.onDetached&&r.onDetached(),Smart(r._selector)&&Smart(r._selector).detached&&Smart(r._selector).detached(),v&&v[r._selector]&&delete v[r._selector]}propertyChangedHandler(r,i,l){const c=this;i!==l&&("theme"===r&&(""!==i&&c.classList.remove("smart-"+i),""!==l&&c.classList.add("smart-"+l)),"visibility"===r?("collapsed"===i?c.classList.remove("smart-hidden"):"hidden"===i&&c.classList.remove("smart-visibility-hidden"),"collapsed"===l?c.classList.add("smart-hidden"):"hidden"===l&&c.classList.add("smart-visibility-hidden")):("disabled"===r||"readonly"===r)&&c._ariaPropertyChangedHandler(r,l),c.propertyChanged&&c.propertyChanged(r,i,l))}_ariaPropertyChangedHandler(r,i){const l=this;"readonly"===r&&-1===["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(l.getAttribute("role"))||(i?l.setAttribute("aria-"+r,!0):l.removeAttribute("aria-"+r))}_handleListeners(r){const i=this,l=i.tagName.toLowerCase(),c=p=>{for(let g in p){const _=g.split(".");let S=_[0],T=i.$;if(_[1])if(S=_[1],T=i["$"+_[0]],"document"===_[0]){let D=i.smartId;""===D&&(D=N.Core.toCamelCase(l)),S=S+"."+D}else i.smartId&&(S=S+"."+i.smartId+"_"+i.parents.length);else i.smartId&&(S=S+"."+i.smartId);const M=p[g],L=function(D){const P=i.context;i.context=i,i[M]&&i[M].apply(i,[D]),i.context=P};T&&T[r](S,L)}};c(i.getStaticMember("listeners")),c(i.templateListeners),Smart(i._selector)&&Smart(i._selector).properties&&c(Smart(i._selector).listeners)}parseTemplate(){const r=this,i=r.template(),l=document.createDocumentFragment();if(e[r.nodeName]&&!a)return e[r.nodeName].cloneNode(!0);if(""===i)return null;let c=document.createElement("div");l.appendChild(c),c.innerHTML=i;let p=c.childNodes;c.parentNode.removeChild(c);for(let g=0;g<p.length;g++)l.appendChild(p[g]);return e[r.nodeName]=l,a?l:l.cloneNode(!0)}applyTemplate(){const r=this,i=r.parseTemplate();if(!i||!i.hasChildNodes)return;const l=i.childNodes[0],c=(_,S)=>{r["$"+_]=S.$=N.Extend(S),r.$[_]=S,S.ownerElement=r};let p=l;if(l.getElementsByTagName("content").length>0){let _=l.getElementsByTagName("content")[0];p=_.parentNode,p.removeChild(_)}else{const _=i.querySelectorAll("[inner-h-t-m-l]");_&&_.length>0&&(p=_[0])}r.$.template="template"===l.nodeName.toLowerCase()?l:l.querySelector("template");let g=i.querySelectorAll("[id]");0===g.length&&(g=i.querySelectorAll("*")),c("root",l),c("content",p),r.$.html=r.innerHTML.toString().trim();for(let _=0;_<g.length;_+=1){let S=g[_];""===S.id&&(S.id="child"+_),c(S.id,S),S.setAttribute("smart-id",S.id),r.shadowRoot?S.shadowParent=r:S.removeAttribute("id")}for(r.bindings=!1!==r.hasTemplateBindings?r.getBindings(i):[],r.$root.addClass("smart-container");r.childNodes.length;)p.appendChild(r.firstChild);if(r.appendTemplate(i),r.$.template){const _=document.createElement("div");_.classList.add("smart-template-container"),r.$.templateContainer=_,r.$.template.parentNode.insertBefore(_,r.$.template),r.refreshTemplate()}}refreshTemplate(){const r=this;if(!r.$.templateContainer)return;r.templateDetached(r.$.templateContainer);const i=r.$.template.content.cloneNode(!0);r.templateBindings=r.getBindings(i),r.templateProperties=[];let l=document.createDocumentFragment();const c=function(p,g,_){for(let S in p){const T=p[S],M=T.node.cloneNode();g.appendChild(M);let L=[],D=!1;if(T.data)for(let P in T.data){const V=T.data[P],U=V.name;if(r.templateProperties[U]=!0,M.removeAttribute(N.Core.toDash(P)),"*items"===P)L=r[U],D=!0;else if(U.indexOf("item.")>=0&&void 0!==_)V.value=_[U.substring(5)],M[P]=V.value;else if(U.indexOf("item")>=0&&void 0!==_)V.value=_,M[P]=V.value;else if("*if"===P)if(U.indexOf("(")>=0){let j,G=U.substring(U.indexOf("("));const q=U.substring(0,U.indexOf("("));if(G=G.substring(1,G.length-1),G=G.replace(/ /gi,""),G=G.split(","),G.length>0&&""!==G[0]){let Z=[];for(let Q=0;Q<G.length;Q++)Z.push(r[G[Q]]);j=r[q].apply(r,Z)}else j=r[q]();!1===j&&g.removeChild(M)}else r[U]||g.removeChild(M);else r.updateBoundNode(M,T,r,U)}if(L.length>0||D){for(let P=0;P<L.length;P++)T.children&&c(T.children,M,L[P]);if("number"==typeof L)for(let P=0;P<L;P++)T.children&&c(T.children,M,P)}else T.children&&c(T.children,M,_)}};c(r.templateBindings.children,l),r.$.templateContainer.innerHTML="",r.$.templateContainer.appendChild(l),r.templateAttached(r.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(r){this.appendChild(r)}defineElementModules(){const r=this,i=r.constructor.prototype;if("BaseElement"===i.elementName){i.modules=r.constructor.modules;const l=i.modules;for(let c=0;c<l.length;c+=1)r.addModule(l[c])}else{const l=i.modules;if(!l)return;for(let c=0;c<l.length;c+=1){const p=l[c],g=p.prototype;r.defineElementMethods(g.methodNames,g),r.defineElementProperties(p.properties)}}}watch(r,i){this._watch=null!==r&&null!==i?{properties:r,propertyChangedCallback:i}:null}unwatch(){this._watch=null}set(r,i,l){const c=this,p=c.context;c.context=!0===l?document:c,c[r]=i,c.context=p}get(r){return this[r]}_setModuleState(r,i){const l=this,c="is"+r.substring(0,1).toUpperCase()+r.substring(1),p="on"+r.substring(0,1).toUpperCase()+r.substring(1);for(let g=0;g<l.modulesList.length;g++){const _=l.modulesList[g];_[c]=!0,_[r]&&_[r](i),_[p]&&_[p](i)}}addModule(r,i){const l=this;if(!r)return;const c=l.modules.slice(0),p=r.prototype,g=Object.getPrototypeOf(r);if(g.name&&g.name!==r.name&&l.addModule(g),!r.moduleName&&r.name&&(r.moduleName=r.name),-1===c.findIndex(_=>r.moduleName===_.moduleName)&&c.push(r),l.defineModule(r),l.defineElementMethods(p.methodNames,p),l.defineElementProperties(r.properties),l.constructor.prototype.modules=c,i)for(let _ in Smart.Elements.tagNames){const S=Smart.Elements.tagNames[_];let T=Object.getPrototypeOf(S),M=[];for(;T!==HTMLElement;)M.push(T.prototype),T=Object.getPrototypeOf(T);M.indexOf(l)>=0&&S!==l&&S.prototype.addModule(r)}}defineModule(r){if(r.isDefined)return;r.prototype._initModule=function(p){this.ownerElement=p};const i=r.properties||{},l=Object.keys(i),c=Object.getOwnPropertyNames(r.prototype);r.prototype.methodNames=c;for(let p=0;p<l.length;p+=1){const g=l[p],_=i[g];Object.defineProperty(r.prototype,g,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[g]:_.value},set(S){this.ownerElement[g]=S}})}r.isDefined=!0}getStaticMember(r,i){const l=window[n][this.elementName],c=l[r];i||(i="");let p="array"===i?[]:"string"===i?"":{},g=Object.getPrototypeOf(l),_=[];for(;g[r];)_.push(g[r]),g=Object.getPrototypeOf(g);for(let S=_.length-1;S>=0;S--)if("array"===i)for(let T=0;T<_[S].length;T++)-1===p.indexOf(_[S][T])&&p.push(_[S][T]);else"string"===i?-1===p.indexOf(_[S])&&(p+=_[S]):p=N.Core.assign(p,_[S]);if("array"===i){for(let S=0;S<c.length;S++)-1===p.indexOf(c[S])&&p.push(c[S]);return p}return"string"===i?(-1===p.indexOf(c)&&(p+=c),p):N.Core.assign(p,c)}defineElementHierarchicalProperties(r,i){const c=[];(function(p){const g=Object.keys(p);for(let _=0;_<g.length;_++){const S=g[_];if("messages"===S)continue;const T=p[S],M=Object.keys(T),L=M.indexOf("value")>=0&&M.indexOf("type")>=0&&"object"==typeof T.value;if("propertyObject"===T.type||L){const D=function(P,V){if(!P.value)return;const U=Object.keys(P.value);for(let j=0;j<U.length;j++){const G=U[j],q=P.value[G],Z=V+"_"+G;if("object"!=typeof q||null===q)break;const Q=Object.keys(q);if(!(Q.indexOf("value")>=0&&Q.indexOf("type")>=0))break;if("array"!==P.type&&(P.isHierarchicalProperty=!0),q.parentPropertyName=V,i){const te=i._properties[Z];if(P.value.hasOwnProperty(G)){if(te.isDefined)continue;delete P.value[G]}te.isDefined=!0,Object.defineProperty(P.value,G,{configurable:!1,enumerable:!0,get:()=>i._properties[Z].value,set(X){i.updateProperty(i,i._properties[Z],X)}})}c[Z]||(c[Z]=q,c.length++),("propertyObject"===q.type||"object"==typeof q.value&&"array"!==q.type)&&D(i?i._properties[Z]:q,Z)}};D(T,S)}}})(r),c.length>0&&!i&&this.defineElementProperties(c)}defineElement(){const r=this,i=r.constructor.prototype,l=r.getStaticMember("properties"),c=Object.getOwnPropertyNames(i);i.extendedProperties={},i.boundProperties={},i.templateListeners={},r.defineElementModules(),r.defineElementMethods(c,i),r.defineElementProperties(l),r.defineElementHierarchicalProperties(r.extendedProperties),i._initElement=function(){const p=this,g=i.extendedProperties,_=Object.keys(g),S=p.modules;p.$=N.Extend(p),p.$document=E,p.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),p.isCreated||(p.modulesList=[],p._properties=[],p._beforeCreatedProperties&&(p._properties=p._beforeCreatedProperties,delete p._beforeCreatedProperties),p.detachedChildren=[],p.propertyByAttributeName=[]);for(let T=0;T<S.length;T+=1){let M=new S[T];M._initModule(p),p.modulesList.push(M)}for(let T=0;T<_.length;T+=1){const M=_[T],L=g[M];let D=L.value;if(p._properties[M]){if(void 0!==p._properties[M].notify)continue;delete p._properties[M]}if(F&&"innerHTML"===M&&delete p[M],-1===window.navigator.userAgent.indexOf("PhantomJS")&&p.hasOwnProperty(M)&&(D=p[M],delete p[M]),"array"===L.type&&null!=D&&(D=D.slice(0)),"object"===L.type&&null!=D&&(D=Array.isArray(D)?D.slice(0):Object.assign({},D)),p._properties[M]={name:M,notify:L.notify,allowedValues:L.allowedValues,type:L.type,nullable:L.nullable,reflectToAttribute:L.reflectToAttribute,defaultReflectToAttribute:L.defaultReflectToAttribute,defaultReflectToAttributeConditions:L.defaultReflectToAttributeConditions,value:D,readOnly:L.readOnly,defaultValue:D,attributeName:L.attributeName,observer:L.observer,inherit:L.inherit,extend:L.extend,validator:L.validator},p.propertyByAttributeName[L.attributeName]=p._properties[M],!L.hasOwnProperty("type")){const V=p.localize("propertyUnknownType",{name:M});p.log(V)}if("any"===L.type||"propertyObject"===L.type)continue;const P=N.Types.getType(D);if(null!=D&&L.type!==P&&!L.validator){if("object"===L.type&&"array"===P||"number"===P&&["integer","int","float"].findIndex(U=>U===L.type)>=0)continue;const V=p.localize("propertyInvalidValueType",{name:M,actualType:P,type:L.type});p.log(V)}}p.defineElementHierarchicalProperties(p._properties,p),p.isCreated=!0},i.registered()}defineElementMethods(r,i){const l=this.constructor.prototype,c=function(g,_){const S=Array.prototype.slice.call(arguments,2);return function(){if(!this.isReady&&"localize"!==_&&"localize"!==_&&"cloneNode"!==_&&"importStyle"!==_&&"log"!==_&&"parseAttributes"!==_){const j=this.localize("elementNotInDOM");this.log(j)}let M=this;for(let j=0;j<this.modulesList.length;j++){let G=this.modulesList[j];if(_ in G){M=G;break}}const L=this.context,D=S.concat(Array.prototype.slice.call(arguments));let P=null;const V=function(j,G){return j===G||"number"===j&&("int"===G||"integer"===G||"float"===G)||"bool"===j&&"boolean"===G||"boolean"===j&&"bool"===G||"object"===j&&"any"===G||void 0};if(this.methods){const j=this.methods[_];if(j){const G=j.split(":");P=G[G.length-1].trim();const q=[],Z=j.substring(1+j.indexOf("("),j.lastIndexOf(")")).split(",");let Q="";for(let X=0;X<Z.length;X++){const re=Z[X];Q+=re,re.indexOf(":")>=0?(q.push(Q),Q=""):Q+=","}let te=q.length;for(let X=0;X<q.length;X++){const re=q[X].trim().split(":"),ie=re[0].split("=")[0].trim().indexOf("?")>=0,se=re[1].indexOf("?")>=0,le=re[1].replace(/\?/gi,"").trim(),de=le.split("|");let ee=re[0].split("=")[1];const ce=N.Types.getType(D[X]);if(void 0===D[X]&&ee){switch(ee=ee.trim(),le[0]){case"date":{let ae=ee.substring(ee.indexOf("(")+1,ee.lastIndexOf(")"));ae=ae.length>0?ae.split(",").map(oe=>parseInt(oe)):[],ee=0===ae.length?new Date:new Date(ae[0],ae[1],ae[2]);break}case"bool":case"boolean":ee="true"===ee||"1"===ee;break;case"int":case"integer":ee=parseInt(ee);break;case"float":case"number":ee=parseFloat(ee);break;case"any":case"object":ee=ee.indexOf("{")>=0?JSON.parse(ee):ee}D.push(ee)}else ie&&te--;if(le!==ce&&ce){let ae=!0;for(let oe=0;oe<de.length;oe++)if(V(ce,de[oe])){ae=!1;break}if(ae&&(null!==D[X]||!se)){const oe=this.localize("methodInvalidValueType",{name:_,actualType:ce,type:le,argumentIndex:X});this.log(oe)}}if(D.length<te){const ae=this.localize("methodInvalidArgumentsCount",{name:_,actualArgumentsCount:D.length,argumentsCount:te});this.log(ae)}}}}this.context=this;const U=g.apply(M,D);if(P){const j=void 0===N.Types.getType(U)?"void":N.Types.getType(U);if(!V(j,P)){const G=this.localize("methodInvalidReturnType",{name:_,actualType:j,type:P});this.log(G)}}return this.context=L,U}},p=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"];for(let g in r){let _=r[g];_&&_.startsWith&&_.startsWith("_")||void 0!==p.find(S=>S===_)||l.extendedProperties[_]||N.Types.isFunction(i[_])&&(l[_]=c(i[_],_))}}defineElementProperties(r){if(!r)return;const i=this,l=i.constructor.prototype,c=Object.keys(r),p=i.getStaticMember("properties");Object.assign(l.extendedProperties,r),i.updateProperty=function(g,_,S){const T=g;if(!_||_.readOnly)return;if(_.allowedValues){let D=!1;for(let P=0;P<_.allowedValues.length;P++)if(_.allowedValues[P]===S){D=!0;break}if(!D){const P=JSON.stringify(_.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),U=T.localize("propertyInvalidValue",{name:_.name,actualValue:"'"+S+"'",value:P});return void T.log(U)}}const M=_.name,L=T._properties[M].value;if(_.validator&&T[_.validator]){const D=T.context;T.context=T;const P=T[_.validator](L,S);void 0!==P&&(S=P),T.context=D}if(L!==S){if(T.propertyChanging){const D=T.propertyChanging(M,L,S);if(!1===D||null===D)return}if(!_.hasOwnProperty("type")){const D=T.localize("propertyUnknownType",{name:M});T.log(D)}if("array"!==_.type||JSON.stringify(L)!==JSON.stringify(S)){if(null!=S&&"any"!==_.type&&"propertyObject"!==_.type&&_.type!==N.Types.getType(S)&&!_.validator||null===S&&!_.nullable){let D=!0;if("object"===_.type&&"array"===N.Types.getType(S)&&(D=!1),"number"===N.Types.getType(S)&&["integer","int","float"].findIndex(P=>P===_.type)>=0&&(D=!1),D){const P=T.localize("propertyInvalidValueType",{name:M,actualType:N.Types.getType(S),type:_.type});return void T.error(P)}}if(_.isUpdating=!0,_.isHierarchicalProperty){const D=function(P,V){const U=Object.keys(P);for(let j=0;j<U.length;j++){const G=U[j],q=P[G];"object"==typeof q&&!N.Types.isArray(q)&&q&&q.constructor!==Date?D(q,V+"_"+G):T[V+"_"+G]=q}};D(S,M)}else T._properties[M].value=S;if(!_.isUpdatingFromAttribute&&_.reflectToAttribute&&T.$.setAttributeValue(_.attributeName,S,_.type),T.isReady&&(!T.ownerElement||T.ownerElement&&T.ownerElement.isReady)){if("wait"===M&&(S||!L||T.isCompleted||(T.classList.remove("smart-visibility-hidden"),T.ownerElement&&T.ownerElement.updateBoundMappedNodes(),T.updateBoundMappedNodes(),T.complete())),"renderMode"===M)return;if(T.context!==T&&!T.wait){const P=T.context;T.context=T,T.propertyChangedHandler(M,L,S),T.context=P,_.observer&&T[_.observer]&&(T.context=T,T[_.observer](L,S),T.context=document),T._watch&&T._watch.properties.indexOf(M)>=0&&T._watch.propertyChangedCallback(M,L,S)}const D=_.notify||T.boundProperties[M];D&&(T.$.fireEvent(_.attributeName+"-changed",{context:T.context,oldValue:L,value:T[M]}),T.boundProperties[M]&&T.updateBoundNodes(M)),D&&T.templateProperties&&T.templateProperties[M]&&T.refreshTemplate(),T.dataContextProperties&&("dataContext"===M?T.applyDataContext():T.dataContextProperties[M]&&T.updateDataContextProperty(M))}_.isUpdating=!1}}};for(let g=0;g<c.length;g+=1){const _=c[g],S=r[_],T=N.Core.toDash(_),M=S.type||"any",L=M.indexOf("?")>=0||"any"===M;L&&"any"!==M&&(S.type=M.substring(0,M.length-1)),S.nullable=L,S.attributeName=T.toLowerCase(),S.name=_,S.reflectToAttribute=void 0===S.reflectToAttribute||S.reflectToAttribute,S.inherit&&p[_]&&(S.value=p[_].value),S.extend&&p[_]&&N.Core.assign(S.value,p[_].value),l.hasOwnProperty(_)||Object.defineProperty(l,_,{configurable:!1,enumerable:!0,get(){if(this._properties[_])return this._properties[_].value},set(D){const P=this;P.updateProperty(P,P._properties[_],D)}})}}}let R=[],H=[],B=[],F=!1;const z=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);z&&parseInt(z[2],10)<=50&&(F=!0);class ${static register(r,i){const l=i.prototype;let c=f.toCamelCase(r).replace(/[a-z]+/,""),p=i.version||window[n].Version;if(window.customElements.get(r)&&window.customElements.get(r).version===p)return;let g=r;for(p=p.split(".");window.customElements.get(r);)r=g+"-"+p.join("."),p[2]=parseInt(p[2])+1;if(!R[r]){if(r.startsWith(n.toLowerCase()))R[r]=window[n][c]=window[n.toLowerCase()+c]=i;else{let _=r.split("-")[0];_=_.substring(0,1).toUpperCase()+_.substring(1),window[n][_]||(window[n][_]={}),R[r]=window[n][_][c]=window[_.toLowerCase()+c]=i,window[n][c]&&(c=f.toCamelCase(r)),window[n][c]=i}l.elementName=c,l.defineElement(),H[r]&&H[r](l),window.customElements.define(r,i)}}static registerElements(){const r=this;if(r.toRegister){r.isRegistering=!0;for(let i=0;i<r.toRegister.length;i++){const l=r.toRegister[i];r.register(l.tagName,l.element)}r.isRegistering=!1}}static get(r){if(R[r])return R[r]}static whenRegistered(r,i){if(!r)throw new Error("Syntax Error: Invalid tag name");const l=H[r],c=this.get(r),p=c?c.modules.length:3;try{l||c?!l&&c?(i(c.prototype),H[r]=void 0):l&&!c?H[r]=function(g){l(g),i(g)}:l&&c&&(c.proto&&(l(c.proto),i(c.proto)),H[r]=void 0):H[r]=function(g){try{i(g)}catch(_){const S=_ instanceof Error?_.message:_.toString();console.log(S)}}}catch(g){const _=g instanceof Error?g.message:g.toString();console.log(_)}if(c&&p!==c.prototype.modules.length){const g=document.querySelectorAll(r);for(let _=0;_<g.length;_++){const S=g[_];S.isCreated&&S._initElement()}}}}$.lazyRegister=!1,$.tagNames=[];class W{constructor(){const r=this;r.name="observableArray",r.observables=arguments.length<3?null:arguments[2];const i=new Proxy(r,{deleteProperty:function(l,c){return delete l[c],!0},apply:function(l,c,p){return l.apply(c,p)},get:function(l,c){return l[c]||isNaN(parseInt(c))?l[c]:r.getItem(parseInt(c))},set:function(l,c,p){return l[c]||isNaN(parseInt(c))?(l[c]=p,!0):(r.setItem(parseInt(c),p),!0)}});if(r._addArgs={eventName:"change",object:i,action:"add",index:null,removed:new Array,addedCount:1},r._removeArgs={eventName:"change",object:i,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){r._array=[];const l=arguments[0];for(let c=0,p=l.length;c<p;c++){const g=r._getItem(r._array.length,l[c]);r._array.push(g)}}else r._array=Array.apply(null,arguments);return 2===arguments.length&&(r.notifyFn=arguments[1]),i}get canNotify(){const r=this;return void 0===r._canNotify&&(r._canNotify=!0),r._canNotify}set canNotify(r){this._canNotify=r}_notify(r){const i=this;i.canNotify&&i.notifyFn&&i.notifyFn(r)}notify(r){r&&(this.notifyFn=r)}toArray(){return this._array}_getItem(r,i){const l=this;return"string"==typeof i||"number"==typeof i||void 0===i?i:new Proxy(i,{deleteProperty:function(c,p){return delete c[p],!0},set:function(c,p,g){const _=c[p];return c[p]=g,!l._canNotify||!1===c.canNotify||(l.observables&&!l.observables[p]||l._notify({eventName:"change",object:l,target:c,action:"update",index:r,path:r+"."+p,oldValue:_,newValue:g,propertyName:p}),!0)}})}getItem(r){return this._array[r]}setItem(r,i){const l=this,c=l._array[r];l._array[r]=l._getItem(r,i),l._notify({eventName:"change",object:l._array,action:"update",index:r,removed:[c],addedCount:1})}get length(){return this._array.length}set length(r){const i=this;s.isNumber(r)&&i._array&&i._array.length!==r&&i.splice(r,i._array.length-r)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){const r=this;r._addArgs.index=r._array.length;const i=r._array.concat.apply(r._array,arguments);return new Smart.ObservableArray(i)}join(r){return this._array.join(r)}pop(){const r=this;r._removeArgs.index=r._array.length-1,delete r[r._array.length-1];const i=r._array.pop();return r._removeArgs.removed=[i],r._notify(r._removeArgs),r._notifyLengthChange(),i}push(){const r=this;if(r._addArgs.index=r._array.length,1===arguments.length&&Array.isArray(arguments[0])){const i=arguments[0];for(let l=0,c=i.length;l<c;l++){const p=r._getItem(r._array.length,i[l]);r._array.push(p)}}else{const i=r._getItem(r._addArgs.index,arguments[0]);r._array.push.apply(r._array,[i])}return r._addArgs.addedCount=r._array.length-r._addArgs.index,r._notify(r._addArgs),r._notifyLengthChange(),r._array.length}_notifyLengthChange(){const r=this;if(!r.canNotify)return;const i=r._createPropertyChangeData("length",r._array.length);r._notify(i)}_createPropertyChangeData(r,i,l){return{eventName:"change",object:this,action:r,value:i,oldValue:l}}reverse(){return this._array.reverse()}shift(){const r=this,i=r._array.shift();return r._removeArgs.index=0,r._removeArgs.removed=[i],r._notify(r._removeArgs),r._notifyLengthChange(),i}slice(r,i){return this._array.slice(r,i)}sort(r){return this._array.sort(r)}splice(r,i,l){const c=this,p=c._array.length;let g;if(l&&l.length)for(let _=0;_<l.length;_++)g=c._array.splice(r+_,i,l[_]);else g=c._array.splice.apply(c._array,arguments);if(l){let _=c.canNotify;if(c.canNotify=!1,l.length)for(let S=0;S<l.length;S++)c.setItem(r+S,l[S]);else c.setItem(r,l);c.canNotify=_,c._notify({eventName:"change",object:this,action:"add",index:r,added:g,addedCount:c._array.length>p?c._array.length-p:0})}else c._notify({eventName:"change",object:this,action:"remove",index:r,removed:g,addedCount:c._array.length>p?c._array.length-p:0});return c._array.length!==p&&c._notifyLengthChange(),g}unshift(){const r=this,i=r._array.length,l=r._array.unshift.apply(r._array,arguments);return r._addArgs.index=0,r._addArgs.addedCount=l-i,r._notify(this._addArgs),r._notifyLengthChange(),l}indexOf(r,i){const l=this;for(let c=i||0,p=l._array.length;c<p;c++)if(l._array[c]===r)return c;return-1}lastIndexOf(r,i){const l=this;for(let c=i||l._array.length-1;c>=0;c--)if(l._array[c]===r)return c;return-1}find(r,i){return this._array.find(r,i)}findIndex(r,i){return this._array.findIndex(r,i)}every(r,i){return this._array.every(r,i)}some(r,i){return this._array.some(r,i)}forEach(r,i){this._array.forEach(r,i)}map(r,i){return this._array.map(r,i)}filter(r,i){return this._array.filter(r,i)}reduce(r,i){return void 0!==i?this._array.reduce(r,i):this._array.reduce(r)}reduceRight(r,i){return void 0!==i?this._array.reduceRight(r,i):this._array.reduceRight(r)}move(r,i){this.splice(i,0,this.splice(r,1)[0])}}let Y={};window[n]&&(Y=window[n]),window[n]=function(h,r){let i=h;if(h){if(h.indexOf("#")>=0||h.indexOf(".")>=0)return v[h]?v[h]:r?(v[h]=new r,function(l,c){const p=c.properties;c._properties=[];const g=function(S,T){const M=Object.keys(S);for(let L=0;L<M.length;L++){const D=M[L],P=S[D];c._properties[T+D]=P,Array.isArray(P)?c._properties[T+D]=new W(P,function(V){const U=D+"."+V.path,j=V.newValue,G=document.querySelector(l);if(G){const q=U.split(".");let Z=G;for(let Q=0;Q<q.length;Q++)Z=Z[q[Q]];Z=j}}):(Object.defineProperty(S,D,{configurable:!1,enumerable:!0,get:()=>c._properties[T+D],set(V){c._properties[T+D]=V}}),P&&"DataAdapter"===P.constructor.name||P&&"object"==typeof P&&Smart.DataAdapter&&P instanceof Smart.DataAdapter||"object"==typeof P&&P&&Object.keys(P).length>0&&g(P,T+D+"."))}};g(p,""),Object.defineProperty(c,"properties",{configurable:!1,enumerable:!0,get:()=>p});const _=document.querySelector(l);if(_&&_.isReady)for(let S in p)_[S]=p[S];else if(_){_.props={};for(let S in p)_.props[S]=p[S]}}(h,v[h]),v[h]):void 0;if(r){if($.tagNames[h]=r,$.lazyRegister){$.toRegister||($.toRegister=[]);const l=f.toCamelCase(i).replace(/[a-z]+/,"");return window[n][l]=r,void $.toRegister.push({tagName:i,element:r})}$.register(i,r)}}},window.addEventListener("load",function(){const h=window[n].Elements.tagNames;let r=[];for(let i in h){const l=h[i];let c=document.querySelectorAll("["+i+"]");for(let g=0;g<c.length;g++){const _=c[g];_ instanceof HTMLDivElement&&(_.__proto__=l.prototype,_.created(),_.connectedCallback()),_.classList.add("smart-element-ready")}let p=l.name;"Item"===p&&(p="ListItem"),c=document.querySelectorAll('[is="'+n.toLocaleLowerCase()+p+'"]');for(let g=0;g<c.length;g++)r.push(c[g])}if(r.length>0){const i=l=>{let c=[],p=l.parentNode;for(;p&&9!==p.nodeType;)p instanceof HTMLElement==1&&c.push(p),p=p.parentNode;return c};r.sort(function(l,c){let p=i(l).length,g=i(c).length;return p<g?1:p>g?-1:0});for(let l=0;l<r.length;l++){const c=r[l],p=c.getAttribute("is");let g;g="smartItem"===p?new window.smartListItem(c):new window[p](c),g.removeAttribute("is")}}});const K=function(){if("complete"===document.readyState&&"manual"!==window[n].RenderMode){B.sort(function(h,r){let i=h.element.parents.length,l=r.element.parents.length;return i<l?-1:i>l?1:0});for(let h=0;h<B.length;h++)window[n].RenderMode="",B[h].element.isLoading=!1,B[h].callback(),window[n].RenderMode="";B=[],document.removeEventListener("readystatechange",K)}};Object.assign(window[n],{Elements:$,Modules:[],BaseElement:class extends k{static get observedAttributes(){let h=this,r=["external-style"];for(let i in h.prototype.extendedProperties)r.push(h.prototype.extendedProperties[i].attributeName);return r}static get styleUrls(){return[]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(h){this._styleUrl=h}get isInShadowDOM(){const h=this,r=h.getRootNode();return!h.hasAttribute("smart-blazor")&&r!==document&&r!==h}getShadowRootOrBody(){const h=this;return h.isInShadowDOM&&h.getRootNode().host?h.getRootNode().host.shadowRoot:document.body}get enableShadowDOM(){return window[n].EnableShadowDOM}importStyle(h,r){this._importStyle(h,r)}_importStyle(h,r){const i=this;if(!i.shadowRoot||!h)return;const l=g=>{const _=i.shadowRoot.children;for(let T=0;T<_.length;T++){const M=_[T];if(M instanceof HTMLLinkElement&&M.href===g)return r&&r(),null}const S=document.createElement("link");return S.rel="stylesheet",S.type="text/css",S.href=g,S.onload=r,S},c=(()=>{const g=i.shadowRoot.children;let _=null;for(let S=0;S<g.length;S++){const T=g[S];T instanceof HTMLLinkElement&&(_=T)}return _})(),p=(g,_)=>{_.parentNode.insertBefore(g,_.nextSibling)};if(Array.isArray(h)){const g=document.createDocumentFragment();for(let _=0;_<h.length;_++){const S=l(h[_]);S&&g.appendChild(S)}c?p(g,c):i.shadowRoot.insertBefore(g,i.shadowRoot.firstChild)}else{const g=l(h);if(!g)return;c?p(g,c):i.shadowRoot.insertBefore(g,i.shadowRoot.firstChild)}}attributeChanged(h,r,i){"style-url"===h&&(this.styleUrl=i)}attributeChangedCallback(h,r,i){this.isReady&&super.attributeChangedCallback(h,r,i)}constructor(h,r){super();const i=this;if(h){r&&(i._initProperties=r);const l=c=>{if("string"==typeof c?document.querySelector(c):c){const p="string"==typeof c?document.querySelector(c):c;if(p instanceof HTMLDivElement){const g=document.createElement(i.tagName);for(let _ of p.attributes)g.setAttribute(_.name,p.getAttribute(_.name));for(;p.childNodes.length;)g.appendChild(p.firstChild);return"string"==typeof c&&(g.id=c.substring(1)),g._initProperties=r,p.parentNode&&p.parentNode.replaceChild(g,p),g}if(r){const g=p.context;if(p._initProperties=r,p.isReady){p.context=p;const _={},S={};for(let T in r)_[T]=p[T],S[T]=r[T];Object.getOwnPropertyNames(r).length>0&&(p.initProperties(),p.propertyChangedHandler(r,_,S)),p.context=g}}return p}};if("string"==typeof h){const c=document.querySelectorAll(h),p=[];if(c.length>1){for(let g=0;g<c.length;g++){const _=l(c[g]);p.push(_)}return p}}else if(h&&h.length>0){const c=h;if(c.length>1){for(let p=0;p<c.length;p++){const g=l(c[p]);R.push(g)}return R}}return l(h)}i._styleUrl="",i.isUtilityElement||i.created()}_getRootShadowParent(){let h=this.shadowParent;for(;h;){if(!h.shadowParent)return h;h=h.shadowParent}return h||this.shadowParent}_getStyleUrl(h){let r=N.Core.getScriptLocation()+window[n].StyleBaseUrl+h;return this.shadowParent&&(r=r.replace("scoped/","")),r}_getStyleUrls(){const h=this;h.nodeName.startsWith(n);const r=h.getStaticMember("styleUrls","array"),i=[];for(let l=0;l<r.length;l++){const p=h._getStyleUrl(r[l]);i.push(p)}return i}_setupShadowRoot(){const h=this;h.classList.add("smart-element-init");const r=i=>{i.$.root&&(i.$.root.classList.add(n.toLowerCase()+"-element"),i.$.root.classList.add(h.nodeName.toLowerCase())),i.setup(),i.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[n].AdoptedStyleSheets)window[n].AdoptedStyleSheetsLoaded?(h.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,r(h)):(h.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets,window[n].AdoptedStyleSheetsLoadedQueue||(window[n].AdoptedStyleSheetsLoadedQueue=[]),window[n].AdoptedStyleSheetsLoadedQueue.push(h));else{const i=new CSSStyleSheet;let l=N.Core.getScriptLocation()+"/styles/smart.default.css";i.replace('@import url("'+l+'")').then(()=>{if(r(h),window[n].AdoptedStyleSheetsLoaded=!0,window[n].AdoptedStyleSheetsLoadedQueue){const c=window[n].AdoptedStyleSheetsLoadedQueue;for(let p=0;p<c.length;p++)r(c[p]);delete window[n].AdoptedStyleSheetsLoadedQueue}}).catch(c=>{console.error("Failed to load:",c)}),window[n].AdoptedStyleSheets=[i],document.adoptedStyleSheets=[i],h.shadowRoot.adoptedStyleSheets=window[n].AdoptedStyleSheets}}connect(){const h=this;window[n].EnableShadowDOM&&!h.shadowRoot&&!0!==h.isInShadowDOM&&(h.attachShadow({mode:"open"}),h.shadowRoot&&h.$.root&&(h.shadowRoot.appendChild(h.$.root),h.$.root.classList.add(h.nodeName.toLowerCase()))),h.shadowRoot||h.shadowParent?h.shadowRoot?h._setupShadowRoot():(h.shadowParent&&window,h.setup()):h.setup()}connectedCallback(){const h=this;if(h.isLoading||h.isUtilityElement)return;h.classList.add("smart-element-init");const r=function(){h.classList.remove("smart-element-init")};if("complete"===document.readyState&&(void 0===window[n].isAngular&&(window[n].isAngular=null!==document.body.querySelector("[ng-version]")),window[n].isAngular))for(let i=0;i<h.parents.length&&!h.parents[i].nodeName.toLowerCase().startsWith(n.toLowerCase()+"-");i++)if(h.parents[i].hasAttribute("ng-version")&&!h.classList.contains("smart-angular")){window[n].RenderMode="manual";break}if("complete"===document.readyState&&"manual"!==window[n].RenderMode){const i=h.parents;i.length&&"HTML"===i[i.length-1].nodeName||h.getRootNode().host?(h.checkIsInDomTimer&&clearInterval(h.checkIsInDomTimer),r(),h.connect()):(h.checkIsInDomTimer&&clearInterval(h.checkIsInDomTimer),i.length>0&&(h.checkIsInDomTimer=setInterval(()=>{const l=h.parents;0===l.length&&clearInterval(h.checkIsInDomTimer),l.length>0&&"HTML"===l[l.length-1].nodeName&&(clearInterval(h.checkIsInDomTimer),r(),h.connect())},100)))}else h.isLoading=!0,B.push({element:this,callback:function(){this.isReady||(r(),this.connect())}.bind(h)})}disconnectedCallback(){const h=this;h.isAttached?(h.shadowParent=null,h.detached()):h._resetShadowParent()}adoptedCallback(){this.setup()}appendTemplate(h){const r=this;r.shadowRoot?r.shadowRoot.appendChild(h):r.appendChild(h)}_resetShadowParent(){const h=this;if(!window[n].EnableShadowDOM||null===h.shadowParent)return;const r=[];let i=h.parentNode;for(;i&&9!==i.nodeType;){if(i instanceof HTMLElement==1)r.push(i);else if(11===i.nodeType&&i.host){i=i.host;continue}i=i.parentNode}for(let l=0;l<r.length;l++)if(r[l]===h.shadowParent)return;r.length>0&&"HTML"===r[r.length-1].nodeName&&(h.shadowParent=null)}},Utilities:N,Import:function(h,r){let i=0;const l=function(c,p){return new Promise(g=>{const _=document.createElement("script");_.src=c,_.onload=g;for(let S=0;S<document.head.children.length;S++){const T=document.head.children[S];if(T.src&&T.src.toString().indexOf(p)>=0)return void g()}document.head.appendChild(_)})};return new Promise(c=>{const p=N.Core.getScriptLocation(),g=function(_){h[_]&&l(p+"/"+h[_],h[_]).then(function(){i++,i===h.length&&c(),g(_+1)})};if(r)for(let _=0;_<h.length;_++)l(p+"/"+h[_],h[_]).then(function(){i++,i===h.length&&c()});else g(0)})},ObservableArray:W,Observable:class{constructor(h,r){const i=this;var l;return this.name="observable",h&&Object.assign(i,h),l=h,Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(c=>"constructor"===c||!!c.startsWith("_")||void(i[c]=l[c])),new Proxy(i,{deleteProperty:function(c,p){return delete c[p],!0},get:function(c,p){return c[p]},set:function(c,p,g){const _=c[p];return _===g||(c[p]=g,!("notifyFn"!==p&&!p.startsWith("_")&&"canNotify"!==p&&(!r||-1!==r.indexOf(p))&&i.canNotify&&(i._notify({target:c,propertyName:p,oldValue:_,newValue:g}),0)))}})}get canNotify(){const h=this;return void 0===h._canNotify&&(h._canNotify=!0),h._canNotify}set canNotify(h){this._canNotify=h}_notify(h){const r=this;if(r.canNotify&&r.notifyFn)for(let i=0;i<r.notifyFn.length;i++)r.notifyFn[i](h)}notify(h){const r=this;h&&(r.notifyFn||(r.notifyFn=[]),r.notifyFn.push(h))}},Component:class{constructor(h,r){const i=this.name;let l=null;return h?l=new window[i](h,r):(l=new window[i],l._initProperties=r),this._element=l,l}get name(){return"Component"}get element(){return this._element}},Theme:Y.Theme||"",EnableShadowDOM:Y.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:t,Templates:e,RenderMode:Y.RenderMode||"auto",Render:function(){const h=()=>{window[n].RenderMode="",K()};"complete"===document.readyState?h():(window.removeEventListener("load",h),window.addEventListener("load",h))},Data:v,Mode:Y.Mode||"production",License:"Evaluation"});let J=window[n].Theme;"manual"!==window[n].RenderMode&&document.addEventListener("readystatechange",K),Object.defineProperty(window[n],"Theme",{configurable:!1,enumerable:!0,get:()=>J,set(h){const r=J;J=h,E.fireEvent("theme-changed",{oldValue:r,newValue:h},{bubbles:!0,cancelable:!0})}}),window[n]("smart-base-element",window[n].BaseElement),window[n]("smart-content-element",class extends window[n].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready(),this.applyContent()}refresh(){}clearContent(){const h=this;for(;h.$.content.firstChild;)h.$.content.removeChild(h.$.content.firstChild)}applyContent(){const h=this;if(void 0===h.content)return void(h.content=h.$.content);if(""===h.content||null===h.content)return void h.clearContent();if(h.content instanceof HTMLElement)return h.clearContent(),void h.$.content.appendChild(h.content);const r=document.createDocumentFragment();let i=document.createElement("div");r.appendChild(i),h.content instanceof HTMLElement?i.appendChild(h.content):i.innerHTML=h.content;let l=Array.from(i.childNodes);i.parentNode.removeChild(i);for(let c=0;c<l.length;c++)r.appendChild(l[c]);h.clearContent(),h.$.content.appendChild(r)}propertyChangedHandler(h,r,i){super.propertyChangedHandler(h,r,i);const l=this;r!==i&&("innerHTML"===h&&(l.content=i,l.applyContent(),l.innerHTML=l.content=N.Core.html(l.$.content)),"content"===h&&l.applyContent())}}),window[n]("smart-scroll-viewer",class extends window[n].ContentElement{static get properties(){return{autoRefresh:{type:"boolean",value:!1},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}static get styleUrls(){return["smart.scrollviewer.css"]}template(){return'<div id="container" class="smart-container" role="presentation">\n                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">\n                            <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-scroll-viewer-content-container" role="presentation">\n                                <content></content>\n                            </div>\n                        </div>\n                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>\n                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>\n                    </div>'}appendChild(h){const r=this;if(h){if(!r.isCompleted||h.classList&&h.classList.contains("smart-resize-trigger-container")){const i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(r,i.concat(Array.prototype.slice.call(arguments)))}r.$.scrollViewerContentContainer.appendChild(h)}}removeChild(h){const r=this;if(h){if(!r.isCompleted||h.classList&&h.classList.contains("smart-resize-trigger-container")){const i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(r,i.concat(Array.prototype.slice.call(arguments)))}r.$.scrollViewerContentContainer.removeChild(h)}}removeAll(){this.isCompleted&&(this.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(h){const r=this;r.$.scrollViewerContentContainer.style.left=(r.rightToLeft?1:-1)*r.scrollLeft+"px",h.stopPropagation&&h.stopPropagation(),r.onHorizontalChange&&r.onHorizontalChange(h)}_verticalScrollbarHandler(h){const r=this;r.$.scrollViewerContentContainer.style.top=-r.scrollTop+"px",h.stopPropagation&&h.stopPropagation(),r.onVerticalChange&&r.onVerticalChange(h)}_touchmoveHandler(h){const r=this;if(r._touchmoveInside&&h.cancelable)return h.preventDefault(),void h.stopPropagation();const i=r.scrollHeight>0,c=r._touchCoords;if(!i&&!(r.scrollWidth>0)||!c)return;const p=h.touches[0];let g,_,S,T;r._touchCoords=[p.pageX,p.pageY],i?(g=r.scrollTop,_=r.scrollHeight,S=p.pageY,T=c[1]):(g=r.scrollLeft,_=r.scrollWidth,S=p.pageX,T=c[0]);const M=parseFloat(S.toFixed(5)),L=parseFloat(T.toFixed(5));0===g&&M>=L||g===_&&M<=L||(S!==T&&(r._touchmoveInside=!0),h.cancelable&&(h.preventDefault(),h.stopPropagation()))}_touchstartHandler(h){const r=h.touches[0];this._touchCoords=[r.pageX,r.pageY]}_mouseWheelHandler(h){const r=this;if(!r.disabled&&(r.computedHorizontalScrollBarVisibility||r.computedVerticalScrollBarVisibility)){if(h.shiftKey&&r.computedHorizontalScrollBarVisibility){const i=r.scrollLeft;return 0===i&&h.deltaX<0||i===r.scrollHeight&&h.deltaX>0?void 0:(h.stopPropagation(),h.preventDefault(),void(r.scrollWidth>0&&r.scrollTo(void 0,r.scrollLeft+r._getScrollCoefficient(h,r.offsetWidth))))}if(r.computedVerticalScrollBarVisibility){const i=r.scrollTop;if(0===i&&h.deltaY<0||i===r.scrollHeight&&h.deltaY>0)return;h.stopPropagation(),h.preventDefault(),r.scrollHeight>0&&r.scrollTo(r.scrollTop+r._getScrollCoefficient(h,r.offsetHeight))}}}_overriddenHandler(){}_upHandler(){delete this._touchCoords,delete this._touchmoveInside}_getScrollCoefficient(h,r){const i=h.deltaMode,l=Math.abs(h.deltaY);let c;return 0===i?c=l<33.333333333333336?l:r:1===i?c=l<1?33.333333333333336*l:r:2===i&&(c=r),h.deltaY<0?-c:c}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const h=this;return h._scrollView&&h._scrollView.hScrollBar?!h._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}get computedVerticalScrollBarVisibility(){const h=this;return h._scrollView&&h._scrollView.vScrollBar?!h._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}scrollTo(h,r){const i=this;i._scrollView&&(void 0!==h&&i._scrollView.scrollTo(h),void 0!==r&&i._scrollView.scrollTo(r,!1))}refreshScrollBarsVisibility(){const h=this;h._scrollView&&(h._scrollView.hScrollBar.disabled=h.disabled,h._scrollView.vScrollBar.disabled=h.disabled,"disabled"===h.horizontalScrollBarVisibility&&(h._scrollView.hScrollBar.disabled=!0),"disabled"===h.verticalScrollBarVisibility&&(h._scrollView.vScrollBar.disabled=!0),h.scrollWidth>0?h._scrollView.hScrollBar.$.removeClass("smart-hidden"):"visible"!==h.horizontalScrollBarVisibility&&h._scrollView.hScrollBar.$.addClass("smart-hidden"),h.scrollHeight>0?h._scrollView.vScrollBar.$.removeClass("smart-hidden"):"visible"!==h.verticalScrollBarVisibility&&h._scrollView.vScrollBar.$.addClass("smart-hidden"),"hidden"===h.horizontalScrollBarVisibility&&h._scrollView.hScrollBar.$.addClass("smart-hidden"),"hidden"===h.verticalScrollBarVisibility&&h._scrollView.vScrollBar.$.addClass("smart-hidden"),"visible"===h.horizontalScrollBarVisibility&&h._scrollView.hScrollBar.$.removeClass("smart-hidden"),"visible"===h.verticalScrollBarVisibility&&(h._scrollView.vScrollBar.$.removeClass("smart-hidden"),h.disabled||(h._scrollView.vScrollBar.disabled=h.scrollHeight<=0)),h.computedHorizontalScrollBarVisibility&&h.computedVerticalScrollBarVisibility?(h._scrollView.hScrollBar.$.addClass("bottom-corner"),h._scrollView.vScrollBar.$.addClass("bottom-corner")):(h._scrollView.hScrollBar.$.removeClass("bottom-corner"),h._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready();const h=this;h.$.verticalScrollBar.onChange=r=>{r.detail=r,h._verticalScrollbarHandler(r)},h.$.horizontalScrollBar.onChange=r=>{r.detail=r,h._horizontalScrollbarHandler(r)},h.$.verticalScrollBar.setAttribute("aria-controls",h.id),h.$.horizontalScrollBar.setAttribute("aria-controls",h.id),h._customScrollView||(h._scrollView=new Smart.Utilities.Scroll(h,h.$.horizontalScrollBar,h.$.verticalScrollBar)),h.refresh()}refresh(){const h=this;function r(){const p=h.$.scrollViewerContainer.classList.contains("vscroll");h.$.scrollViewerContainer.classList.remove("vscroll");const g=h.$.scrollViewerContentContainer.offsetWidth-h.$.scrollViewerContainer.offsetWidth;return g>0&&"hidden"!==h.horizontalScrollBarVisibility||"visible"===h.horizontalScrollBarVisibility?h.$.scrollViewerContainer.classList.add("hscroll"):h.$.scrollViewerContainer.classList.remove("hscroll"),p&&h.$.scrollViewerContainer.classList.add("vscroll"),g}function i(){let p;const g=h.$.scrollViewerContainer.classList.contains("hscroll");if(h.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){const _=h.$.scrollViewerContentContainer.getBoundingClientRect().height,S=h.$.scrollViewerContainer.getBoundingClientRect().height;p=_&&S?parseInt(_)-parseInt(S):h.$.scrollViewerContentContainer.offsetHeight-h.$.scrollViewerContainer.offsetHeight}else p=h.$.scrollViewerContentContainer.offsetHeight-h.$.scrollViewerContainer.offsetHeight;return h.virtualScrollHeight&&(p=h.virtualScrollHeight),p>0&&"hidden"!==h.verticalScrollBarVisibility||"visible"===h.verticalScrollBarVisibility?h.$.scrollViewerContainer.classList.add("vscroll"):h.$.scrollViewerContainer.classList.remove("vscroll"),g&&h.$.scrollViewerContainer.classList.add("hscroll"),p}if(!h.$.scrollViewerContentContainer)return;"hidden"===h.verticalScrollBarVisibility&&h.$.scrollViewerContentContainer.setAttribute("disable-vertical",""),"hidden"===h.horizontalScrollBarVisibility&&h.$.scrollViewerContentContainer.setAttribute("disable-horizontal","");let l=h.scrollWidth,c=h.scrollHeight;h.scrollWidth=r(),h.scrollHeight=i(),h.scrollHeight&&c===h.scrollHeight||(h.scrollWidth=r()),h.scrollWidth&&l===h.scrollWidth||(h.scrollHeight=i()),h.computedVerticalScrollBarVisibility&&(h.scrollHeight+=h._scrollView.hScrollBar.offsetHeight),h.computedHorizontalScrollBarVisibility&&(h.scrollWidth+=h._scrollView.vScrollBar.offsetWidth),0===h.scrollHeight&&h.scrollWidth>0&&h.$.container.offsetHeight-h.$.content.offsetHeight<5&&(h.$.container.style.paddingBottom=h._scrollView.hScrollBar.offsetHeight+"px"),h.autoRefresh&&(h.$.scrollViewerContainer.scrollLeft=0,h.$.scrollViewerContainer.scrollTop=0)}attached(){const h=this;super.attached(),h._scrollView||h._customScrollView||(h._scrollView=new Smart.Utilities.Scroll(h,h.$.horizontalScrollBar,h.$.verticalScrollBar))}detached(){const h=this;super.detached(),h._scrollView&&(h._scrollView.unlisten(),delete h._scrollView)}get scrollWidth(){const h=this;return h._scrollView&&h._scrollView.hScrollBar?1===h._scrollView.hScrollBar.max&&"visible"===h.horizontalScrollBarVisibility?0:h._scrollView.hScrollBar.max:-1}set scrollWidth(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.hScrollBar&&(r._scrollView.hScrollBar.max=0===h&&"visible"===r.horizontalScrollBarVisibility?0:h,r.refreshScrollBarsVisibility())}get scrollHeight(){const h=this;return h._scrollView&&h._scrollView.vScrollBar?1===h._scrollView.vScrollBar.max&&"visible"===h.verticalScrollBarVisibility?0:h._scrollView.vScrollBar.max:0}set scrollHeight(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.vScrollBar&&(r._scrollView.vScrollBar.max=0===h&&"visible"===r.verticalScrollBarVisibility?1:h,r.refreshScrollBarsVisibility())}get scrollLeft(){const h=this;return h._scrollView&&h._scrollView.hScrollBar?h._scrollView.hScrollBar.value:0}set scrollLeft(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.hScrollBar&&(r._scrollView.hScrollBar.value=h)}get scrollTop(){const h=this;return h._scrollView&&h._scrollView.vScrollBar?h._scrollView.vScrollBar.value:0}set scrollTop(h){const r=this;h<0&&(h=0),r._scrollView&&r._scrollView.vScrollBar&&(r._scrollView.vScrollBar.value=h)}propertyChangedHandler(h,r,i){super.propertyChangedHandler(h,r,i),"animation"!==h&&"theme"!==h&&this.refresh()}}),window[n].Utilities.Assign("PositionDetection",class{constructor(h,r,i,l){const c=this;if(r){const p="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);r.id=p,h.setAttribute("aria-owns",p)}c.context=h,c.dropDown=r,c.defaultParent=i,c.closeMethod=l}handleAutoPositioning(){const h=this,r=h.context;if("auto"!==r.dropDownPosition||r.disabled||r.isHidden)return;const i=window.requestAnimationFrame;let l,c=Date.now();return l=i(function p(){r.isHidden||document.hidden||(l=i(p),"auto"===r.dropDownPosition&&!r.disabled&&(r.isInShadowDOM?document.body.contains(r.shadowParent):document.body.contains(r))||cancelAnimationFrame(l),r.isHidden&&cancelAnimationFrame(l),Date.now()-c>=200&&(h.scrollHandler(),c=Date.now()))})}checkBrowserBounds(h){const r=this.context;if("auto"===r.dropDownPosition&&!r.disabled)switch(h){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const h=this.context,r=this.dropDown;let i,l=0;f.isMobile||window.innerWidth===document.documentElement.clientWidth||(l=window.innerWidth-document.documentElement.clientWidth),null!==h._dropDownParent?i=!0:r.style.left="";const c=window.innerWidth-l;let p=h.getBoundingClientRect().left;if(p<0&&(r.style.left=(i?0:Math.abs(p))+"px",p=parseFloat(r.style.left)),p+r.offsetWidth>c){let g=p-Math.abs(c-p-r.offsetWidth);i&&(g+=window.pageXOffset),r.style.left=(i?g:g-p)+"px",window.innerWidth===document.documentElement.clientWidth&&(r.style.left=parseFloat(r.style.left)+l+"px"),i&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(h){const r=this.context,i=this.dropDown,l=r._dropDownListPosition;h||(h=r.getBoundingClientRect()),0!==h.height&&(r._dropDownListPosition=document.documentElement.clientHeight-Math.abs(h.top+h.height+i.offsetHeight)>=0?"bottom":h.top-i.offsetHeight>=0?"top":"overlay-center",this.updatePositionAttribute(l,r._dropDownListPosition))}scrollHandler(){const h=this.context;if(!h.parentElement)return;const r=h.getBoundingClientRect();if(r.top===h._positionTop)return;const i=h._dropDownListPosition;this.checkBrowserBoundsVertically(r),h._dropDownListPosition!==i&&this.positionDropDown(),h._positionTop=r.top}getDropDownParent(h){const r=this.context,i=this.dropDown;let l=r.dropDownAppendTo;r._positionedParent=null,null===l?r._dropDownParent=null:"body"===l||l===document.body?r._dropDownParent=r.getRootNode().host?r.getRootNode().host.shadowRoot:document.body:l instanceof HTMLElement?r._dropDownParent=l:"string"==typeof l?(l=document.getElementById(l),l instanceof HTMLElement?r._dropDownParent=l:(r.dropDownAppendTo=null,r._dropDownParent=null)):(r.dropDownAppendTo=null,r._dropDownParent=null);let c=r._dropDownParent;if(null!==c){for(;c&&c instanceof HTMLElement&&"static"===window.getComputedStyle(c).position&&c!==r.getShadowRootOrBody();)c=c.parentElement;r._positionedParent=c===document.body?null:c,i&&(i.setAttribute("animation",r.animation),""!==r.theme&&i.$.addClass(r.theme),h&&(r._dropDownParent.appendChild(i),i.$.addClass("smart-drop-down-repositioned")),-1===r.detachedChildren.indexOf(i)&&r.detachedChildren.push(i))}}dropDownAppendToChangedHandler(){const h=this.context,r=this.dropDown,i=h._dropDownParent;this.getDropDownParent(),h._dropDownParent!==i&&(h[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(l=>r.style[l]=null),null===h._dropDownParent?(this.defaultParent.appendChild(r),r.$.removeClass("smart-drop-down-repositioned")):(h._dropDownParent.appendChild(r),r.$.addClass("smart-drop-down-repositioned")))}dropDownPositionChangedHandler(){const h=this;h.dropDown.style.transition="none",h.context[h.closeMethod](),h.setDropDownPosition(),h.handleAutoPositioning()}dropDownAttached(h){const r=this.context;null!==r._dropDownParent&&(r._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),h&&r[h]())}dropDownDetached(){const h=this.context;null!==h._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(h._dropDownParent)&&h._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const h=this.context,r=h.dropDownPosition,i=h._dropDownListPosition;"auto"===r?this.checkBrowserBounds():h._dropDownListPosition=r,this.updatePositionAttribute(i,h._dropDownListPosition)}updatePositionAttribute(h,r){const i=this.context,l=this.dropDown;i.$.dropDownButton&&!i.$.dropDownButton.hasAttribute(r)&&(i.$.dropDownButton.removeAttribute(h),i.$.dropDownButton.setAttribute(r,"")),l.hasAttribute(r)||(l.style.transition="none",l.removeAttribute(h),l.setAttribute(r,""),requestAnimationFrame(function(){l.style.transition=null}))}positionDropDown(h){const r=this.context,i=this.dropDown;if(!r.opened||null===r._dropDownParent)return;const l=r.getBoundingClientRect();let c,p;if(this.customPositionDropDown){const _=this.customPositionDropDown(l);c=_.left,p=_.top}else switch(c=l.left,p=l.top,r._dropDownListPosition){case"bottom":p+=r.$.container.offsetHeight-1;break;case"center-bottom":p+=r.$.container.offsetHeight-1,c+=r.offsetWidth-i.offsetWidth/2;break;case"center-top":p-=i.offsetHeight-1,c+=r.offsetWidth-i.offsetWidth/2;break;case"top":p-=i.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":p-=i.offsetHeight/2-r.offsetHeight/2;break;case"overlay-top":p-=i.offsetHeight-r.offsetHeight}const g=this.getDropDownOffset();i.style.top=p+g.y+"px",h||(i.style.left=c+g.x+"px")}getDropDownOffset(){const h=this.context._positionedParent;let r,i;if(h&&"#document-fragment"!==h.nodeName){const l=h.getBoundingClientRect();r=-l.left,i=-l.top}else r=window.pageXOffset,i=window.pageYOffset;return{x:r,y:i}}placeOverlay(){const h=this.context;if(!h.dropDownOverlay||h._overlay)return;const r=document.createElement("div");r.classList.add("smart-drop-down-overlay"),r.style.width=document.documentElement.scrollWidth+"px",r.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(r),h._overlay=r}removeOverlay(h){const r=this,i=r.context;i._overlay&&(i.hasAnimation&&h?requestAnimationFrame(function l(){r.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(l):(document.body.removeChild(i._overlay),delete i._overlay)}):(document.body.removeChild(i._overlay),delete i._overlay))}}),window.Smart.Color=class{constructor(h){if(window.Smart._colors||(window.Smart._colors=[]),window.Smart._colors[h]){const i=window.Smart._colors[h];return this.hex=i.hex,this.r=i.r,this.g=i.g,void(this.b=i.b)}this.r=this.g=this.b=0,this.hex="";const r=this.getStandardizedColor(h);r&&(this.setHex(r.substring(1)),window.Smart._colors[h]={hex:this.hex,r:this.r,g:this.g,b:this.b})}getStandardizedColor(h){const r=document.createElement("canvas").getContext("2d");return r.fillStyle=h,r.fillStyle}getInvertedColor(){return""===this.hex?"transparent":255-(.299*this.r+.587*this.g+.114*this.b)<105?"Black":"White"}hexToRgb(h){let r="00",i="00",l="00";return 6===(h=this.validateHex(h)).length?(r=h.substring(0,2),i=h.substring(2,4),l=h.substring(4,6)):(h.length>4&&(r=h.substring(4,h.length),h=h.substring(0,4)),h.length>2&&(i=h.substring(2,h.length),h=h.substring(0,2)),h.length>0&&(l=h.substring(0,h.length))),{r:this.hexToInt(r),g:this.hexToInt(i),b:this.hexToInt(l)}}validateHex(h){return(h=(h=new String(h).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(h=h.substring(0,6)),h}webSafeDec(h){return 51*Math.round(h/51)}hexToWebSafe(h){let r,i,l;return 3===h.length?(r=h.substring(0,1),i=h.substring(1,1),l=h.substring(2,1)):(r=h.substring(0,2),i=h.substring(2,4),l=h.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(r)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(l)))}rgbToWebSafe(h){return{r:this.webSafeDec(h.r),g:this.webSafeDec(h.g),b:this.webSafeDec(h.b)}}rgbToHex(h){return this.intToHex(h.r)+this.intToHex(h.g)+this.intToHex(h.b)}intToHex(h){let r=parseInt(h).toString(16);return 1===r.length&&(r="0"+r),r.toUpperCase()}hexToInt(h){return parseInt(h,16)}setRgb(h,r,i){let l=function(c){return c<0||c>255||isNaN(parseInt(c))?0:c};this.r=l(h),this.g=l(r),this.b=l(i),this.hex=this.rgbToHex(this)}setHex(h){this.hex=h;let r=this.hexToRgb(this.hex);this.r=r.r,this.g=r.g,this.b=r.b}}}()},6802:()=>{Smart.Utilities.Assign("DataExporter",class{constructor(t,e,n,a){const s=this;t||(t={}),s.style=t.style,s.header=t.header,s.exportHeader=void 0===t.exportHeader||t.exportHeader,s.hierarchical=t.hierarchical,s.expandChar=t.expandChar||"+",s.collapseChar=t.collapseChar||"-",s.pageOrientation=t.pageOrientation,s.allowNull=t.allowNull||!1,!s.hierarchical&&e&&e.length>0?s.groupBy=e:s.mergedCells=t.mergedCells,!s.groupBy&&n&&Object.keys(n).length>0&&(s.filterBy=n),a&&(s.conditionalFormatting=a),s.timeBetween1900And1970=new Date(1970,0,1).getTime()-new Date(1900,0,1).getTime()}downloadFile(t,e,n){let a;if(!n)return t;if(a=t instanceof Blob?t:new Blob([t],{type:e}),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,n);else{const s=document.createElement("a"),o=URL.createObjectURL(a);s.href=o,s.download=n,s.style.position="absolute",s.style.visibility="hidden",document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(o)},100)}}exportData(t,e,n,a){const s=this;if(s.actualHierarchy=s.hierarchical,e=e.toLowerCase(),s.exportHeader&&(s.header?(0===(t=t.slice(0)).length&&(s.actualHierarchy=!1),s.processComplexHeader(s.header,t,e)):1===t.length&&(s.actualHierarchy=!1)),0===t.length)return void console.warn("No data to export.");"xlsx"===e&&(s.xlsxStartIndex=s.complexHeader?s.complexHeader.length:+s.exportHeader),s.actualHierarchy&&(t=s.processHierarchicalData(t,e)),s.getDatafields(t),n&&n.slice(n.length-e.length-1,n.length)!=="."+e&&(n+="."+e);let o=null;switch(e){case"csv":o=s.exportToCSVAndTSV(t,{delimiter:", ",MIME:"text/csv",toRemove:2},n);break;case"html":o=s.exportToHTML(t,n);break;case"jpeg":case"png":s.exportToImage(t,n,e,a);break;case"json":o=s.exportToJSON(t,n);break;case"pdf":o=s.exportToPDF(t,n);break;case"tsv":o=s.exportToCSVAndTSV(t,{delimiter:"\t",MIME:"text/tab-separated-values",toRemove:1},n);break;case"xlsx":o=s.exportToXLSX(t,n);break;case"xml":o=s.exportToXML(t,n);break;case"md":o=s.exportToMD(t,n)}return a&&o&&a(o),delete s.complexHeader,o}exportToCSVAndTSV(t,e,n){const a=this,s=a.datafields;let o="";for(let d=0;d<t.length;d++){const f=t[d];let m="";for(let u=0;u<s.length;u++)m+=a.actualHierarchy&&0===u?('""'+e.delimiter).repeat(f._level-1)+'"'+f[s[u]]+'"'+e.delimiter+('""'+e.delimiter).repeat(a.maxLevel-f._level):'"'+f[s[u]]+'"'+e.delimiter;m=m.slice(0,m.length-e.toRemove)+"\n",o+=m}return this.downloadFile(o,e.MIME,n)}exportToHTML(t,e){const n=this,a=n.datafields,s=n.style;let o="",d=0,f="";t=n.processGroupingInformation(t),n.data=t,n.exportHeader&&(o=n.getHTMLHeader(a,t),d=1),arguments[2]&&(f=`<script type="text/javascript" src="${Array.from(document.getElementsByTagName("script")).find(b=>-1!==b.src.indexOf("html2canvas")).src}"><\/script>`);let m=`<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <style type="text/css">\n${n.getRowStyle()}${n.getColumnStyle()}\n    </style>${f}${n.toggleableFunctionality()}\n</head>\n<body>\n    <table${n.getTableStyle()}>${o}\n        <tbody>\n`;const u={},y={},v=[];n.getMergedCellsInfo(u,y);e:for(let b=d;b<t.length;b++){const x=t[b],w=b-d;let C=n.getAlternationIndex(w," rowN"),A="",N="",E="",O=0;if(n.actualHierarchy)x._collapsed&&(A=" collapsed"),N=` level="${x._level}"`;else if(n.groupBy)for(let k=0;k<n.groupBy.length;k++){const R=n.groupBy[k],H=x[R],B=n.groups[R][H];if(E+=H,-1===v.indexOf(E)){m+=`            <tr class="row">\n                <td class="column group" style="padding-left: ${25*O}px;" colspan="${n.datafields.length}">${B}</td>\n            </tr>`,v.push(E),b--;continue e}O++}let I=`            <tr class="row row${w}${C}${A}"${N}`;e||(I+=' style="page-break-inside: avoid;"'),I+=">\n";for(let k=0;k<a.length;k++){const R=k+","+w;let H=1,B=1;if(u[R])H=u[R].colspan,B=u[R].rowspan;else if(y[R])continue;const F=a[k];let z=x[F],$="";if(n.actualHierarchy&&0===k){let Y="";x._expanded?Y=n.collapseChar:!1===x._expanded&&(Y=n.expandChar),$=`<div class="toggle-element" style="margin-left: ${25*(x._level-1)+5}px;" expanded>${Y}</div>`}z=n.getFormattedValue(z,F);let W="";if(s&&s.columns&&s.columns[F]&&s.columns[F][w]){const Y=s.columns[F][w];W+=`border-color: ${Y.border}; background-color: ${Y.background}; color: ${Y.color};"`}0===k&&O>1&&(W+=`padding-left: ${25*(O-1)}px;"`),W&&(W=` style="${W}"`),I+=`                <td class="column column${F}"${W} colspan="${H}" rowspan="${B}">${$+z}</td>\n`}m+=I+"            </tr>\n"}return m+="        </tbody>\n    </table>\n</body>\n</html>",arguments[2]?m:this.downloadFile(m,"text/html",e)}exportToImage(t,e,n,a){try{html2canvas}catch(f){throw new Error("smart-grid: Missing reference to 'html2canvas.min.js'.")}let s=null;const o=this.exportToHTML(t,e,!0),d=document.createElement("iframe");return d.style.position="absolute",d.style.top=0,d.style.left=0,d.style.border="none",d.style.width="100%",d.style.height="100%",d.style.opacity=0,d.style.pointerEvents="none",document.body.appendChild(d),d.contentDocument.write(o),function f(){d.contentDocument.body&&d.contentDocument.body.firstElementChild?d.contentWindow.html2canvas(d.contentDocument.body.firstElementChild).then(m=>{const u=new Smart.Utilities.Draw(document.createElement("div"));s=m.toDataURL("image/png"),a?a(s):(document.body.appendChild(m),u.exportImage(void 0,m,n,e)),d.remove(),m.remove()}):requestAnimationFrame(f)}(),s}getMergedCellsInfo(t,e,n){const a=this;if(!a.mergedCells)return;const s=n&&0!==n[a.datafields.length-1];a.mergedCellsPDF=a.mergedCells.slice(0);for(let o=0;o<a.mergedCellsPDF.length;o++){const d=a.mergedCellsPDF[o];let f=d.colspan,m=d.rowspan;if(m<2&&f<2)continue;const u=d.cell[1];let y=d.cell[0];if(s&&f>1){const v=n[y],b=n[y+f-1],x=[];if(b>v){let w=v,C=y,A=0;e:for(let N=v;N<=b;N++){let E=C,O=0;for(;n[C]===w;)if(C++,A++,O++,A===f){x.push({start:E,span:O});break e}x.push({start:E,span:O}),w=n[C]}f=x[0].span;for(let N=1;N<x.length;N++)a.mergedCellsPDF.push({cell:[x[N].start,u],colspan:x[N].span,rowspan:m,originalCell:y})}}for(let v=y;v<y+f;v++)for(let b=u;b<u+m;b++){const x=v+","+b;v!==y||b!==u?e[x]=!0:t[x]={colspan:f,rowspan:m,originalCell:d.originalCell}}}}getAlternationIndex(t,e){if(!this.style)return"";const n=this.style.rows;return n&&n.alternationCount&&((void 0===n.alternationStart||t>=n.alternationStart)&&(void 0===n.alternationEnd||t<=n.alternationEnd)||n.alternationStart===n.alternationEnd)?e+t%n.alternationCount:""}getFormattedValue(t,e){const n=this,a=n.style;if(null===t)return n.allowNull?"null":"";if(e&&a&&a.columns&&a.columns[e]&&a.columns[e].format){if("number"==typeof t)return n.formatNumber(t,a.columns[e].format);if(t instanceof Date)return n.formatDate(t,a.columns[e].format)}else if(t instanceof Date)return n.formatDate(t,"d");return t}exportToJSON(t,e){return this.downloadFile(JSON.stringify(t,this.datafields.concat("rows")),"application/json",e)}exportToMD(t,e){const n=this.datafields;let a="";for(let s=0,o=t.length;s<o;s+=1)for(let d=0,f=n.length;d<f;d+=1){const m=t[s][n[d]];"string"==typeof m&&(a+=m)}return this.downloadFile(a,"application/text",e)}exportToPDF(t,e){try{pdfMake}catch(A){throw new Error("Missing reference to 'pdfmake.min.js'.")}const n=this,a=n.datafields,s=+n.exportHeader,o=[],d={},f={},m={},u=s?n.complexHeader?n.complexHeader.length:1:0,y={pageOrientation:n.pageOrientation||"portrait"};let v,b=[],x=[];function w(){let A=[];for(let N=0;N<v.length;N++)A.push([]);return A}t=n.processGroupingInformation(t),n.data=t,n.headerRows=u,n.getPDFStyle();const C=n.styleInfo;v=C?n.wrapPDFColumns(y,m):[{body:b,datafields:a}],s&&(b=n.getPDFHeader(a,v,m)),n.getMergedCellsInfo(d,f,m);e:for(let A=s;A<t.length;A++){const N=t[A];let E="",O=0;if(n.groupBy)for(let H=0;H<n.groupBy.length;H++){const B=n.groupBy[H],F=N[B],z=n.groups[B][F];if(E+=F,-1===o.indexOf(E)){n.createGroupHeaderRow(v,{text:z,style:["row","cell","group"],marginLeft:7.5*O}),o.push(E),A--;continue e}O++}const I=w(),k=A-s;let R=n.getAlternationIndex(k,"");for(let H=0;H<a.length;H++){const B=a[H],F={style:["row","row"+k,"cell","cell"+B]},z=m[H]||0;if(void 0!==R&&F.style.splice(1,0,"rowN"+R),n.mergedCellsPDF){const W=H+","+k,Y=d[W];if(Y){if(F.colSpan=Y.colspan,F.rowSpan=Y.rowspan,void 0!==Y.originalCell){F.text="",F.style[F.style.length-1]="cell"+a[Y.originalCell],I[z].push(F);continue}}else if(f[W]){I[z].push({});continue}}const $=n.getFormattedValue(N[B],B);F.text=$.toString(),n.getUniqueStylePDF(F,B,k),n.setIndentation(F,{j:H,currentRecord:N,value:$,outlineLevel:O}),I[z].push(F)}for(let H=0;H<v.length;H++)v[H].body.push(I[H])}if(C){for(let A=0;A<v.length;A++){const N=v[A].body;for(let E=u-1;E>=0;E--)N.unshift(b[A][E]);x.push({table:{headerRows:u,widths:v[A].widths,heights:function(E){return C.heights[E]?C.heights[E]:C.defaultHeight?C.defaultHeight:void 0},body:N},pageBreak:"after"})}delete x[v.length-1].pageBreak,y.styles=C.styles}else{const A=v[0].body;for(let N=u-1;N>=0;N--)A.unshift(b[0][N]);x=[{table:{headerRows:u,body:A}}],y.styles={header:{bold:!0},group:{bold:!0}}}y.content=x,pdfMake.createPdf(y).download(e),delete n.mergedCellsPDF,delete n.styleInfo}getPDFStyle(){const t=this,e=t.style;if(!e)return"";const n=t.data[0],a=e.header,s=e.columns,o=e.rows,d={heights:[],widths:Array(t.datafields.length).fill("*"),styles:{header:{},row:{},cell:{},group:{fillColor:"#FFFFFF",color:"#000000",bold:!0}}};function f(m,u){if(m)for(let y in m)if(Object.prototype.hasOwnProperty.call(m,y))if(void 0===n[y])if("height"===y&&"header"===u)for(let v=0;v<t.headerRows;v++)d.heights[v]=parseInt(m[y],10)/t.headerRows/1.4;else t.storePDFStyle({prop:y,value:m[y],toUpdate:u});else for(let v in m[y]){if(!isNaN(v)||!Object.prototype.hasOwnProperty.call(m[y],v))continue;const b=m[y][v],x=t.datafields.indexOf(y);"width"===v&&"*"===d.widths[x]?d.widths[x]=b:t.storePDFStyle({prop:v,value:b,toUpdate:u+y})}}if(t.styleInfo=d,f(a,"header"),f(s,"cell"),o){for(let m in o){if(!Object.prototype.hasOwnProperty.call(o,m)||-1!==m.indexOf("alt"))continue;const u=o[m];if(isNaN(m))"height"===m?d.defaultHeight=parseFloat(u)/1.4:t.storePDFStyle({prop:m,value:u,toUpdate:"row"});else for(let y in u)Object.prototype.hasOwnProperty.call(u,y)&&("height"===y?d.heights[parseFloat(m)+t.headerRows]=parseFloat(u[y])/1.4:t.storePDFStyle({prop:y,value:u[y],toUpdate:"row"+m}))}if(o.alternationCount)for(let m=0;m<o.alternationCount;m++){const u={};o[`alternationIndex${m}Color`]&&(u.color=o[`alternationIndex${m}Color`]),o[`alternationIndex${m}BackgroundColor`]&&(u.fillColor=o[`alternationIndex${m}BackgroundColor`]),d.styles["rowN"+m]=u}}}storePDFStyle(t){let n=this.styleInfo.styles[t.toUpdate];n||(n={},this.styleInfo.styles[t.toUpdate]=n);let a=t.value;switch(t.prop){case"backgroundColor":n.fillColor=a;break;case"color":n.color=a;break;case"fontSize":n.fontSize=parseFloat(a);break;case"fontStyle":"italic"===a&&(n.italics=!0);break;case"fontWeight":"bold"===a&&(n.bold=!0);break;case"textAlign":n.alignment=a}}wrapPDFColumns(t,e){const n=this,a=this.styleInfo,s="portrait"===t.pageOrientation?655:1155,o=[];let d=0;for(let f=0;f<a.widths.length;f++){let m,u=a.widths[f];if("*"===u?m=s/6:"string"==typeof u&&-1!==u.indexOf("%")?(m=Math.min(s,Math.floor(parseFloat(u)/100*s)),m===s&&(u="*")):(u=parseFloat(u),u>=s?(m=s,u="*"):(m=u,u/=1.4)),void 0===o[d]){o[d]={body:[],width:m,widths:[u],datafields:[n.datafields[f]]},e[f]=d;continue}const y=o[d];y.width+m>s?(d++,f--):(e[f]=d,y.width+=m,y.widths.push(u),y.datafields.push(n.datafields[f]))}return o}getPDFHeader(t,e,n){const a=this,s=[],o=a.headerRows,d=[],f=[];let m,u,y=[];a.complexHeader?(m=a.complexHeader,u=a.complexDataFieldsHeader):(m=[Object.values(a.data[0])],u=m);for(let b=0;b<o;b++){const x=m[b],w=u[b];for(let C=0;C<x.length;C++){let A=n[C]||0;d[A]||(d[A]=[],f[A]=[]),d[A][b]||(d[A][b]=[],f[A][b]=[]),d[A][b].push(x[C]),f[A][b].push(w[C])}}function v(b,x,w,C){for(let A=0;A<o;A++){const N=b[A],E=x[A],O=[];for(let I=0;I<N.length;I++){const k=E[I];let R=1,H=1;if(E[I-1]&&E[I-1]===k||x[A-1]&&x[A-1][I]===k){O.push({});continue}let B=I+1;for(;E[B]&&E[B]===E[B-1];)R++,B++;for(B=A+1;x[B]&&x[B][I]===k;)H++,B++;const F=A===o-1||H+A===o?C.datafields[I]:null,z={text:N[I],colSpan:R,rowSpan:H};F?z.style=["header","header"+F]:(z.alignment="center",z.style="header"),O.push(z)}w.push(O)}}for(let b=0;b<e.length;b++)y=[],v(d[b],f[b],y,e[b]),s.push(y);return s}createGroupHeaderRow(t,e){for(let n=0;n<t.length;n++){const a=Object.assign({},e),s=t[n].datafields.length,o=[a];a.colSpan=s,o.length=s,o.fill({},1,s-1),t[n].body.push(o)}}getUniqueStylePDF(t,e,n){const a=this.style;if(!a||!a.columns||!a.columns[e])return;const s=a.columns[e][n];s&&(t.fillColor=function(o){const d=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(o.replace(/\s/g,""));if(null===d)return o;const f=parseFloat(d[1]).toString(16).toUpperCase(),m=parseFloat(d[2]).toString(16).toUpperCase(),u=parseFloat(d[3]).toString(16).toUpperCase();return"#"+"0".repeat(2-f.length)+f+"0".repeat(2-m.length)+m+"0".repeat(2-u.length)+u}(s.background),t.color=s.color.toLowerCase())}setIndentation(t,e){if(0!==e.j)return;const n=this;if(n.actualHierarchy){const a=e.currentRecord;void 0!==a._expanded?(t.marginLeft=25*(a._level-1),t.text=n.collapseChar+" "+e.value):t.marginLeft=25*(a._level-1)+6}else e.outlineLevel>1&&(t.marginLeft=7.5*(e.outlineLevel-1))}exportToXLSX(t,e){try{JSZip}catch(N){throw new Error("Missing reference to 'jszip.min.js'.")}const n=this;let a=n.style;if(t=n.processGroupingInformation(t,!0),n.data=t,n.getColumnsArray(),n.complexHeaderMergedCells=[],n.complexHeaderMergeInfo)for(let N in n.complexHeaderMergeInfo)if(Object.prototype.hasOwnProperty.call(n.complexHeaderMergeInfo,N)){const E=n.complexHeaderMergeInfo[N];if(E.from[0]===E.to[0]&&E.from[1]===E.to[1])continue;n.complexHeaderMergedCells.push({from:n.columnsArray[E.from[1]]+(E.from[0]+1),to:n.columnsArray[E.to[1]]+(E.to[0]+1)})}n.getConditionalFormatting(),a||(a=n.generateDefaultStyle(t));const s=n.generateSharedStrings(t),o=s.collection,d=s.xml,f=n.generateStyles(a),m=n.groupBy?n.generateSheet1WithGrouping(t,o):n.generateSheet1(t,o),u=n.generateAuxiliaryFiles(),y=new JSZip,v=y.folder("_rels"),b=y.folder("docProps"),x=y.folder("xl"),w=x.folder("_rels"),C=x.folder("theme"),A=x.folder("worksheets");v.file(".rels",u._relsRels),b.file("app.xml",u.docPropsAppXml),b.file("core.xml",u.docPropsCoreXml),w.file("workbook.xml.rels",u.xl_relsWorkbookXmlRels),C.file("theme1.xml",u.xlThemeTheme1Xml),A.file("sheet1.xml",m),x.file("sharedStrings.xml",d),x.file("styles.xml",f),x.file("workbook.xml",u.xlWorkbookXml),y.file("[Content_Types].xml",u.Content_TypesXml),y.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}).then(function(N){return n.downloadFile(N,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",e)}),delete n.conditionalFormattingXLSX,delete n.complexHeaderMergeInfo,delete n.defaultRowHeight,delete n.rowHeight}processGroupingInformation(t,e){const n=this;if(!n.groupBy)return t;let a;if(t=t.slice(0),n.exportHeader&&(e&&n.complexHeader?(a=t.slice(0,n.complexHeader.length),t.splice(0,n.complexHeader.length)):(a=[t[0]],t.splice(0,1))),t.length>1){const s=function(o,d){let f;switch(d||typeof o){case"string":f=(new Intl.Collator).compare;break;case"number":f=function(m,u){return m-u};break;case"boolean":case"bool":f=function(m,u){return m===u?0:!1===m?-1:1};break;case"date":case"time":case"dateTime":o instanceof Date?f=function(m,u){return m.getTime()-u.getTime()}:(o instanceof Smart.Utilities.DateTime||o instanceof Smart.Utilities.BigNumber)&&(f=function(m,u){return m.compare(u)});break;case"object":if(o instanceof Date)f=function(m,u){return m.getTime()-u.getTime()};else if(o instanceof Smart.Utilities.DateTime||o instanceof Smart.Utilities.BigNumber)f=function(m,u){return m.compare(u)};else if(o instanceof Smart.Utilities.Complex||window.NIComplex&&o instanceof window.NIComplex){const m=new Smart.Utilities.ComplexNumericProcessor;f=function(u,y){return m.compareComplexNumbers(u,y)}}}return f};!function(o,d,f,m){if(!o||!Array.isArray(o)||0===o.length||!d||Array.isArray(d)&&0===d.length)return;"string"==typeof d&&(d=[d]);const u=[],y=[];void 0===f&&(f=[]);for(let v=0;v<d.length;v++)u[v]=void 0===f[v]||"asc"===f[v]||"ascending"===f[v]?1:-1,y[v]=s(o[0][d[v]]);o.sort(function(v,b){for(let x=0;x<d.length;x++){const w=y[x](v[d[x]],b[d[x]]);if(0===w){if(d[x+1])continue;return void 0!==v._index?(v._index-b._index)*u[x]:0}return w*u[x]}})}(t,n.groupBy)}return a&&(t=a.concat(t)),n.getGroupLabels(t),t}exportToXML(t,e){const n=this.datafields.slice(0);let a='<?xml version="1.0" encoding="UTF-8" ?>\n<table>\n';return-1===n.indexOf("rows")&&n.push("rows"),a+=function s(o,d){let f="";for(let m=0;m<o.length;m++){const u=o[m];f+=d+"<row>\n";for(let y=0;y<n.length;y++){const v=n[y];if("rows"!==v)f+=d+`    <${v}>${u[v]}</${v}>\n`;else{if(!u.rows)continue;f+=`${d}    <rows>\n${s(u.rows,d+"        ")}${d}    </rows>\n`}}f+=d+"</row>\n"}return f}(t,"    ")+"</table>",this.downloadFile(a,"application/xml",e)}formatDate(t,e){if(!Smart.Utilities.DateTime)return t;try{return new Smart.Utilities.DateTime(t).toString(e)}catch(n){return t}}formatNumber(t,e){if(!Smart.Utilities.NumberRenderer)return t;const n=(new Smart.Utilities.NumberRenderer).formatNumber(t,e);return void 0===n?t:n}generateAuxiliaryFiles(){const t=(new Date).toISOString();return{_relsRels:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',docPropsAppXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>',docPropsCoreXml:`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>Smart HTML Elements</dc:creator><cp:lastModifiedBy>Smart HTML Elements</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">${t}</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">${t}</dcterms:modified></cp:coreProperties>`,xl_relsWorkbookXmlRels:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>',xlThemeTheme1Xml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\u6e38\u30b4\u30b7\u30c3\u30af Light"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u7b49\u7ebf Light"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\u6e38\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u7b49\u7ebf"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>',xlWorkbookXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15 xr xr6 xr10 xr2" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr6="http://schemas.microsoft.com/office/spreadsheetml/2016/revision6" xmlns:xr10="http://schemas.microsoft.com/office/spreadsheetml/2016/revision10" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2"><fileVersion appName="xl" lastEdited="7" lowestEdited="7" rupBuild="20325"/><workbookPr defaultThemeVersion="166925"/><mc:AlternateContent xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"><mc:Choice Requires="x15"><x15ac:absPath url="C:UsersjqwidgetsDesktop" xmlns:x15ac="http://schemas.microsoft.com/office/spreadsheetml/2010/11/ac"/></mc:Choice></mc:AlternateContent><xr:revisionPtr revIDLastSave="0" documentId="13_ncr:1_{0DEDCB6D-5403-4CD8-AAA5-59B6D238A8B6}" xr6:coauthVersionLast="34" xr6:coauthVersionMax="34" xr10:uidLastSave="{00000000-0000-0000-0000-000000000000}"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="19200" windowHeight="6950" xr2:uid="{0CB664E6-3800-4A88-B158-B46A682E7484}"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="179021"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>',Content_TypesXml:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="bin" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings"/><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/><Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>'}}generateDefaultStyle(t){const e=this,n={},a=e.datafields,s=e.complexHeader?t[e.complexHeader.length]:t[+e.exportHeader];if(!s)return n;for(let o=0;o<a.length;o++)s[a[o]]instanceof Date&&(n.columns||(n.columns=[]),n.columns[a[o]]={format:"d"});return n}generateGroupRow(t){const e=t.rowNumber,n="A"+e,a=`        <row r="${e}" outlineLevel="${t.outlineLevel}" spans="1:${t.numberOfColumns}"${this.getCustomRowHeight(e-1)} x14ac:dyDescent="0.45">\n            <c r="${n}" t="s" s="0">\n                <v>${t.sharedStringIndex}</v>\n            </c>\n        </row>\n`;return t.mergedCells.push({from:n,to:this.columnsArray[t.numberOfColumns-1]+e}),a}generateSharedStrings(t){const e=this,n=e.datafields,a=[];let s="",o=0,d=0;function f(m){o++,-1===a.indexOf(m)&&(d++,a.push(m),m=(m=(m=(m=(m=m.replace(/&(?!amp;)/g,"&amp;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")).replace(/>/g,"&gt;")).replace(/</g,"&lt;"),s+=`<si><t>${m}</t></si>`)}for(let m=0;m<t.length;m++){const u=t[m];for(let y=0;y<n.length;y++){let v=u[n[y]];null!==v||e.allowNull||(v=""),"string"==typeof v&&f(v)}}if(e.groupLabels)for(let m=0;m<e.groupLabels.length;m++)f(e.groupLabels[m]);return s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${o}" uniqueCount="${d}">${s}</sst>`,{collection:a,xml:s}}generateSheet1(t,e){const n=this,a=n.columnsArray.length,o=n.columnsArray[a-1]+t.length,d=n.datafields,f=n.getFilters(),m=[].concat(n.complexHeaderMergedCells);let u=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">\n    <sheetPr filterMode="${""!==f}" />\n    <dimension ref="A1:${o}" />\n    <sheetViews>\n        <sheetView tabSelected="1" workbookViewId="0" />\n    </sheetViews>\n    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />${n.getCustomColumnWidths()}\n    <sheetData>\n`;function y(v,b){return n.columnsArray[v]+b}for(let v=0;v<=t.length;v++){const b=t[v],x=v+1;let w="";if(n.actualHierarchy){const A=t[v-1];A&&A._collapsed&&(!b||A._level>b._level)&&(w=' collapsed="true"')}if(v===t.length){w&&(u+=`        <row r="${x}" outlineLevel="${Math.max(t[v-1]._level-2,0)}" hidden="false" collapsed="true" />\n`);break}let C=`        <row r="${x}"${n.getOutlineLevel(b)} hidden="${b._hidden||b._collapsed||!1}"${w} spans="1:${a}"${n.getCustomRowHeight(x-1)} x14ac:dyDescent="0.45">\n`;for(let A=0;A<d.length;A++){const N=n.getXLSXCellStyle(y(A,x));C+=n.getActualCellData(b[d[A]],{r:y(A,x),s:N},e)}C+="        </row>\n",u+=C}return u+=`    </sheetData>${n.conditionalFormattingXLSX.conditions}${f}${n.getMergedCells(m)}\n    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />\n</worksheet>`,u}generateSheet1WithGrouping(t,e){const n=this,a=n.columnsArray.length,o=n.columnsArray[a-1]+t.length,d=n.datafields,f=[].concat(n.complexHeaderMergedCells);let m=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac xr xr2 xr3" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision" xmlns:xr2="http://schemas.microsoft.com/office/spreadsheetml/2015/revision2" xmlns:xr3="http://schemas.microsoft.com/office/spreadsheetml/2016/revision3" xr:uid="{7F25248B-C640-4C64-AD47-C0EA0E5D90D0}">\n    <dimension ref="A1:${o}" />\n    <sheetViews>\n        <sheetView tabSelected="1" workbookViewId="0" />\n    </sheetViews>\n    <sheetFormatPr defaultRowHeight="14.5" x14ac:dyDescent="0.35" />${n.getCustomColumnWidths()}\n    <sheetData>\n`,u=0,y=[];function v(b,x){return n.columnsArray[b]+x}e:for(let b=0;b<t.length;b++){const x=t[b],w=b+1+u;let C=0,A="";if(!n.exportHeader||!n.complexHeader&&0!==b||n.complexHeader&&b>=n.complexHeader.length){let E="";for(let O=0;O<n.groupBy.length;O++){const I=n.groupBy[O],k=x[I],R=n.groups[I][k];if(E+=k,-1===y.indexOf(E)){let H=e.indexOf(R);m+=n.generateGroupRow({rowNumber:w,outlineLevel:C,numberOfColumns:a,sharedStringIndex:H,mergedCells:f}),y.push(E),b--,u++;continue e}C++}A=` outlineLevel="${C}"`}let N=`        <row r="${w}"${A} spans="1:${a}"${n.getCustomRowHeight(w-1)} x14ac:dyDescent="0.45">\n`;for(let E=0;E<d.length;E++){const O=n.getXLSXCellStyle(v(E,b+1));N+=n.getActualCellData(x[d[E]],{r:v(E,w),s:O},e)}N+="        </row>\n",m+=N}return m+=`    </sheetData>${n.getMergedCells(f)}\n    <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n    <pageSetup paperSize="9" orientation="portrait" r:id="rId1" />\n</worksheet>`,m}getActualCellData(t,e,n){const a=e.r,s=e.s||' s="0"';return null!==t||this.allowNull||(t=""),"string"==typeof t?`            <c r="${a}" t="s"${s}>\n                <v>${n.indexOf(t)}</v>\n            </c>\n`:"boolean"==typeof t?`            <c r="${a}" t="b"${s}>\n                <v>${+t}</v>\n            </c>\n`:t instanceof Date?`            <c r="${a}"${s}>\n                <v>${(t.getTime()+this.timeBetween1900And1970)/864e5+2}</v>\n            </c>\n`:`            <c r="${a}"${s}>\n                <v>${t}</v>\n            </c>\n`}getColumnsArray(){const t=this.datafields.length,e=[];function n(a){return a<26?"":String.fromCharCode(64+Math.floor(a/26))}for(let a=0;a<t;a++)e.push(n(a)+String.fromCharCode(65+(a<26?a:a%26)));this.columnsArray=e}getColumnStyle(){const t=this,e=t.style;if(!e)return"        .header { border: 1px solid black; padding: 5px; }\n        .column { border: 1px solid black; padding: 5px; }\n        .group { background-color: #FFFFFF; color: #000000; font-weight: bold; }";let n;n=e.removeDefault?{header:"",column:"",group:""}:{header:"border: 1px solid black; padding: 5px; ",column:"white-space: nowrap; overflow: hidden; border: 1px solid black; padding: 5px; ",group:"background-color: #FFFFFF; color: #000000; font-weight: bold; "};const a=t.data[0];let s="";const o=e.header||{};for(let f in o){if(!Object.prototype.hasOwnProperty.call(o,f))continue;const m=o[f];if(a[f]){n["header"+f]||(n["header"+f]="");for(let u in m)if(Object.prototype.hasOwnProperty.call(m,u)){const y=Smart.Utilities.Core.toDash(u)+": "+m[u]+"; ";n["header"+f]+=y,"width"===u&&(n["column"+f]||(n["column"+f]=""),n["column"+f]+=y)}}else n.header+="height"===f&&t.complexHeader?"height: "+parseInt(o[f],10)/t.complexHeader.length+"px; ":Smart.Utilities.Core.toDash(f)+": "+o[f]+"; "}const d=e.columns||{};for(let f in d){if(!Object.prototype.hasOwnProperty.call(d,f))continue;const m=d[f];if(a[f]){n["column"+f]||(n["column"+f]="");for(let u in m)isNaN(u)&&Object.prototype.hasOwnProperty.call(m,u)&&"format"!==u&&(n["column"+f]+=Smart.Utilities.Core.toDash(u)+": "+m[u]+"; ")}else n.column+=Smart.Utilities.Core.toDash(f)+": "+m+"; "}for(let f in n)Object.prototype.hasOwnProperty.call(n,f)&&(s+=`        .${f} { ${n[f]}}\n`);return e.custom&&(s+=`${e.custom}\n`),s}getCustomColumnWidths(){const t=this;if(!t.style||!t.columnWidth||0===t.columnWidth.length)return"";let e="\n    <cols>\n";for(let n=0;n<t.columnWidth.length;n++){let a=t.columnWidth[n];void 0!==a&&(a=Math.round(parseFloat(a))/7,e+=`        <col min="${n+1}" max="${n+1}" width="${a}" customWidth="1" />\n`)}return e+="    </cols>",e}getCustomFilter(t,e){let n,a="equal";switch(t instanceof Date&&(t=(t.getTime()+this.timeBetween1900And1970)/864e5+2),e=e.toUpperCase()){case"EMPTY":n="";break;case"NOT_EMPTY":n="",a="notEqual";break;case"CONTAINS":case"CONTAINS_CASE_SENSITIVE":n=`*${t}*`;break;case"DOES_NOT_CONTAIN":case"DOES_NOT_CONTAIN_CASE_SENSITIVE":n=`*${t}*`,a="notEqual";break;case"STARTS_WITH":case"STARTS_WITH_CASE_SENSITIVE":n=`${t}*`;break;case"ENDS_WITH":case"ENDS_WITH_CASE_SENSITIVE":n=`*${t}`;break;case"EQUAL":case"EQUAL_CASE_SENSITIVE":n=t;break;case"NULL":n=null;break;case"NOT_NULL":n=null,a="notEqual";break;case"NOT_EQUAL":n=t,a="notEqual";break;case"LESS_THAN":n=t,a="lessThan";break;case"LESS_THAN_OR_EQUAL":n=t,a="lessThanOrEqual";break;case"GREATER_THAN":n=t,a="greaterThan";break;case"GREATER_THAN_OR_EQUAL":n=t,a="greaterThanOrEqual"}return`                <customFilter val="${n}" operator="${a}"/>\n`}getCustomRowHeight(t){const e=this;return e.style&&(e.rowHeight[t]||e.defaultRowHeight)||""}getDatafields(t){const e=t[0],n=[];for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&"_"!==a.charAt(0)&&n.push(a);this.datafields=n}getFilters(){const t=this,e=t.filterBy;if(!e)return"";let n="";for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=t.datafields.indexOf(a);if(-1===s)continue;const o=e[a],d=o.filters;n+=`        <filterColumn colId="${s}">\n            <customFilters and="${!o.operator}">\n`;for(let f=0;f<d.length;f++)n+=t.getCustomFilter(d[f].value,d[f].condition);n+="            </customFilters>\n        </filterColumn>"}return n?(n=`\n    <autoFilter ref="A1:${t.columnsArray[t.columnsArray.length-1]+t.data.length}">\n${n}\n    </autoFilter>`,n):""}getGroupLabels(t){const e=this,n=void 0!==e.xlsxStartIndex?e.xlsxStartIndex:+e.exportHeader,a={},s=[];for(let o=n;o<t.length;o++){const d=t[o];for(let f=0;f<e.groupBy.length;f++){const m=e.groupBy[f],u=d[m];let y=a[m];void 0===y&&(a[m]={},y=a[m]),void 0===y[u]&&(y[u]=(e.exportHeader?t[n-1][m]:m)+": "+u,s.push(y[u]))}}e.groups=a,e.groupLabels=s}getHTMLHeader(t,e){const n=this;let a="\n        <thead>\n";if(!n.complexHeader){a+="            <tr>\n";for(let s=0;s<t.length;s++){const o=t[s];a+=`                <th class="header header${o}">${e[0][o]}</th>\n`}return a+="            </tr>\n        </thead>",a}for(let s=0;s<n.complexDataFieldsHeader.length;s++){const o=n.complexDataFieldsHeader[s];a+="            <tr>\n";for(let d=0;d<o.length;d++){const f=o[d];let m=1,u=1;if(o[d-1]&&o[d-1]===f||n.complexDataFieldsHeader[s-1]&&n.complexDataFieldsHeader[s-1][d]===f)continue;let y=d+1;for(;o[y]&&o[y]===o[y-1];)m++,y++;for(y=s+1;n.complexDataFieldsHeader[y]&&n.complexDataFieldsHeader[y][d]===f;)u++,y++;a+=`                <th class="header${s===n.complexHeader.length-1||u+s===n.complexHeader.length?" header"+t[d]:""}" colspan="${m}" rowspan="${u}">${n.complexHeader[s][d]}</th>\n`}a+="            </tr>\n"}return a+="        </thead>",a}getConditionalFormatting(){const t=this,e=t.conditionalFormatting;if(!e)return void(t.conditionalFormattingXLSX={conditions:"",styles:""});const n=[];let a="",s="";for(let o=e.length-1;o>=0;o--){const d=e[o],f=t.columnsArray[t.datafields.indexOf(d.column)],m=f+(t.xlsxStartIndex+1),u=m+":"+f+t.data.length,y=d.background+d.color,v=t.getConditionalAttributes(d,m);let b=n.indexOf(y);-1===b&&(s+=`        <dxf>\n            <font>\n                <b val="0"/>\n                <i val="0"/>\n                <color rgb="${"White"===d.color?"FFFFFFFF":"FF000000"}"/>\n                <sz val="10"/>\n            </font>\n            <fill>\n                <patternFill>\n                    <bgColor rgb="${t.toARGB(d.background)}"/>\n                </patternFill>\n            </fill>\n        </dxf>\n`,b=n.length,n.push(y)),a+=`    <conditionalFormatting sqref="${u}">\n        <cfRule dxfId="${b}" text="${v.text}" rank="${v.rank}" percent="${v.percent}" bottom="${v.bottom}" equalAverage="${v.equalAverage}" aboveAverage="${v.aboveAverage}"${v.operator}${v.timePeriod} priority="${o+2}" type="${v.type}">\n${v.formula}        </cfRule>\n    </conditionalFormatting>\n`}s=`    <dxfs count="${n.length}">\n${s}    </dxfs>`,t.conditionalFormattingXLSX={conditions:a,styles:s}}getConditionalAttributes(t,e){let a=t.comparator,s="",o=0,d=0,f=0,m=0,u="",y="",v="",b="";switch(t.condition){case"equal":u="equal",v="cellIs",b=`            <formula>${a}</formula>\n`;break;case"lessThan":u="lessThan",v="cellIs",b=`            <formula>${a}</formula>\n`;break;case"greaterThan":u="greaterThan",v="cellIs",b=`            <formula>${a}</formula>\n`;break;case"notEqual":u="notEqual",v="cellIs",b=`            <formula>${a}</formula>\n`;break;case"between":u="between",v="cellIs",b=`            <formula>${t.min}</formula>\n            <formula>${t.max}</formula>\n`;break;case"duplicate":v="duplicateValues",b="            <formula>0</formula>\n";break;case"topNItems":o=a,v="top10";break;case"bottomNItems":o=a,f=1,v="top10";break;case"topNPercent":o=a,d=1,v="top10";break;case"bottomNPercent":o=a,d=1,f=1,v="top10";break;case"aboveAverage":m=1,v="aboveAverage",b="            <formula>0</formula>\n";break;case"belowAverage":v="aboveAverage",b="            <formula>0</formula>\n";break;case"contains":s=a,u="containsText",v="containsText",b=`            <formula>NOT(ISERROR(SEARCH("${a}",${e})))</formula>\n`;break;case"doesNotContain":s=a,u="notContains",v="notContainsText",b=`            <formula>ISERROR(SEARCH("${a}",${e}))</formula>\n`;break;case"dateOccur":y=` timePeriod="${a}"`,v="timePeriod"}return u&&(u=` operator="${u}" `),{text:s,rank:o,percent:d,bottom:f,equalAverage:0,aboveAverage:m,operator:u,timePeriod:y,type:v,formula:b}}getMergedCells(t){const e=this;let n="";for(let a=0;a<t.length;a++)t[a].from!==t[a].to&&(n+=`\n        <mergeCell ref="${t[a].from}:${t[a].to}" />\n`);if(e.mergedCells)for(let a=0;a<e.mergedCells.length;a++){const s=e.mergedCells[a];s.rowspan<2&&s.colspan<2||(n+=`\n        <mergeCell ref="${e.columnsArray[s.cell[0]]+(s.cell[1]+e.xlsxStartIndex+1)}:${e.columnsArray[s.cell[0]+s.colspan-1]+(s.cell[1]+e.xlsxStartIndex+s.rowspan)}" />\n`)}return n&&(n=`\n    <mergeCells count="${t.length}">${n}    </mergeCells>`),n}getNumFmtIndex(t,e){let n=e.collection.indexOf(t);return-1===n?(n=e.collection.length+100,e.collection.push(t),e.xml+=`<numFmt numFmtId="${n}" formatCode="${t}"/>`):n+=100,n}getOutlineLevel(t){return this.actualHierarchy&&1!==t._level?` outlineLevel="${t._level-1}"`:""}getRowStyle(){const t=this.style;if(!t)return"";const e=t.rows;if(!e)return"";const n={row:""};let a="";for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o)||"alternationCount"===o||"alternationStart"===o||"alternationEnd"===o)continue;const d=e[o];if(-1===o.indexOf("alt"))if(isNaN(o))n.row+=Smart.Utilities.Core.toDash(o)+": "+e[o]+"; ";else{n["row"+o]||(n["row"+o]="");for(let f in d)Object.prototype.hasOwnProperty.call(d,f)&&(n["row"+o]+=Smart.Utilities.Core.toDash(f)+": "+d[f]+"; ")}else{const f=o.slice(16,17),m=o.slice(17);n["rowN"+f]||(n["rowN"+f]=""),n["rowN"+f]+="Color"===m?"color : "+d+"; ":"BorderColor"===m?"border-color : "+d+"; ":"background-color : "+d+"; "}}let s=Object.keys(n);s.sort(function(o,d){if("row"===o)return-1;if("row"===d)return 1;const f=!isNaN(o.slice(3)),m=!isNaN(d.slice(3));return f&&!m?1:!f&&m?-1:+(o<d)});for(let o=0;o<s.length;o++)a+=`        .${s[o]} { ${n[s[o]]}}\n`;return a}getTableStyle(){const t=this.style;if(!t)return' style="table-layout: fixed; border: 1px solid black; border-collapse: collapse;"';let e="table-layout: fixed; ";for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===["header","columns","rows","removeDefault","custom"].indexOf(n)&&(e+=Smart.Utilities.Core.toDash(n)+": "+t[n]+"; ");return e&&(e=' style="'+e+'"'),e}getXLSXCellStyle(t){return void 0!==this.cellStyleMapping[t]?` s="${this.cellStyleMapping[t]}"`:""}getXLSXFormat(t,e){if("number"==typeof e){if(!/^([a-zA-Z]\d*)$/g.test(t))return t;let n=parseFloat(t.slice(1))||0,a=n>0?"."+"0".repeat(n):"";switch(t=t.slice(0,1)){case"C":case"c":return"$#,0"+a;case"D":case"d":return n?"0".repeat(n):"0";case"E":case"e":return"0"+a+t+"000";case"F":case"f":return"0"+a;case"N":case"n":return"#,0"+a;case"P":case"p":return"#,0"+a+" %";default:return}}else if(e instanceof Date){switch(t){case"d":return"m/d/yyyy";case"D":return"nnnnmmmm dd, yyyy";case"t":return"h:m AM/PM";case"T":return"h:mm:ss AM/PM";case"f":return"nnnnmmmm dd, yyyy h:m AM/PM";case"F":return"nnnnmmmm dd, yyyy h:mm:ss AM/PM";case"M":return"mmmm d";case"Y":return"yyyy mmmm";case"FP":case"PP":return"yyyy-mm-dd hh:mm:ss";case"FT":case"PT":return"hh:mm:ss"}return(t=(t=(t=t.replace(/f|u|n|p|e|a|x|o/gi,"")).replace(/tt/gi,"AM/PM")).replace(/:{2,}|:\s|:$|\.$/g,"")).trim()}}processColumnStyle(t){const e=this,n=t.header,a=t.columns,s=e.data[0],o=e.xlsxStartIndex;if(e.columnWidth=[],o&&n)for(let d=0;d<e.columnsArray.length;d++){const f=e.columnsArray[d],m=f+o,u=n[e.datafields[d]];for(let y in n)if(Object.prototype.hasOwnProperty.call(n,y)&&void 0===s[y])if(e.complexHeader)for(let v=0;v<e.complexHeader.length;v++)"height"!==y?e.storeCellStyle(f+(v+1),y,n[y]):e.rowHeight[v]=` ht="${parseFloat(n.height)/e.complexHeader.length/2}"`;else{if("height"===y){e.rowHeight[0]=` ht="${parseFloat(n.height)/2}"`;continue}e.storeCellStyle(m,y,n[y])}if(u)for(let y in u)if(Object.prototype.hasOwnProperty.call(u,y)){if("width"===y){e.columnWidth[d]=u.width;continue}e.storeCellStyle(m,y,u[y])}}else if(n)for(let d=0;d<e.columnsArray.length;d++){const f=n[e.datafields[d]];f&&void 0!==f.width&&(e.columnWidth[d]=f.width)}if(!a)return"";for(let d=o;d<e.data.length;d++)for(let f=0;f<e.columnsArray.length;f++){const m=e.columnsArray[f]+(d+1),u=e.datafields[f],y=a[u];for(let v in a)Object.prototype.hasOwnProperty.call(a,v)&&void 0===s[v]&&e.storeCellStyle(m,v,a[v]);if(y)for(let v in y)isNaN(v)&&Object.prototype.hasOwnProperty.call(y,v)&&e.storeCellStyle(m,v,y[v],e.data[d][u])}}processComplexHeader(t,e,n){const a=this,s={},o=-1!==["html","jpeg","pdf","png","xlsx"].indexOf(n)&&t.columngroups,d=[],f={},m={},u=[],y=[];let v=0;function b(w){for(let C=0;C<t.columngroups.length;C++){const A=t.columngroups[C];if(A.name===w)return A}}function x(w,C){const A=[];for(;w;){if(A.unshift(w[C]),!w.parentGroup)return A;w=b(w.parentGroup)}}if(o){for(let w=0;w<t.columngroups.length;w++){const C=t.columngroups[w],A=x(C,"label");f[C.name]=A,m[C.name]=x(C,"name"),v=Math.max(v,A.length)}v++;for(let w=0;w<v;w++)u[w]=[],y[w]=[]}for(let w=0;w<t.columns.length;w++){const C=t.columns[w];if(s[C.dataField]=C.label,!o||(d[w]=C.dataField,u[v-1][w]=C.label,y[v-1][w]=C.dataField,!C.columnGroup))continue;const A=f[C.columnGroup],N=m[C.columnGroup];if(A)for(let E=0;E<A.length;E++)u[E][w]=A[E],y[E][w]=N[E]}if(u.length>1){const w=Object.keys(s).length;for(let C=0;C<v-1;C++){const A={};for(let N=0;N<w;N++){if(void 0===u[C][N]){let E=C+1;for(;void 0===u[E][N];)E++;u[C][N]=u[E][N],y[C][N]=y[E][N]}A[d[N]]=u[C][N]}"xlsx"===n&&e.splice(C,0,A)}if(a.complexHeader=u,a.complexDataFieldsHeader=y,"xlsx"!==n)e.unshift(s);else{e.splice(v-1,0,s);const C={};for(let A=0;A<v;A++)for(let N=0;N<w;N++){const E=y[A][N];if(C[E]){const O=C[E].to;if(A-O[0]>1||N-O[1]>1){C[E+Math.random().toString(36)]=C[E],C[E]={from:[A,N],to:[A,N]};continue}C[E].to=[A,N]}else C[E]={from:[A,N]},C[E].to=C[E].from}a.complexHeaderMergeInfo=C}}else e.unshift(s)}processHierarchicalData(t,e){const n=this,a="xlsx"!==e?+n.exportHeader:n.xlsxStartIndex,s={},o=[];let d=0,f=!1;if(void 0===t[a]._keyDataField)return n.processNestedData(t,e,a);for(let m=a;m<t.length;m++){const u=Object.assign({},t[m]);let y=u._parentDataField;void 0===y&&(y=null),void 0===s[y]?s[y]=[u]:s[y].push(u)}if(a)for(let m=0;m<a;m++)o.push(Object.assign({},t[m])),-1===["json","pdf","xml"].indexOf(e)&&(o[m]._level=1);return"json"!==e&&"xml"!==e?function m(u,y,v){const b=s[u];if(d=Math.max(d,y),void 0!==b)for(let x=0;x<b.length;x++){const w=b[x],C=w._keyDataField;w._collapsed=v,w._level=y,o.push(w),s[C]&&(f=!0,w._expanded=void 0===w._expanded||w._expanded,m(C,y+1,v||!w._expanded))}}(null,1,!1):function m(u,y,v){const b=s[u];if(d=Math.max(d,y),void 0!==b)for(let x=0;x<b.length;x++){const w=b[x],C=w._keyDataField;let A;if("json"===e){A={};for(let N in w)Object.prototype.hasOwnProperty.call(w,N)&&"_"!==N.charAt(0)&&(A[N]=w[N])}else A=Object.assign({},w);v.push(A),s[C]&&(f=!0,A.rows=[],m(C,y+1,A.rows))}}(null,1,o),f||(n.actualHierarchy=!1),n.maxLevel=d,o}processNestedData(t,e,n){const s=[];let o=0,d=!1;if(n)for(let f=0;f<n;f++)s.push(Object.assign({},t[f])),-1===["json","pdf","xml"].indexOf(e)&&(s[f]._level=1);return"json"!==e&&"xml"!==e?function f(m,u,y,v){o=Math.max(o,y);for(let b=m;b<u.length;b++){const x=Object.assign({},u[b]);x._collapsed=v,x._level=y,s.push(x),x.children&&x.children.length>0&&(d=!0,x._expanded=void 0===x._expanded||x._expanded,f(0,x.children,y+1,v||!x._expanded)),delete x.children}}(n,t,1,!1):function f(m,u,y,v){o=Math.max(o,v);for(let b=m;b<u.length;b++){const x=Object.assign({},u[b]);1===v?s[b]=x:y[b]=x,x.children&&x.children.length>0&&(d=!0,x.rows=[],f(0,x.children,x.rows,v+1)),delete x.children}}(n,t,void 0,1),d||(this.actualHierarchy=!1),this.maxLevel=o,s}processRowStyle(t){const e=this,n=t.rows;if(e.rowHeight=[],!n)return;const a=e.xlsxStartIndex;function s(o,d,f){for(let m=0;m<e.columnsArray.length;m++)e.storeCellStyle(e.columnsArray[m]+(o+1+a),d,f)}n.height&&(e.defaultRowHeight=` ht="${parseFloat(n.height)/2}"`);for(let o=a;o<e.data.length;o++){const d=o-a;for(let f in n)Object.prototype.hasOwnProperty.call(n,f)&&-1===f.indexOf("alt")&&isNaN(f)&&"height"!==f&&s(d,f,n[f]);if(n.alternationCount&&((void 0===n.alternationStart||d>=n.alternationStart)&&(void 0===n.alternationEnd||d<=n.alternationEnd)||n.alternationStart===n.alternationEnd)){const f=(d-(n.alternationStart||0))%n.alternationCount;n[`alternationIndex${f}Color`]&&s(d,"color",n[`alternationIndex${f}Color`]),n[`alternationIndex${f}BorderColor`]&&s(d,"borderColor",n[`alternationIndex${f}BorderColor`]),n[`alternationIndex${f}BackgroundColor`]&&s(d,"backgroundColor",n[`alternationIndex${f}BackgroundColor`])}if(n[d])for(let f in n[d])if(Object.prototype.hasOwnProperty.call(n[d],f)){if("height"===f){e.rowHeight[o]=` ht="${parseFloat(n[d].height)/2}"`;continue}s(d,f,n[d][f])}}}storeCellStyle(t,e,n){const a=this.styleMap[t];switch(e){case"backgroundColor":a.fills.fgColor=n;break;case"color":a.fonts.color=n;break;case"fontFamily":a.fonts.name=n.replace(/"/g,"'");break;case"fontSize":a.fonts.sz=parseFloat(n);break;case"fontStyle":"italic"===n?a.fonts.i=!0:delete a.fonts.i;break;case"fontWeight":"bold"===n?a.fonts.b=!0:delete a.fonts.b;break;case"numFmt":a.numFmt=n;break;case"textAlign":a.alignment.horizontal=n;break;case"textDecoration":"underline"===n?a.fonts.u=!0:delete a.fonts.u;break;case"verticalAlign":"middle"===n&&(n="center"),a.alignment.vertical=n}}toARGB(t){t=t.replace(/\s/g,"");const e=/rgb\((\d+),(\d+),(\d+)\)/gi.exec(t);if(null!==e){const s=parseFloat(e[1]).toString(16).toUpperCase(),o=parseFloat(e[2]).toString(16).toUpperCase(),d=parseFloat(e[3]).toString(16).toUpperCase();return"FF"+"0".repeat(2-s.length)+s+"0".repeat(2-o.length)+o+"0".repeat(2-d.length)+d}const n=/rgba\((\d+),(\d+),(\d+)\,(\d*.\d+|\d+)\)/gi.exec(t);if(null!==n){const s=Math.round(255*parseFloat(n[4])).toString(16).toUpperCase(),o=parseFloat(n[1]).toString(16).toUpperCase(),d=parseFloat(n[2]).toString(16).toUpperCase(),f=parseFloat(n[3]).toString(16).toUpperCase();return"0".repeat(2-s.length)+s+"0".repeat(2-o.length)+o+"0".repeat(2-d.length)+d+"0".repeat(2-f.length)+f}const a=/^#(.)(.)(.)$/gi.exec(t);if(null!==a){const s=a[1].toUpperCase(),o=a[2].toUpperCase(),d=a[3].toUpperCase();return"FF"+s+s+o+o+d+d}return"FF"+t.toUpperCase().slice(1)}toggleableFunctionality(){const t=this;return t.actualHierarchy?`\n    <style type="text/css">\n        .toggle-element {\n            width: 5px;\n            height: 1px;\n            padding-right: 5px;\n            float: left;\n            text-align: right;\n            cursor: pointer;\n            user-select: none;\n        }\n\n        .collapsed {\n            display: none;\n        }\n    </style>\n    <script type="text/javascript">\n        window.onload = function () {\n            var expandChar = '${t.expandChar}',\n                collapseChar = '${t.collapseChar}',\n                toggleElements = document.getElementsByClassName('toggle-element');\n\n            function getParent(child) {\n                var prevSibling = child.previousElementSibling;\n\n                while (prevSibling) {\n                    if (child.getAttribute('level') > prevSibling.getAttribute('level')) {\n                        return prevSibling;\n                    }\n\n                    prevSibling = prevSibling.previousElementSibling;\n                }\n\n            }\n\n            function getFirstCollapsedAncestor(child) {\n                var parent = getParent(child);\n\n                while (parent) {\n                    if (parent.firstElementChild.firstElementChild.innerHTML === expandChar) {\n                        return parent;\n                    }\n\n                    parent = getParent(parent);\n                }\n            }\n\n            for (var i = 0; i < toggleElements.length; i++) {\n                toggleElements[i].addEventListener('click', function (event) {\n                    var expanded = this.innerHTML === collapseChar,\n                        row = this.parentElement.parentElement,\n                        sibling = row.nextElementSibling;\n\n                    if (expanded) {\n                        this.innerHTML = expandChar;\n                    }\n                    else {\n                        this.innerHTML = collapseChar;\n                    }\n\n                    while (sibling && row.getAttribute('level') < sibling.getAttribute('level')) {\n                        if (expanded) {\n                            sibling.style.display = 'none';\n                        }\n                        else {\n                            var firstCollapsedAncestor = getFirstCollapsedAncestor(sibling);\n\n                            if (!firstCollapsedAncestor || firstCollapsedAncestor === row) {\n                                sibling.classList.remove('collapsed');\n                                sibling.style.display = null;\n                            }\n\n                        }\n\n                        sibling = sibling.nextElementSibling;\n                    }\n                });\n            }\n        }\n    <\/script>`:""}generateStyles(t){const e=this;if(e.cellStyleMapping={},0===Object.keys(t).length&&!e.complexHeader)return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision"><fonts count="1" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><charset val="204"/><scheme val="minor"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>${e.conditionalFormattingXLSX.styles||'<dxfs count="0"/>'}<tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>`;e.styleMap={};for(let f=0;f<e.data.length;f++)for(let m=0;m<e.columnsArray.length;m++)e.styleMap[e.columnsArray[m]+(f+1)]={numFmts:{},fonts:{},fills:{},borders:{},alignment:{}};if(t&&t.columns)for(let f=0;f<e.columnsArray.length;f++){const m=e.datafields[f];if(!t.columns[m]||!t.columns[m].format)continue;const u=e.getXLSXFormat(t.columns[m].format,e.data[1][m]),y=e.getXLSXFormat(t.columns[m].format,e.data[e.data.length-1][m]);y?t.columns[m].numFmt=y:u&&(t.columns[m].numFmt=u)}e.processRowStyle(t),e.processColumnStyle(t);const n={};for(let f=0;f<e.complexHeaderMergedCells.length;f++){const m=e.complexHeaderMergedCells[f];parseFloat(m.to[1])!==e.complexHeader.length?(e.styleMap[m.from].alignment.horizontal="center",e.styleMap[m.from].alignment.vertical="center"):n[m.to]=m.from}const a={xml:'<font><sz val="11" /><color theme="1" /><name val="Calibri" /><family val="2" /><charset val="204" /><scheme val="minor" /></font>',collection:["default"]},s={xml:'<fill><patternFill patternType="none" /></fill><fill><patternFill patternType="gray125" /></fill>',collection:["default","gray125"]},o={xml:"",collection:[]},d={xml:'<xf fontId="0" fillId="0" borderId="1"/>',collection:["default"]};for(let f=0;f<e.data.length;f++)for(let m=0;m<e.columnsArray.length;m++){const u=e.columnsArray[m]+(f+1),y=e.styleMap[u];let v="",b="",x="",w=[],C=[],A=[],N=[];for(let O in y.fonts)if(Object.prototype.hasOwnProperty.call(y.fonts,O)){const I=y.fonts[O];switch(O){case"color":w[0]=I,v+=`<color rgb="${e.toARGB(I)}" />`;break;case"name":w[1]=I,v+=`<name val="${I}" />`;break;case"sz":w[2]=I,v+=`<sz val="${I}" />`;break;case"i":w[3]=I,v+="<i />";break;case"b":w[4]=I,v+="<b />";break;case"u":w[5]=I,v+="<u />"}}for(let O in y.fills)if(Object.prototype.hasOwnProperty.call(y.fills,O)){const I=y.fills[O];"fgColor"===O&&(C[0]=I,b+=`<fgColor rgb="${e.toARGB(I)}" />`)}for(let O in y.alignment)if(Object.prototype.hasOwnProperty.call(y.alignment,O)){const I=y.alignment[O];switch(O){case"horizontal":A[0]=I,x+=`horizontal="${I}" `;break;case"vertical":A[1]=I,x+=`vertical="${I}" `}}if(w=w.toString(),C=C.toString(),""!==v){let O=a.collection.indexOf(w);-1===O&&(O=a.collection.length,a.xml+="<font>"+v+"</font>",a.collection.push(w)),N[0]=O}if(""!==b){let O=s.collection.indexOf(C);-1===O&&(O=s.collection.length,s.xml+='<fill><patternFill patternType="solid">'+b+"</patternFill></fill>",s.collection.push(C)),N[1]=O}A.length>0&&(N[2]=x),void 0!==y.numFmt&&(N[3]=e.getNumFmtIndex(y.numFmt,o));const E=N.toString();if(""!==E){let O=d.collection.indexOf(E);if(-1===O){let I="<xf ";O=d.collection.length,void 0!==N[0]&&(I+=`fontId="${N[0]}" `),void 0!==N[1]&&(I+=`fillId="${N[1]}" `),void 0!==N[3]&&(I+=`numFmtId="${N[3]}" `),I+=void 0!==N[2]?`applyAlignment="1" borderId="1"><alignment ${x}/></xf>`:' borderId="1"/>',d.xml+=I,d.collection.push(E)}e.cellStyleMapping[n[u]||u]=O}}return o.collection.length&&(o.xml=`<numFmts count="${o.collection.length}">${o.xml}</numFmts>`),`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2 xr" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision">${o.xml}<fonts count="${a.collection.length}" x14ac:knownFonts="1">${a.xml}</fonts><fills count="${s.collection.length}">${s.xml}</fills><borders count="2"><border><left/><right/><top/><bottom/></border><border><left style="hair"/><right style="hair"/><top style="hair"/><bottom style="hair"/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="${d.collection.length}">${d.xml}</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>${e.conditionalFormattingXLSX.styles}<dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>`}})},9135:()=>{Smart("smart-scroll-bar",class extends Smart.BaseElement{static get properties(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}static get styleUrls(){return["smart.scrollbar.css"]}template(){return'<div id="container" class="smart-container" role="presentation">\n                    <div id="nearButton" class="smart-scroll-button smart-arrow-left" role="presentation" aria-hidden="true"></div>\n                    <div  id="track" class="smart-track" role="presentation">\n                        <div id="thumb" class="smart-thumb" role="presentation"></div>\n                    </div>\n                    <div id="farButton" class="smart-scroll-button smart-arrow-right" role="presentation" aria-hidden="true"></div>\n            </div>'}static get listeners(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}_updateInBoundsFlag(t){const n=t.target;n._isPointerInBounds=!0,-1!==t.type.indexOf("leave")&&(n._isPointerInBounds=!1),1!==("buttons"in t?t.buttons:t.which)&&this._stopRepeat(t)}_startRepeat(t){const e=this;if(e.disabled)return;const n=t.target;n._initialTimer||(n._initialTimer=setTimeout(function(){n._repeatTimer=setInterval(()=>{n._isPointerInBounds&&n.$.fireEvent("click",{buttons:"buttons"in t?t.buttons:t.which,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY})},e.clickRepeatDelay)},3*e.clickRepeatDelay))}_stopRepeat(t){if(this.disabled)return;const e=t.target;e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null)}_calculateThumbSize(t){const e=this,n=e.max-e.min;let s=0;return n>=1&&("horizontal"===e.orientation?e.$.track.offsetWidth>10:e.$.track.offsetHeight>10)?(s=t/(n+t)*t,e.$.thumb.className.indexOf("smart-hidden")>=0&&e.$thumb.removeClass("smart-hidden")):e.$thumb.addClass("smart-hidden"),Math.max(10,Math.min(s,t))}_dragStartHandler(t){const e=this;e.disabled||(e.thumbCapture=!0,e.dragStartX=t.clientX,e.dragStartY=t.clientY,e.dragStartValue=e.value,t.stopPropagation(),t.preventDefault())}_dragHandler(t){const e=this;if(!0!==e.thumbCapture)return;e._isThumbDragged=!0;const n=(e.max-e.min)/(e.scrollBarSize-e.thumbSize),a="horizontal"===e.orientation?(t.clientX-e.dragStartX)*n:(t.clientY-e.dragStartY)*n;let s=a;e.rightToLeft&&"horizontal"===e.orientation&&(s=-a),e._updateValue(e.dragStartValue+s),t.stopPropagation(),t.preventDefault(),t.originalEvent&&(t.originalEvent.stopPropagation(),t.originalEvent.preventDefault())}_dragEndHandler(t){const e=this;e._trackDownTimer&&(clearInterval(e._trackDownTimer),e._trackDownTimer=null),e.thumbCapture&&(e.thumbCapture=!1,e._isThumbDragged=!1,"switchWhenReleased"===e.mechanicalAction?e._updateValue(e.dragStartValue,e.value):"switchUntilReleased"===this.mechanicalAction&&e._updateValue(e.dragStartValue),t.preventDefault(),t.stopPropagation(),t.originalEvent.preventDefault(),t.originalEvent.stopPropagation())}_farButtonClickHandler(){const t=this;if(t.disabled)return;const e=t.value;t._updateValue(t.value+("horizontal"===t.orientation&&t.rightToLeft?-1:1)*t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}_nearButtonClickHandler(){const t=this;if(t.disabled)return;const e=t.value;t._updateValue(t.value-("horizontal"===t.orientation&&t.rightToLeft?-1:1)*t.step),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(e)}propertyChangedHandler(t,e,n){super.propertyChangedHandler(t,e,n);const a=this;switch(t){case"min":case"max":case"orientation":case"showButtons":a._layout(),"min"===t?a.setAttribute("aria-valuemin",n):"max"===t?a.setAttribute("aria-valuemax",n):"orientation"===t&&a.setAttribute("aria-orientation",n);break;case"value":a._updateValue(e,n);break;default:a._layout()}}render(){const t=this;t.setAttribute("role","scrollbar"),t.setAttribute("aria-orientation",t.orientation),t.setAttribute("aria-valuemin",t.min),t.setAttribute("aria-valuemax",t.max),t.setAttribute("aria-valuenow",t.value),t._layout(),super.render()}_resizeHandler(){this._layout()}refresh(){this._layout()}beginUpdate(){this._isUpdating=!0}endUpdate(){this._isUpdating=!1,this.refreshValue()}refreshValue(){const t=this;t._layout(),t._updateValue(t.value)}_layout(){const t=this;t._isUpdating||(t.scrollBarSize="horizontal"===t.orientation?t.$.track.offsetWidth:t.$.track.offsetHeight,t.thumbSize=t._calculateThumbSize(t.scrollBarSize),"horizontal"===t.orientation&&t.$.thumb.style.width!==t.thumbSize+"px"?t.$.thumb.style.width=t.thumbSize+"px":"vertical"===t.orientation&&t.$.thumb.style.height!==t.thumbSize+"px"&&(t.$.thumb.style.height=t.thumbSize+"px"),"horizontal"===t.orientation?(t.$.nearButton.classList.contains("smart-arrow-up")&&t.$.nearButton.classList.remove("smart-arrow-up"),t.$.farButton.classList.contains("smart-arrow-down")&&t.$.farButton.classList.remove("smart-arrow-down"),t.$.nearButton.classList.contains("smart-arrow-left")||t.$.nearButton.classList.add("smart-arrow-left"),t.$.farButton.classList.contains("smart-arrow-right")||t.$.farButton.classList.add("smart-arrow-right")):(t.$.nearButton.classList.contains("smart-arrow-left")&&t.$.nearButton.classList.remove("smart-arrow-left"),t.$.farButton.classList.contains("smart-arrow-right")&&t.$.farButton.classList.remove("smart-arrow-right"),t.$.nearButton.classList.contains("smart-arrow-up")||t.$.nearButton.classList.add("smart-arrow-up"),t.$.farButton.classList.contains("smart-arrow-down")||t.$.farButton.classList.add("smart-arrow-down")),t._updateThumbPosition(),(t.value>t.max||t.value<t.min)&&t._updateValue(t.value,t.value>t.max?t.max:t.min))}_selectStartHandler(t){this.thumbCapture&&t.preventDefault()}_trackDownHandler(t){const e=this;t.target===e.$.track&&(e._trackDownTimer&&clearInterval(e._trackDownTimer),e.thumbCapture||(e._trackDownTimer=setInterval(function(){e._trackClickHandler(t)},e.clickRepeatDelay),t.stopPropagation(),t.preventDefault()))}_trackClickHandler(t){const e=this;if(e.disabled)return;if(e._isThumbDragged)return clearInterval(e._trackDownTimer),void(e._trackDownTimer=null);const n=e.$.thumb.getBoundingClientRect(),a=t.pageX-window.pageXOffset,s=t.pageY-window.pageYOffset,o=(e.rightToLeft?-1:1)*e.value;"horizontal"===e.orientation?a>(e._isThumbDragged?e.dragStartX:n.right)?e._updateValue(e.value+(e.rightToLeft?-1:1)*e.largeStep):a<(e._isThumbDragged?e.dragStartX:n.left)&&e._updateValue(e.value-(e.rightToLeft?-1:1)*e.largeStep):s>(e._isThumbDragged?e.dragStartY:n.bottom)?e._updateValue(e.value+e.largeStep):s<(e._isThumbDragged?e.dragStartY:n.top)&&e._updateValue(e.value-e.largeStep),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(o)}_trackMoveHandler(t){"touchmove"===t.originalEvent.type&&t.originalEvent.preventDefault()}_updateValue(t,e){const n=this;if(!n._isUpdating&&(1===arguments.length&&(e=t,t=n.value),(void 0===e||isNaN(e))&&(e=n.min),e>n.max&&(e=n.max),e<n.min&&(e=n.min),n.value=e,t!==e)){if(n.setAttribute("aria-valuenow",e),n._updateThumbPosition(),n.thumbCapture&&"switchWhenReleased"===n.mechanicalAction)return;if(n.onChange)return void n.onChange({value:n.value,oldValue:t,min:n.min,max:n.max,context:n});n.$.fireEvent("change",{value:n.value,oldValue:t,min:n.min,max:n.max})}}_updateThumbPosition(){const t=this,e="horizontal"===t.orientation?t.$.track.offsetWidth:t.$.track.offsetHeight,n=t._calculateThumbSize(e);let s=(e-n)/(t.max-t.min)*(t.value-t.min);t.rightToLeft&&"horizontal"===t.orientation&&(s=(e-n)/(t.max-t.min)*(t.max-t.value-t.min)),s=Math.min(e-n,Math.max(0,s)),"vertical"===t.orientation&&t.$.thumb.style.top!==s+"px"?t.$.thumb.style.top=s+"px":"horizontal"===t.orientation&&t.$.thumb.style.left!==s+"px"&&(t.$.thumb.style.left=s+"px")}})}},he={};function ne(t){var e=he[t];if(void 0!==e)return e.exports;var n=he[t]={exports:{}};return ue[t](n,n.exports,ne),n.exports}ne.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return ne.d(e,{a:e}),e},ne.d=(t,e)=>{for(var n in e)ne.o(e,n)&&!ne.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},ne.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";ne(6321),ne(2612),ne(9135),ne(6057),ne(9613),ne(7799),ne(2157),ne(7177),ne(6541),ne(8243),ne(6802),Smart,Smart})()})();